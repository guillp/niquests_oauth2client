
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>requests_oauth2client</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#supported-client-authentication-methods" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="requests_oauth2client" class="md-header__button md-logo" aria-label="requests_oauth2client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            requests_oauth2client
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/guillp/requests_oauth2client/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    requests_oauth2client
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="." class="md-tabs__link md-tabs__link--active">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="installation/" class="md-tabs__link">
      Installation
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="usage/" class="md-tabs__link">
      Usage
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="api/" class="md-tabs__link">
      API
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="contributing/" class="md-tabs__link">
      Contributing
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="authors/" class="md-tabs__link">
      Authors
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="history/" class="md-tabs__link">
      Changelog
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="requests_oauth2client" class="md-nav__button md-logo" aria-label="requests_oauth2client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    requests_oauth2client
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/guillp/requests_oauth2client/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    requests_oauth2client
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-client-authentication-methods" class="md-nav__link">
    Supported Client Authentication Methods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-exchange" class="md-nav__link">
    Token Exchange
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-revocation" class="md-nav__link">
    Token Revocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-introspection" class="md-nav__link">
    Token Introspection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#userinfo-requests" class="md-nav__link">
    UserInfo Requests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializing-an-oauth2client-from-a-discovery-document" class="md-nav__link">
    Initializing an OAuth2Client from a discovery document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specialized-api-client" class="md-nav__link">
    Specialized API Client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendor-specific-clients" class="md-nav__link">
    Vendor-Specific clients
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="authors/" class="md-nav__link">
        Authors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="history/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-client-authentication-methods" class="md-nav__link">
    Supported Client Authentication Methods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-exchange" class="md-nav__link">
    Token Exchange
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-revocation" class="md-nav__link">
    Token Revocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-introspection" class="md-nav__link">
    Token Introspection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#userinfo-requests" class="md-nav__link">
    UserInfo Requests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializing-an-oauth2client-from-a-discovery-document" class="md-nav__link">
    Initializing an OAuth2Client from a discovery document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specialized-api-client" class="md-nav__link">
    Specialized API Client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendor-specific-clients" class="md-nav__link">
    Vendor-Specific clients
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/guillp/requests_oauth2client/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Home</h1>
                
                <!-- BEGIN INCLUDE ../README.md   -->
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>A Python OAuth <span class="m">2</span>.x client, able to obtain, refresh and revoke tokens from any OAuth2.x/OIDC compliant Authorization
Server.

It can act as an <span class="o">[</span>OAuth <span class="m">2</span>.0<span class="o">](</span>https://tools.ietf.org/html/rfc6749<span class="o">)</span> /
<span class="o">[</span><span class="m">2</span>.1<span class="o">](</span>https://datatracker.ietf.org/doc/draft-ietf-oauth-v2-1<span class="o">)</span> client, to automatically get and renew access tokens,
based on the
<span class="o">[</span>Client Credentials<span class="o">](</span>https://www.ietf.org/archive/id/draft-ietf-oauth-v2-1-03.html#name-client-credentials<span class="o">)</span>,
<span class="o">[</span>Authorization Code<span class="o">](</span>https://www.ietf.org/archive/id/draft-ietf-oauth-v2-1-03.html#name-authorization-code<span class="o">)</span>,
<span class="o">[</span>Refresh token<span class="o">](</span>https://www.ietf.org/archive/id/draft-ietf-oauth-v2-1-03.html#name-refresh-token<span class="o">)</span>,
<span class="o">[</span>Device Authorization<span class="o">](</span>https://datatracker.ietf.org/doc/html/rfc8628<span class="o">)</span>, or
<span class="o">[</span>CIBA<span class="o">](</span>https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html<span class="o">)</span> grants.

It sits upon and extend the famous <span class="o">[</span>requests<span class="o">]</span> library to handle
<span class="o">[</span>OAuth <span class="m">2</span>.0 Bearer Token based authorization when accessing APIs.<span class="o">](</span>https://www.ietf.org/archive/id/draft-ietf-oauth-v2-1-02.html#name-accessing-protected-resourc<span class="o">)</span>

It also supports <span class="o">[</span>OpenID Connect <span class="m">1</span>.0<span class="o">](</span>https://openid.net/specs/openid-connect-core-1_0.html<span class="o">)</span>,
<span class="o">[</span>PKCE<span class="o">](</span>https://tools.ietf.org/html/rfc7636<span class="o">)</span>, <span class="o">[</span>Client Assertions<span class="o">](</span>https://datatracker.ietf.org/doc/html/rfc7523<span class="o">)</span>, Token
<span class="o">[</span>Revocation<span class="o">](</span>https://www.rfc-editor.org/rfc/rfc7009.html<span class="o">)</span>, <span class="o">[</span>Exchange<span class="o">](</span>https://datatracker.ietf.org/doc/html/rfc8693<span class="o">)</span>,
and <span class="o">[</span>Introspection<span class="o">](</span>https://datatracker.ietf.org/doc/html/rfc7662<span class="o">)</span>,
<span class="o">[</span>BackChannel Authentication requests<span class="o">](</span>https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html<span class="o">)</span>,
as well as using custom params to any endpoint, and other important features that are often overlooked <span class="k">in</span> other client
libraries.

And it also includes a <span class="o">[</span>wrapper<span class="o">][</span>apiclient<span class="o">]</span> around
<span class="o">[</span>requests.Session<span class="o">](</span>https://docs.python-requests.org/en/master/api/#request-sessions<span class="o">)</span> that makes it super easy to use
REST-style APIs, with or without OAuth <span class="m">2</span>.x.

<span class="c1"># Installation</span>

As easy as:

pip install requests_oauth2client
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Usage</span>

<span class="n">Import</span> <span class="n">it</span> <span class="n">like</span> <span class="n">this</span><span class="p">:</span>

<span class="kn">from</span> <span class="nn">requests_oauth2client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">requests</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">## Calling APIs with Access Tokens</span>

<span class="n">If</span> <span class="n">you</span> <span class="n">already</span> <span class="n">managed</span> <span class="n">to</span> <span class="n">obtain</span> <span class="n">an</span> <span class="n">access</span> <span class="n">token</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">simply</span> <span class="n">use</span> <span class="n">the</span> <span class="p">[</span><span class="n">BearerAuth</span><span class="p">]</span> <span class="n">Auth</span> <span class="n">Handler</span> <span class="k">for</span> <span class="err">`</span><span class="n">requests</span><span class="err">`</span><span class="p">:</span>

<span class="n">token</span> <span class="o">=</span> <span class="s2">&quot;an_access_token&quot;</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://my.protected.api/endpoint&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">BearerAuth</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">This</span> <span class="n">authentication</span> <span class="n">handler</span> <span class="n">will</span> <span class="n">add</span> <span class="n">a</span> <span class="n">properly</span> <span class="n">formatted</span> <span class="err">`</span><span class="n">Authorization</span><span class="err">`</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">request</span><span class="p">,</span> <span class="k">with</span> <span class="n">your</span> <span class="n">access</span> <span class="n">token</span>
<span class="n">according</span> <span class="n">to</span> <span class="n">RFC6750</span><span class="o">.</span>

<span class="c1">## Using an `OAuth2Client`</span>

<span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="n">offers</span> <span class="n">several</span> <span class="n">methods</span> <span class="n">that</span> <span class="n">implement</span> <span class="n">the</span> <span class="n">communication</span> <span class="n">to</span> <span class="n">the</span> <span class="n">various</span> <span class="n">endpoints</span> <span class="n">that</span> <span class="n">are</span> <span class="n">standardised</span> <span class="n">by</span>
<span class="n">OAuth</span> <span class="mf">2.0</span> <span class="ow">and</span> <span class="n">its</span> <span class="n">extensions</span><span class="o">.</span> <span class="n">Those</span> <span class="n">endpoints</span> <span class="n">include</span> <span class="n">the</span> <span class="n">Token</span> <span class="n">Endpoint</span><span class="p">,</span> <span class="n">the</span> <span class="n">Revocation</span><span class="p">,</span> <span class="n">Introspection</span><span class="p">,</span> <span class="n">UserInfo</span><span class="p">,</span>
<span class="n">BackChannel</span> <span class="n">Authentication</span> <span class="ow">and</span> <span class="n">Device</span> <span class="n">Authorization</span> <span class="n">Endpoints</span><span class="o">.</span>

<span class="n">To</span> <span class="n">initialize</span> <span class="n">an</span> <span class="p">[</span><span class="n">OAuth2Client</span><span class="p">],</span> <span class="n">you</span> <span class="n">only</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Token</span> <span class="n">Endpoint</span> <span class="n">URI</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">credentials</span> <span class="k">for</span> <span class="n">your</span> <span class="n">application</span><span class="p">,</span> <span class="n">which</span> <span class="n">are</span>
<span class="n">often</span> <span class="n">a</span> <span class="err">`</span><span class="n">client_id</span><span class="err">`</span> <span class="ow">and</span> <span class="n">a</span> <span class="err">`</span><span class="n">client_secret</span><span class="err">`</span><span class="p">:</span>

<span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://myas.local/token_endpoint&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">The</span> <span class="n">Token</span> <span class="n">Endpoint</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">only</span> <span class="n">Endpoint</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">mandatory</span> <span class="n">to</span> <span class="n">obtain</span> <span class="n">tokens</span><span class="o">.</span> <span class="n">Credentials</span> <span class="n">are</span> <span class="n">used</span> <span class="n">to</span> <span class="n">authenticate</span> <span class="n">the</span>
<span class="n">client</span> <span class="n">everytime</span> <span class="n">it</span> <span class="n">sends</span> <span class="n">a</span> <span class="n">request</span> <span class="n">to</span> <span class="n">its</span> <span class="n">Authorization</span> <span class="n">Server</span><span class="o">.</span> <span class="n">Usually</span><span class="p">,</span> <span class="n">those</span> <span class="n">are</span> <span class="n">a</span> <span class="n">static</span> <span class="n">Client</span> <span class="n">ID</span> <span class="ow">and</span> <span class="n">Secret</span><span class="p">,</span> <span class="n">which</span>
<span class="n">are</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">equivalent</span> <span class="n">of</span> <span class="n">a</span> <span class="n">username</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">password</span><span class="p">,</span> <span class="n">but</span> <span class="n">meant</span> <span class="k">for</span> <span class="n">an</span> <span class="n">application</span> <span class="n">instead</span> <span class="n">of</span> <span class="k">for</span> <span class="n">a</span> <span class="n">human</span> <span class="n">user</span><span class="o">.</span> <span class="n">The</span>
<span class="n">default</span> <span class="n">authentication</span> <span class="n">method</span> <span class="n">used</span> <span class="n">by</span> <span class="n">OAuth2Client</span> <span class="ow">is</span> <span class="o">*</span><span class="n">Client</span> <span class="n">Secret</span> <span class="n">Post</span><span class="o">*</span><span class="p">,</span> <span class="n">but</span> <span class="n">other</span> <span class="n">standardised</span> <span class="n">methods</span> <span class="n">such</span> <span class="k">as</span>
<span class="o">*</span><span class="n">Client</span> <span class="n">Secret</span> <span class="n">Basic</span><span class="o">*</span><span class="p">,</span> <span class="o">*</span><span class="n">Client</span> <span class="n">Secret</span> <span class="n">JWT</span><span class="o">*</span> <span class="ow">or</span> <span class="o">*</span><span class="n">Private</span> <span class="n">Key</span> <span class="n">JWT</span><span class="o">*</span> <span class="n">are</span> <span class="n">supported</span> <span class="k">as</span> <span class="n">well</span><span class="o">.</span> <span class="n">See</span> <span class="n">below</span><span class="o">.</span>

<span class="c1">## Obtaining tokens</span>

<span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="n">has</span> <span class="n">methods</span> <span class="n">to</span> <span class="n">send</span> <span class="n">requests</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Token</span> <span class="n">Endpoint</span> <span class="n">using</span> <span class="n">the</span> <span class="n">different</span> <span class="n">standardised</span> <span class="p">(</span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">custom</span><span class="p">)</span>
<span class="n">grants</span><span class="o">.</span> <span class="n">Since</span> <span class="n">the</span> <span class="n">token</span> <span class="n">endpoint</span> <span class="ow">and</span> <span class="n">authentication</span> <span class="n">method</span> <span class="n">are</span> <span class="n">already</span> <span class="n">declared</span> <span class="k">for</span> <span class="n">the</span> <span class="n">client</span><span class="p">,</span> <span class="n">the</span> <span class="n">only</span> <span class="n">required</span>
<span class="n">parameters</span> <span class="n">are</span> <span class="n">those</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">request</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Token</span> <span class="n">Endpoint</span><span class="o">.</span>

<span class="n">Those</span> <span class="n">methods</span> <span class="n">directly</span> <span class="k">return</span> <span class="n">a</span> <span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="k">if</span> <span class="n">the</span> <span class="n">request</span> <span class="ow">is</span> <span class="n">successful</span><span class="p">,</span> <span class="ow">or</span> <span class="k">raise</span> <span class="n">an</span> <span class="n">exception</span> <span class="k">if</span> <span class="n">it</span> <span class="n">fails</span><span class="o">.</span>
<span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="n">will</span> <span class="n">manage</span> <span class="n">the</span> <span class="n">token</span> <span class="n">expiration</span><span class="p">,</span> <span class="n">will</span> <span class="n">contain</span> <span class="n">the</span> <span class="n">eventual</span> <span class="n">refresh</span> <span class="n">token</span> <span class="n">that</span> <span class="n">matches</span> <span class="n">the</span> <span class="n">access</span> <span class="n">token</span><span class="p">,</span>
<span class="ow">and</span> <span class="n">will</span> <span class="n">keep</span> <span class="n">track</span> <span class="n">of</span> <span class="n">other</span> <span class="n">associated</span> <span class="n">metadata</span> <span class="k">as</span> <span class="n">well</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">create</span> <span class="n">such</span> <span class="n">a</span> <span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="n">yourself</span> <span class="k">if</span> <span class="n">you</span> <span class="n">need</span><span class="p">:</span>

<span class="kn">from</span> <span class="nn">requests_oauth2client</span> <span class="kn">import</span> <span class="n">BearerToken</span>

<span class="n">bearer_token</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">(</span><span class="n">access_token</span><span class="o">=</span><span class="s2">&quot;an_access_token&quot;</span><span class="p">,</span> <span class="n">expires_in</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bearer_token</span><span class="p">)</span>
<span class="c1"># &gt; {&#39;access_token&#39;: &#39;an_access_token&#39;,</span>
<span class="c1">#   &#39;expires_in&#39;: 55,</span>
<span class="c1">#   &#39;token_type&#39;: &#39;Bearer&#39;}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bearer_token</span><span class="o">.</span><span class="n">expires_at</span><span class="p">)</span>
<span class="c1"># datetime.datetime(2021, 8, 20, 9, 56, 59, 498793)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">bearer_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">Note</span> <span class="n">that</span> <span class="n">the</span> <span class="err">`</span><span class="n">expires_in</span><span class="err">`</span> <span class="n">indicator</span> <span class="n">here</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">static</span><span class="o">.</span> <span class="n">It</span> <span class="n">keeps</span> <span class="n">track</span> <span class="n">of</span> <span class="n">the</span> <span class="n">token</span> <span class="n">lifetime</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">calculated</span> <span class="k">as</span> <span class="n">the</span>
<span class="n">time</span> <span class="n">flies</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">check</span> <span class="k">if</span> <span class="n">a</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">expired</span> <span class="k">with</span>
<span class="p">[</span><span class="n">bearer_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">()](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.tokens.BearerToken.is_expired).</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">use</span> <span class="n">a</span> <span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="n">instance</span> <span class="n">anywhere</span> <span class="n">you</span> <span class="n">can</span> <span class="n">supply</span> <span class="n">an</span> <span class="n">access_token</span> <span class="k">as</span> <span class="n">string</span><span class="o">.</span>

<span class="c1">### Using OAuth2Client as a requests Auth Handler</span>

<span class="n">While</span> <span class="n">using</span> <span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="n">directly</span> <span class="ow">is</span> <span class="n">great</span> <span class="k">for</span> <span class="n">testing</span> <span class="ow">or</span> <span class="n">debugging</span> <span class="n">OAuth2</span><span class="o">.</span><span class="n">x</span> <span class="n">flows</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">viable</span> <span class="n">option</span> <span class="k">for</span>
<span class="n">actual</span> <span class="n">applications</span> <span class="n">where</span> <span class="n">tokens</span> <span class="n">must</span> <span class="n">be</span> <span class="n">obtained</span><span class="p">,</span> <span class="n">used</span> <span class="n">during</span> <span class="n">their</span> <span class="n">lifetime</span> <span class="n">then</span> <span class="n">obtained</span> <span class="n">again</span> <span class="ow">or</span> <span class="n">refreshed</span> <span class="n">once</span> <span class="n">they</span>
<span class="n">are</span> <span class="n">expired</span><span class="o">.</span> <span class="err">`</span><span class="n">requests_oauth2client</span><span class="err">`</span> <span class="n">contains</span> <span class="n">several</span> <span class="p">[</span><span class="n">requests</span><span class="p">]</span> <span class="n">compatible</span> <span class="n">Auth</span> <span class="n">Handler</span> <span class="p">(</span><span class="k">as</span> <span class="n">subclasses</span> <span class="n">of</span>
<span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">docs</span><span class="o">.</span><span class="n">python</span><span class="o">-</span><span class="n">requests</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">advanced</span><span class="o">/</span><span class="c1">#custom-authentication), that will</span>
<span class="n">take</span> <span class="n">care</span> <span class="n">of</span> <span class="n">obtaining</span> <span class="n">tokens</span> <span class="n">when</span> <span class="n">required</span><span class="p">,</span> <span class="n">then</span> <span class="n">will</span> <span class="n">cache</span> <span class="n">those</span> <span class="n">tokens</span> <span class="n">until</span> <span class="n">they</span> <span class="n">are</span> <span class="n">expired</span><span class="p">,</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">obtain</span> <span class="n">new</span>
<span class="n">ones</span> <span class="p">(</span><span class="ow">or</span> <span class="n">refresh</span> <span class="n">them</span><span class="p">,</span> <span class="n">when</span> <span class="n">possible</span><span class="p">),</span> <span class="n">once</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">expired</span><span class="o">.</span> <span class="n">Those</span> <span class="n">are</span> <span class="n">best</span> <span class="n">used</span> <span class="k">with</span> <span class="n">a</span>
\<span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span>\<span class="p">],</span> <span class="ow">or</span> <span class="n">an</span> <span class="p">[</span><span class="n">ApiClient</span><span class="p">]</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">Session</span> <span class="n">Subclass</span> <span class="k">with</span> <span class="n">a</span> <span class="n">few</span> <span class="n">enhancements</span> <span class="k">as</span> <span class="n">described</span> <span class="n">below</span><span class="o">.</span>

<span class="c1">### Client Credentials grant</span>

<span class="n">To</span> <span class="n">send</span> <span class="n">a</span> <span class="n">request</span> <span class="n">using</span> <span class="n">the</span> <span class="n">Client</span> <span class="n">Credentials</span> <span class="n">grant</span><span class="p">,</span> <span class="n">use</span> <span class="n">the</span> <span class="n">aptly</span> <span class="n">named</span>
<span class="p">[</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">()](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.client.OAuth2Client.client_credentials)</span>
<span class="n">method</span><span class="p">:</span>

<span class="n">token</span> <span class="o">=</span> <span class="n">oauth2client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span>
    <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;myscope&quot;</span><span class="p">,</span>
    <span class="n">resource</span><span class="o">=</span><span class="s2">&quot;https://myapi.local&quot;</span>
    <span class="c1"># you may pass additional kw params such as audience, or whatever your AS needs</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">#### As Auth Handler</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">use</span> <span class="n">the</span>
<span class="p">[</span><span class="n">OAuth2ClientCredentials</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.auth.OAuth2ClientCredentialsAuth)</span>
<span class="n">auth</span> <span class="n">handler</span><span class="o">.</span> <span class="n">It</span> <span class="n">takes</span> <span class="n">an</span> <span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="k">as</span> <span class="n">parameter</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">additional</span> <span class="n">kwargs</span> <span class="n">to</span> <span class="k">pass</span> <span class="n">to</span> <span class="n">the</span> <span class="n">token</span> <span class="n">endpoint</span><span class="p">:</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">OAuth2ClientCredentials</span><span class="p">(</span>
        <span class="n">oauth2client</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;myscope&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="s2">&quot;https://myapi.local&quot;</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="n">resp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">api_client</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="p">)</span>  <span class="c1"># when you send your first request to the API, it will fetch an access token first.</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">### Authorization Code Grant</span>

<span class="n">Obtaining</span> <span class="n">tokens</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Authorization</span> <span class="n">code</span> <span class="n">grant</span> <span class="ow">is</span> <span class="n">made</span> <span class="ow">in</span> <span class="mi">3</span> <span class="n">steps</span><span class="p">:</span>

<span class="mf">1.</span> <span class="n">your</span> <span class="n">application</span> <span class="n">must</span> <span class="nb">open</span> <span class="n">specific</span> <span class="n">url</span> <span class="n">called</span> <span class="n">the</span> <span class="o">*</span><span class="n">Authentication</span> <span class="n">Request</span><span class="o">*</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">browser</span><span class="o">.</span>

<span class="mf">1.</span> <span class="n">your</span> <span class="n">application</span> <span class="n">must</span> <span class="n">obtain</span> <span class="ow">and</span> <span class="n">validate</span> <span class="n">the</span> <span class="o">*</span><span class="n">Authorization</span> <span class="n">Response</span><span class="o">*</span><span class="p">,</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">redirection</span> <span class="n">back</span> <span class="n">to</span> <span class="n">your</span>
   <span class="n">application</span> <span class="n">that</span> <span class="n">contains</span> <span class="n">an</span> <span class="o">*</span><span class="n">Authorization</span> <span class="n">Code</span><span class="o">*</span> <span class="k">as</span> <span class="n">parameter</span><span class="o">.</span>

<span class="mf">1.</span> <span class="n">your</span> <span class="n">application</span> <span class="n">must</span> <span class="n">then</span> <span class="n">exchange</span> <span class="n">this</span> <span class="n">Authorization</span> <span class="n">Code</span> <span class="k">for</span> <span class="n">an</span> <span class="o">*</span><span class="n">Access</span> <span class="n">Token</span><span class="o">*</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="n">request</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Token</span>
   <span class="n">Endpoint</span><span class="o">.</span>

<span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="n">doesn</span><span class="s1">&#39;t implement anything that is related to the Authorization Request or Response. It is only able to</span>
<span class="n">exchange</span> <span class="n">the</span> <span class="n">Authorization</span> <span class="n">Code</span> <span class="k">for</span> <span class="n">a</span> <span class="n">Token</span> <span class="ow">in</span> <span class="n">step</span> <span class="mf">3.</span> <span class="n">But</span> <span class="err">`</span><span class="n">requests_oauth2client</span><span class="err">`</span> <span class="n">has</span> <span class="n">other</span> <span class="n">classes</span> <span class="n">to</span> <span class="n">help</span> <span class="n">you</span> <span class="k">with</span>
<span class="n">steps</span> <span class="mi">1</span> <span class="ow">and</span> <span class="mi">2</span><span class="p">,</span> <span class="k">as</span> <span class="n">described</span> <span class="n">below</span><span class="p">:</span>

<span class="c1">#### Generating Authorization Requests</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">generate</span> <span class="n">valid</span> <span class="n">authorization</span> <span class="n">requests</span> <span class="k">with</span> <span class="n">the</span>
<span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.authorization_request.AuthorizationRequest)</span>
<span class="n">class</span><span class="p">:</span>

<span class="n">auth_request</span> <span class="o">=</span> <span class="n">AuthorizationRequest</span><span class="p">(</span>
    <span class="n">authorization_endpoint</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">,</span>
    <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
    <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
    <span class="n">resource</span><span class="o">=</span><span class="n">resource</span><span class="p">,</span>  <span class="c1"># not mandatory</span>
<span class="p">)</span>  <span class="c1"># add any other param that needs to be sent to your AS</span>
<span class="nb">print</span><span class="p">(</span><span class="n">auth_request</span><span class="p">)</span>  <span class="c1"># redirect the user to that URL to get a code</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>This request will look like this (with line breaks for display purposes only):

https://myas.local/authorize
?client_id=my_client_id
&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fcallback
&amp;response_type=code
&amp;state=kHWL4VwcbUbtPR4mtht6yMAGG_S-ZcBh5RxI_IGDmJc
&amp;nonce=mSGOS1M3LYU9ncTvvutoqUR4n1EtmaC_sQ3db4dyMAc
&amp;scope=openid+email+profile
&amp;code_challenge=Dk11ttaDb_Hyq1dObMqQcTIlfYYRVblFMC9lFM3UWW8
&amp;code_challenge_method=S256
&amp;resource=https%3A%2F%2Fmy.resource.local%2Fapi
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="n">supports</span> <span class="n">PKCE</span> <span class="ow">and</span> <span class="n">uses</span> <span class="n">it</span> <span class="n">by</span> <span class="n">default</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">avoid</span> <span class="n">it</span> <span class="n">by</span> <span class="n">passing</span> <span class="err">`</span><span class="n">code_challenge_method</span><span class="o">=</span><span class="kc">None</span><span class="err">`</span> <span class="n">to</span>
\<span class="p">[</span><span class="n">AuthenticationRequest</span>\<span class="p">]</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">obtain</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">code_verifier</span> <span class="kn">from</span> <span class="err">`</span><span class="n">auth_request</span><span class="o">.</span><span class="n">code_verifier</span><span class="err">`</span><span class="o">.</span>

<span class="n">Redirecting</span> <span class="ow">or</span> <span class="n">otherwise</span> <span class="n">sending</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">this</span> <span class="n">url</span> <span class="ow">is</span> <span class="n">your</span> <span class="n">application</span> <span class="n">responsibility</span><span class="p">,</span> <span class="k">as</span> <span class="n">well</span> <span class="k">as</span> <span class="n">obtaining</span> <span class="n">the</span>
<span class="n">Authorization</span> <span class="n">Response</span> <span class="n">url</span><span class="o">.</span>

<span class="c1">#### Validating the Authorization Response</span>

<span class="n">Once</span> <span class="n">the</span> <span class="n">user</span> <span class="ow">is</span> <span class="n">successfully</span> <span class="n">authenticated</span> <span class="ow">and</span> <span class="n">authorized</span><span class="p">,</span> <span class="n">the</span> <span class="n">AS</span> <span class="n">will</span> <span class="n">respond</span> <span class="k">with</span> <span class="n">a</span> <span class="n">redirection</span> <span class="n">to</span> <span class="n">your</span> <span class="n">redirect_uri</span><span class="o">.</span>
<span class="n">That</span> <span class="ow">is</span> <span class="n">the</span> <span class="o">*</span><span class="n">Authorization</span> <span class="n">Response</span><span class="o">*.</span> <span class="n">It</span> <span class="n">contains</span> <span class="n">several</span> <span class="n">parameters</span> <span class="n">that</span> <span class="n">must</span> <span class="n">be</span> <span class="n">retrieved</span> <span class="n">by</span> <span class="n">your</span> <span class="n">client</span><span class="o">.</span> <span class="n">The</span>
<span class="n">authorization</span> <span class="n">code</span> <span class="ow">is</span> <span class="n">one</span> <span class="n">of</span> <span class="n">those</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">but</span> <span class="n">you</span> <span class="n">must</span> <span class="n">also</span> <span class="n">validate</span> <span class="n">that</span> <span class="n">the</span> <span class="o">*</span><span class="n">state</span><span class="o">*</span> <span class="n">matches</span> <span class="n">your</span> <span class="n">request</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span>
<span class="n">do</span> <span class="n">this</span> <span class="k">with</span><span class="p">:</span>

<span class="n">params</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Please enter the full url and/or params obtained on the redirect_uri: &quot;</span><span class="p">)</span>
<span class="n">code</span> <span class="o">=</span> <span class="n">auth_request</span><span class="o">.</span><span class="n">validate_callback</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">#### Exchanging code for tokens</span>

<span class="n">To</span> <span class="n">exchange</span> <span class="n">a</span> <span class="n">code</span> <span class="k">for</span> <span class="n">Access</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">ID</span> <span class="n">tokens</span><span class="p">,</span> <span class="n">use</span> <span class="n">the</span>
<span class="p">[</span><span class="n">OAuth2Client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">()](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.client.OAuth2Client.authorization_code)</span>
<span class="n">method</span><span class="p">:</span>

<span class="n">token</span> <span class="o">=</span> <span class="n">oauth2client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span>
    <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="n">code_verifier</span><span class="o">=</span><span class="n">auth_request</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span>
<span class="p">)</span>  <span class="c1"># redirect_uri is not always mandatory, but some AS still requires it</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">#### As Auth Handler</span>

<span class="n">The</span>
<span class="p">[</span><span class="n">OAuth2AuthorizationCodeAuth</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth)</span>
<span class="n">handler</span> <span class="n">takes</span> <span class="n">an</span> <span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]</span> <span class="ow">and</span> <span class="n">an</span> <span class="n">authorization</span> <span class="n">code</span> <span class="k">as</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">plus</span> <span class="n">whatever</span> <span class="n">additional</span> <span class="n">keyword</span> <span class="n">parameters</span> <span class="n">are</span>
<span class="n">required</span> <span class="n">by</span> <span class="n">your</span> <span class="n">Authorization</span> <span class="n">Server</span><span class="p">:</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://your.protected.api/endpoint&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">OAuth2AuthorizationCodeAuth</span><span class="p">(</span>
        <span class="n">client</span><span class="p">,</span>
        <span class="n">code</span><span class="p">,</span>
        <span class="n">code_verifier</span><span class="o">=</span><span class="n">auth_request</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="p">)</span>  <span class="c1"># first call will exchange the code for an initial access/refresh tokens</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">OAuth2AuthorizationCodeAuth</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth)</span>
<span class="n">will</span> <span class="n">take</span> <span class="n">care</span> <span class="n">of</span> <span class="n">refreshing</span> <span class="n">the</span> <span class="n">token</span> <span class="n">automatically</span> <span class="n">once</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">expired</span><span class="p">,</span> <span class="n">using</span> <span class="n">the</span> <span class="n">refresh</span> <span class="n">token</span><span class="p">,</span> <span class="k">if</span> <span class="n">available</span><span class="o">.</span>

<span class="c1">### Device Authorization Grant</span>

<span class="n">Helpers</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Device</span> <span class="n">Authorization</span> <span class="n">Grant</span> <span class="n">are</span> <span class="n">also</span> <span class="n">included</span><span class="o">.</span> <span class="n">To</span> <span class="n">get</span> <span class="n">device</span> <span class="ow">and</span> <span class="n">user</span> <span class="n">codes</span><span class="p">:</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://myas.local/token&quot;</span><span class="p">,</span>
    <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="s2">&quot;https://myas.local/device&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">da_resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorize_device</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="err">`</span><span class="n">da_resp</span><span class="err">`</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">Device</span> <span class="n">Code</span><span class="p">,</span> <span class="n">User</span> <span class="n">Code</span><span class="p">,</span> <span class="n">Verification</span> <span class="n">URI</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">info</span> <span class="n">returned</span> <span class="n">by</span> <span class="n">the</span> <span class="n">AS</span><span class="p">:</span>

<span class="n">da_resp</span><span class="o">.</span><span class="n">device_code</span>
<span class="n">da_resp</span><span class="o">.</span><span class="n">user_code</span>
<span class="n">da_resp</span><span class="o">.</span><span class="n">verification_uri</span>
<span class="n">da_resp</span><span class="o">.</span><span class="n">verification_uri_complete</span>
<span class="n">da_resp</span><span class="o">.</span><span class="n">expires_at</span>  <span class="c1"># just like for BearerToken, expiration is tracked by requests_oauth2client</span>
<span class="n">da_resp</span><span class="o">.</span><span class="n">interval</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">Send</span><span class="o">/</span><span class="n">show</span> <span class="n">the</span> <span class="n">Verification</span> <span class="n">Uri</span> <span class="ow">and</span> <span class="n">User</span> <span class="n">Code</span> <span class="n">to</span> <span class="n">the</span> <span class="n">user</span><span class="o">.</span> <span class="n">He</span> <span class="n">must</span> <span class="n">use</span> <span class="n">a</span> <span class="n">browser</span> <span class="n">to</span> <span class="n">visit</span> <span class="n">that</span> <span class="n">url</span><span class="p">,</span> <span class="n">authenticate</span> <span class="ow">and</span>
<span class="nb">input</span> <span class="n">the</span> <span class="n">User</span> <span class="n">Code</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">then</span> <span class="n">request</span> <span class="n">the</span> <span class="n">Token</span> <span class="n">endpoint</span> <span class="n">to</span> <span class="n">check</span> <span class="k">if</span> <span class="n">the</span> <span class="n">user</span> <span class="n">successfully</span> <span class="n">authorized</span> <span class="n">you</span> <span class="n">using</span> <span class="n">an</span>
<span class="p">[</span><span class="n">OAuth2Client</span><span class="p">]:</span>

<span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">device_code</span><span class="p">(</span><span class="n">da_resp</span><span class="o">.</span><span class="n">device_code</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">This</span> <span class="n">will</span> <span class="k">raise</span> <span class="n">an</span> <span class="n">exception</span><span class="p">,</span> <span class="n">either</span>
<span class="p">[</span><span class="n">AuthorizationPending</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.exceptions.AuthorizationPending),</span>
<span class="p">[</span><span class="n">SlowDown</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.exceptions.SlowDown),</span>
<span class="p">[</span><span class="n">ExpiredToken</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.exceptions.ExpiredToken), or</span>
<span class="p">[</span><span class="n">AccessDenied</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.exceptions.AccessDenied) if the</span>
<span class="n">user</span> <span class="n">did</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">finish</span> <span class="n">authorizing</span> <span class="n">your</span> <span class="n">device</span><span class="p">,</span> <span class="k">if</span> <span class="n">you</span> <span class="n">should</span> <span class="n">increase</span> <span class="n">your</span> <span class="n">pooling</span> <span class="n">period</span><span class="p">,</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">the</span> <span class="n">device</span> <span class="n">code</span> <span class="ow">is</span> <span class="n">no</span>
<span class="n">longer</span> <span class="n">valid</span><span class="p">,</span> <span class="ow">or</span> <span class="n">the</span> <span class="n">user</span> <span class="k">finally</span> <span class="n">denied</span> <span class="n">your</span> <span class="n">access</span><span class="p">,</span> <span class="n">respectively</span><span class="o">.</span> <span class="n">Other</span> <span class="n">exceptions</span> <span class="n">may</span> <span class="n">be</span> <span class="n">raised</span> <span class="n">depending</span> <span class="n">on</span> <span class="n">the</span>
<span class="n">error</span> <span class="n">code</span> <span class="n">that</span> <span class="n">the</span> <span class="n">AS</span> <span class="n">responds</span> <span class="k">with</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">user</span> <span class="n">did</span> <span class="n">finish</span> <span class="n">authorizing</span> <span class="n">successfully</span><span class="p">,</span> <span class="err">`</span><span class="n">token</span><span class="err">`</span> <span class="n">will</span> <span class="n">contain</span> <span class="n">your</span> <span class="n">access</span>
<span class="n">token</span><span class="o">.</span>

<span class="n">To</span> <span class="n">make</span> <span class="n">pooling</span> <span class="n">easier</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">a</span>
<span class="p">[</span><span class="n">DeviceAuthorizationPoolingJob</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob)</span>
<span class="n">like</span> <span class="n">this</span><span class="p">:</span>

<span class="n">pool_job</span> <span class="o">=</span> <span class="n">DeviceAuthorizationPoolingJob</span><span class="p">(</span>
    <span class="n">client</span><span class="p">,</span> <span class="n">device_auth_resp</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="n">device_auth_resp</span><span class="o">.</span><span class="n">interval</span>
<span class="p">)</span>

<span class="n">resp</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">while</span> <span class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">pool_job</span><span class="p">()</span>

<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">DeviceAuthorizationPoolingJob</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob)</span>
<span class="n">will</span> <span class="n">automatically</span> <span class="n">obey</span> <span class="n">the</span> <span class="n">pooling</span> <span class="n">period</span><span class="o">.</span> <span class="n">Everytime</span> <span class="n">you</span> <span class="n">call</span> <span class="n">pool_job</span><span class="p">(),</span> <span class="n">it</span> <span class="n">will</span> <span class="n">wait</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">number</span> <span class="n">of</span>
<span class="n">seconds</span> <span class="k">as</span> <span class="n">indicated</span> <span class="n">by</span> <span class="n">the</span> <span class="n">AS</span><span class="p">,</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">apply</span> <span class="n">slow_down</span> <span class="n">requests</span><span class="o">.</span>

<span class="c1">#### As Auth Handler</span>

<span class="n">Use</span>
<span class="p">[</span><span class="n">OAuth2DeviceCodeAuth</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">guillp</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">requests_oauth2client</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="c1">#requests_oauth2client.auth.OAuth2DeviceCodeAuth)</span>
<span class="k">as</span> <span class="n">auth</span> <span class="n">handler</span> <span class="n">to</span> <span class="n">exchange</span> <span class="n">a</span> <span class="n">device</span> <span class="n">code</span> <span class="k">for</span> <span class="n">an</span> <span class="n">access</span> <span class="n">token</span><span class="p">:</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://your.protected.api/endpoint&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">OAuth2DeviceCodeAuth</span><span class="p">(</span>
        <span class="n">client</span><span class="p">,</span>
        <span class="n">device_auth_resp</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
        <span class="n">interval</span><span class="o">=</span><span class="n">device_auth_resp</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="o">=</span><span class="n">device_auth_resp</span><span class="o">.</span><span class="n">expires_in</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="p">)</span>  <span class="c1"># first call will hang until the user authorizes your app and the token endpoint returns a token.</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">## Client-Initiated BackChannel Authentication (CIBA)</span>

<span class="n">To</span> <span class="n">initiate</span> <span class="n">a</span> <span class="n">BackChannel</span> <span class="n">Authentication</span> <span class="n">against</span> <span class="n">the</span> <span class="n">dedicated</span> <span class="n">endpoint</span><span class="p">:</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://myas.local/token&quot;</span><span class="p">,</span>
    <span class="n">backchannel_authentication_endpoint</span><span class="o">=</span><span class="s2">&quot;https://myas.local/backchannel_authorize&quot;</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">ba_resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">backchannel_authentication_request</span><span class="p">(</span>
    <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;openid email profile&quot;</span><span class="p">,</span>
    <span class="n">login_hint</span><span class="o">=</span><span class="s2">&quot;user@example.net&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="err">`</span><span class="n">ba_resp</span><span class="err">`</span> <span class="n">will</span> <span class="n">contain</span> <span class="n">the</span> <span class="n">response</span> <span class="n">attributes</span> <span class="k">as</span> <span class="n">returned</span> <span class="n">by</span> <span class="n">the</span> <span class="n">AS</span><span class="p">,</span> <span class="n">including</span> <span class="n">an</span> <span class="err">`</span><span class="n">auth_req_id</span><span class="err">`</span><span class="p">:</span>

<span class="n">ba_resp</span><span class="o">.</span><span class="n">auth_req_id</span>
<span class="n">ba_resp</span><span class="o">.</span><span class="n">expires_in</span>  <span class="c1"># decreases as times fly</span>
<span class="n">ba_resp</span><span class="o">.</span><span class="n">expires_at</span>  <span class="c1"># a datetime to keep track of the expiration date, based on the &quot;expires_in&quot; returned by the AS</span>
<span class="n">ba_resp</span><span class="o">.</span><span class="n">interval</span>  <span class="c1"># the pooling interval indicated by the AS</span>
<span class="n">ba_resp</span><span class="o">.</span><span class="n">custom</span>  <span class="c1"># if the AS respond with additional attributes, they are also accessible</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">To</span> <span class="n">pool</span> <span class="n">the</span> <span class="n">Token</span> <span class="n">Endpoint</span> <span class="n">until</span> <span class="n">the</span> <span class="n">end</span><span class="o">-</span><span class="n">user</span> <span class="n">successfully</span> <span class="n">authenticates</span><span class="p">:</span>

<span class="n">pool_job</span> <span class="o">=</span> <span class="n">BackChannelAuthenticationPoolingJob</span><span class="p">(</span>
    <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="n">auth_req_id</span><span class="o">=</span><span class="n">ba_resp</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span>
    <span class="n">interval</span><span class="o">=</span><span class="n">bca_resp</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">resp</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">while</span> <span class="n">resp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">pool_job</span><span class="p">()</span>

<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
  ```python</p>
<h3 id="supported-client-authentication-methods">Supported Client Authentication Methods<a class="headerlink" href="#supported-client-authentication-methods" title="Permanent link">&para;</a></h3>
<p><code>requests_oauth2client</code> supports multiple client authentication methods, as defined in multiple OAuth2.x standards. You
select the appropriate method to use when initializing your <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a>, with the <code>auth</code> parameter. Once initialized,
a client will automatically use the configured authentication method every time it sends a requested to an endpoint that
requires client authentication. You don't have anything else to do afterwards.</p>
<ul>
<li><strong>client_secret_basic</strong>: client_id and client_secret are included in clear-text in the Authorization header. To use
  it, just pass a
  <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client_authentication.ClientSecretBasic">ClientSecretBasic(client_id, client_secret)</a>
  as <code>auth</code> parameter:</li>
</ul>
<p>client = OAuth2Client(token_endpoint, auth=ClientSecretBasic(client_id, client_secret))
  ```</p>
<ul>
<li><strong>client_secret_post</strong>: client_id and client_secret are included as part of the body form data. To use it, pass a
  <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client_authentication.ClientSecretPost">ClientSecretPost(client_id, client_secret)</a>
  as <code>auth</code> parameter. This also what is being used as default when you pass a tuple <code>(client_id, client_secret)</code> as
  <code>auth</code>:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">ClientSecretPost</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
<span class="c1"># or</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
<ul>
<li><strong>client_secret_jwt</strong>: client generates an ephemeral JWT assertion including information about itself (client_id), the
  AS (url of the endpoint), and expiration date. To use it, pass a
  <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client_authentication.ClientSecretJWT">ClientSecretJWT(client_id, client_secret)</a>
  as <code>auth</code> parameter. Assertion generation is entirely automatic, you don't have anything to do:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">ClientSecretJWT</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
<ul>
<li><strong>private_key_jwt</strong>: client uses a JWT assertion like <em>client_secret_jwt</em>, but it is signed with an <em>asymmetric</em> key.
  To use it, you need a private signing key, in a <code>dict</code> that matches the JWK format. The matching public key must be
  registered for your client on AS side. Once you have that, using this auth method is as simple with the
  <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client_authentication.PrivateKeyJWT">PrivateKeyJWT(client_id, private_jwk)</a>
  auth handler:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">private_jwk</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;mykid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kty&quot;</span><span class="p">:</span> <span class="s2">&quot;RSA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="s2">&quot;AQAB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dp&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dq&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;qi&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="s2">&quot;https://myas.local/token&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">PrivateKeyJWT</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">private_jwk</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<ul>
<li><strong>none</strong>: client only presents its client_id in body form data to the AS, without any authentication credentials. Use
  <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client_authentication.PublicApp">PublicApp(client_id)</a>:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">PublicApp</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
<h3 id="token-exchange">Token Exchange<a class="headerlink" href="#token-exchange" title="Permanent link">&para;</a></h3>
<p>To send a token exchange request, use the
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.token_exchange">OAuth2Client.token_exchange()</a>
method:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="p">,</span> <span class="n">auth</span><span class="o">=...</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">token_exchange</span><span class="p">(</span>
    <span class="n">subject_token</span><span class="o">=</span><span class="s2">&quot;your_token_value&quot;</span><span class="p">,</span>
    <span class="n">subject_token_type</span><span class="o">=</span><span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>As with the other grant-type specific methods, you may specify additional keyword parameters, that will be passed to the
token endpoint, including any standardised attribute like <code>actor_token</code> or <code>actor_token_type</code>, or any custom parameter.
There are short names for token types, that will be automatically translated to standardised types:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">token_exchange</span><span class="p">(</span>
    <span class="n">subject_token</span><span class="o">=</span><span class="s2">&quot;your_token_value&quot;</span><span class="p">,</span>
    <span class="n">subject_token_type</span><span class="o">=</span><span class="s2">&quot;access_token&quot;</span><span class="p">,</span>  <span class="c1"># will be automatically replaced by &quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
    <span class="n">actor_token</span><span class="o">=</span><span class="s2">&quot;your_actor_token&quot;</span><span class="p">,</span>
    <span class="n">actor_token_type</span><span class="o">=</span><span class="s2">&quot;id_token&quot;</span><span class="p">,</span>  <span class="c1"># will be automatically replaced by &quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>Or to make it even easier, types can be guessed based on the supplied subject or actor token:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">token_exchange</span><span class="p">(</span>
    <span class="n">subject_token</span><span class="o">=</span><span class="n">BearerToken</span><span class="p">(</span>
        <span class="s2">&quot;your_token_value&quot;</span>
    <span class="p">),</span>  <span class="c1"># subject_token_type will be &quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
    <span class="n">actor_token</span><span class="o">=</span><span class="n">IdToken</span><span class="p">(</span>
        <span class="s2">&quot;your_actor_token&quot;</span>
    <span class="p">),</span>  <span class="c1"># actor_token_type will be &quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<h3 id="token-revocation">Token Revocation<a class="headerlink" href="#token-revocation" title="Permanent link">&para;</a></h3>
<p><a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> can send revocation requests to a Revocation Endpoint. You need to provide a Revocation Endpoint URI when
creating the <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> :</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="p">,</span>
    <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">ClientSecretJWT</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>The
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.revoke_token">OAuth2Client.revoke_token()</a>
method and its specialized aliases
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.revoke_access_token">.revoke_access_token()</a>
and
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.revoke_refresh_token">.revoke_refresh_token()</a>
are then available:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span><span class="s2">&quot;mytoken&quot;</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="s2">&quot;access_token&quot;</span><span class="p">)</span>
<span class="n">oauth2client</span><span class="o">.</span><span class="n">revoke_access_token</span><span class="p">(</span>
    <span class="s2">&quot;mytoken&quot;</span>
<span class="p">)</span>  <span class="c1"># will automatically add token_type_hint=access_token</span>
<span class="n">oauth2client</span><span class="o">.</span><span class="n">revoke_refresh_token</span><span class="p">(</span>
    <span class="s2">&quot;mytoken&quot;</span>
<span class="p">)</span>  <span class="c1"># will automatically add token_type_hint=refresh_token</span>
</code></pre></div>
</td></tr></table>
<p>Because Revocation Endpoints usually don't return meaningful responses, those methods return a boolean. This boolean
indicates that a request was successfully sent and no error was returned. If the Authorization Server actually returns a
standardised error, an exception will be raised instead.</p>
<h3 id="token-introspection">Token Introspection<a class="headerlink" href="#token-introspection" title="Permanent link">&para;</a></h3>
<p><a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> can send requests to a Token Introspection Endpoint. You need to provide an Introspection Endpoint URI
when creating the <code>OAuth2Client</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="p">,</span>
    <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">ClientSecretJWT</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>The
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.instrospect_token()">OAuth2Client.introspect_token()</a>
method is then available:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">resp</span> <span class="o">=</span> <span class="n">oauth2client</span><span class="o">.</span><span class="n">introspect_token</span><span class="p">(</span><span class="s2">&quot;mytoken&quot;</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="s2">&quot;access_token&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>It returns whatever data is returned by the introspection endpoint (if it is a JSON, its content is returned decoded).</p>
<h3 id="userinfo-requests">UserInfo Requests<a class="headerlink" href="#userinfo-requests" title="Permanent link">&para;</a></h3>
<p><a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> can send requests to an UserInfo Endpoint. You need to provide an UserInfo Endpoint URI when creating the
<code>OAuth2Client</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="p">,</span>
    <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="n">ClientSecretJWT</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>The
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.userinfo">OAuth2Client.userinfo()</a>)
method is then available:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">resp</span> <span class="o">=</span> <span class="n">oauth2client</span><span class="o">.</span><span class="n">userinfo</span><span class="p">(</span><span class="s2">&quot;mytoken&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>It returns whatever data is returned by the userinfo endpoint (if it is a JSON, its content is returned decoded).</p>
<h3 id="initializing-an-oauth2client-from-a-discovery-document">Initializing an OAuth2Client from a discovery document<a class="headerlink" href="#initializing-an-oauth2client-from-a-discovery-document" title="Permanent link">&para;</a></h3>
<p>You can initialize an <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> with the endpoint URIs mentioned in a standardised discovery document with the
<a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client.from_discovery_document">OAuth2Client.from_discovery_endpoint()</a>
class method:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="o">.</span><span class="n">from_discovery_endpoint</span><span class="p">(</span>
    <span class="s2">&quot;https://myas.local/.well-known/openid-configuration&quot;</span>
<span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>This will fetch the document from the specified URI, then will decode it and initialize an <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> pointing to
the appropriate endpoint URIs.</p>
<h3 id="specialized-api-client">Specialized API Client<a class="headerlink" href="#specialized-api-client" title="Permanent link">&para;</a></h3>
<p>Using APIs usually involves multiple endpoints under the same root url, with a common authentication method. To make it
easier, <code>requests_oauth2client</code> includes a specialized [requests.Session] subclass called <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a>, which takes the
root API url as parameter on initialization. You can then send requests to different endpoints by passing their relative
path instead of the full url. <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a> also accepts an <code>auth</code> parameter with an AuthHandler. You can pass any of the
OAuth2 Auth Handler from this module, or any <a href="https://docs.python-requests.org/en/master/">requests</a>-compatible
<a href="https://docs.python-requests.org/en/master/user/advanced/#custom-authentication">Authentication Handler</a>. Which makes
it very easy to call APIs that are protected with an OAuth2 Client Credentials Grant:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">oauth2client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="s2">&quot;https://myas.local/token&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://myapi.local/root&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">oauth2client</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/resource/foo&quot;</span>
<span class="p">)</span>  <span class="c1"># will actually send a GET to https://myapi.local/root/resource/foo</span>
</code></pre></div>
</td></tr></table>
<p>Note that <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a> will never send requests "outside" its configured root url, unless you specifically give it full
url at request time. The leading <code>/</code> in <code>/resource</code> above is optional. A leading <code>/</code> will not "reset" the url path to
root, which means that you can also write the relative path without the <code>/</code> and it will automatically be included:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;resource/foo&quot;</span>
<span class="p">)</span>  <span class="c1"># will actually send a GET to https://myapi.local/root/resource/foo</span>
</code></pre></div>
</td></tr></table>
<p>You may also pass the path as an iterable of strings (or string-able objects), in which case they will be joined with a
<code>/</code> and appended to the url path:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">]</span>
<span class="p">)</span>  <span class="c1"># will actually send a GET to https://myapi.local/root/resource/foo</span>
<span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="mi">1234</span><span class="p">,</span> <span class="s2">&quot;details&quot;</span><span class="p">]</span>
<span class="p">)</span>  <span class="c1"># will actually send a GET to https://myapi.local/root/users/1234/details</span>
</code></pre></div>
</td></tr></table>
<p><a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a> will, by default, raise exceptions whenever a request returns an error status. You can disable that by
passing <code>raise_for_status=False</code> when initializing your <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="s2">&quot;http://httpstat.us&quot;</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># this defaults to True</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;500&quot;</span>
<span class="p">)</span>  <span class="c1"># without raise_for_status=False, this would raise a requests.exceptions.HTTPError</span>
</code></pre></div>
</td></tr></table>
<p>You may override this at request time:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;500&quot;</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>  <span class="c1"># raise_for_status at request-time overrides the value defined at init-time</span>
</code></pre></div>
</td></tr></table>
<h3 id="vendor-specific-clients">Vendor-Specific clients<a class="headerlink" href="#vendor-specific-clients" title="Permanent link">&para;</a></h3>
<p><code>requests_oauth2client</code> being flexible enough to handle most use cases, you should be able to use any AS by any vendor
as long as it supports OAuth 2.0.</p>
<p>You can however create a subclass of <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> or <a href="https://guillp.github.io/requests_oauth2client/api/#requests_oauth2client.api_client.ApiClient">ApiClient</a> to make it easier to use with specific Authorization
Servers or APIs. The sub-module <code>requests_oauth2client.vendor_specific</code> includes such classes for Auth0:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_oauth2client.vendor_specific</span> <span class="kn">import</span> <span class="n">Auth0Client</span>

<span class="n">a0client</span> <span class="o">=</span> <span class="n">Auth0Client</span><span class="p">(</span><span class="s2">&quot;mytenant.eu&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
<span class="c1"># this will automatically initialize the token endpoint to https://mytenant.eu.auth0.com/oauth/token</span>
<span class="c1"># so you can use it directly</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">a0client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="n">audience</span><span class="o">=</span><span class="s2">&quot;audience&quot;</span><span class="p">)</span>

<span class="c1"># this is a wrapper around Auth0 Management API</span>
<span class="n">a0mgmt</span> <span class="o">=</span> <span class="n">Auth0ManagementApiClient</span><span class="p">(</span><span class="s2">&quot;mytenant.eu&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">))</span>
<span class="n">myusers</span> <span class="o">=</span> <span class="n">a0mgmt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;users&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<!-- END INCLUDE -->
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        
        <a href="installation/" class="md-footer__link md-footer__link--next" aria-label="Next: Installation" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Installation
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="http://www.jieyu.ai" target="_blank" rel="noopener" title="Tweet" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
      <a href="http://www.jieyu.ai" target="_blank" rel="noopener" title="Facebook" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
      <a href="https://github.com/guillp/requests_oauth2client" target="_blank" rel="noopener" title="Github" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="mailto:guill.p.linux@gmail.com" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.indexes", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>