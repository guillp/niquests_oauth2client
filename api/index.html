
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../contributing/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>API - requests_oauth2client</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#requests_oauth2client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="requests_oauth2client" class="md-header__button md-logo" aria-label="requests_oauth2client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            requests_oauth2client
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/guillp/requests_oauth2client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    requests_oauth2client
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../installation/" class="md-tabs__link">
        
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  API

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../contributing/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../authors/" class="md-tabs__link">
        
  
    
  
  Authors

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../history/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="requests_oauth2client" class="md-nav__button md-logo" aria-label="requests_oauth2client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    requests_oauth2client
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/guillp/requests_oauth2client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    requests_oauth2client
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requests_oauth2client" class="md-nav__link">
    <span class="md-ellipsis">
      requests_oauth2client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="requests_oauth2client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient" class="md-nav__link">
    <span class="md-ellipsis">
      ApiClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ApiClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.to_absolute_url" class="md-nav__link">
    <span class="md-ellipsis">
      to_absolute_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.post" class="md-nav__link">
    <span class="md-ellipsis">
      post
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.patch" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BaseOAuth2RenewableTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseOAuth2RenewableTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.forget_token" class="md-nav__link">
    <span class="md-ellipsis">
      forget_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BearerAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerAuth.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AccessTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AccessTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AccessTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AccessTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AuthorizationCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AuthorizationCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ClientCredentialsAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ClientCredentialsAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ClientCredentialsAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2DeviceCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2DeviceCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2DeviceCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_device_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ResourceOwnerPasswordAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ResourceOwnerPasswordAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.args" class="md-nav__link">
    <span class="md-ellipsis">
      args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.generate_state" class="md-nav__link">
    <span class="md-ellipsis">
      generate_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.generate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.validate_callback" class="md-nav__link">
    <span class="md-ellipsis">
      validate_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign" class="md-nav__link">
    <span class="md-ellipsis">
      sign
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.on_response_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_response_error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequestSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequestSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.CodeChallengeMethods" class="md-nav__link">
    <span class="md-ellipsis">
      CodeChallengeMethods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils" class="md-nav__link">
    <span class="md-ellipsis">
      PkceUtils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PkceUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.code_verifier_re" class="md-nav__link">
    <span class="md-ellipsis">
      code_verifier_re
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.generate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.derive_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      derive_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.generate_code_verifier_and_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier_and_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.validate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      validate_code_verifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestUriParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestUriParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.GrantType" class="md-nav__link">
    <span class="md-ellipsis">
      GrantType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_id" class="md-nav__link">
    <span class="md-ellipsis">
      client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_secret" class="md-nav__link">
    <span class="md-ellipsis">
      client_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_jwks" class="md-nav__link">
    <span class="md-ellipsis">
      client_jwks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.validate_endpoint_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_endpoint_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.validate_issuer_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_issuer_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_token_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_token_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_token_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_token_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      client_credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorization_code" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.device_code" class="md-nav__link">
    <span class="md-ellipsis">
      device_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.ciba" class="md-nav__link">
    <span class="md-ellipsis">
      ciba
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.token_exchange" class="md-nav__link">
    <span class="md-ellipsis">
      token_exchange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.jwt_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      jwt_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.resource_owner_password" class="md-nav__link">
    <span class="md-ellipsis">
      resource_owner_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.pushed_authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      pushed_authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_pushed_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pushed_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_pushed_authorization_request_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_pushed_authorization_request_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.userinfo" class="md-nav__link">
    <span class="md-ellipsis">
      userinfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_userinfo_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_userinfo_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_userinfo_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_userinfo_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.get_token_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_token_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_revocation_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_revocation_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.introspect_token" class="md-nav__link">
    <span class="md-ellipsis">
      introspect_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_introspection_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_introspection_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_introspection_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_introspection_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.backchannel_authentication_request" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_backchannel_authentication_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_backchannel_authentication_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_backchannel_authentication_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_backchannel_authentication_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorize_device" class="md-nav__link">
    <span class="md-ellipsis">
      authorize_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_device_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_device_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_device_authorization_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_device_authorization_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.update_authorization_server_public_keys" class="md-nav__link">
    <span class="md-ellipsis">
      update_authorization_server_public_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.from_discovery_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_endpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.from_discovery_document" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_document
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseClientAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      BaseClientAuthenticationMethod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientAssertionAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      ClientAssertionAuthenticationMethod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientAssertionAuthenticationMethod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientAssertionAuthenticationMethod.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretBasic" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretBasic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretJwt" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientSecretJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretPost" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretPost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PrivateKeyJwt" class="md-nav__link">
    <span class="md-ellipsis">
      PrivateKeyJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PrivateKeyJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PrivateKeyJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PublicApp" class="md-nav__link">
    <span class="md-ellipsis">
      PublicApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AccessDenied" class="md-nav__link">
    <span class="md-ellipsis">
      AccessDenied
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AccountSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      AccountSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationPending" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationPending
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationResponseError" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponseError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ConsentRequired" class="md-nav__link">
    <span class="md-ellipsis">
      ConsentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.EndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      EndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredAccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredAccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InteractionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      IntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidAuthResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidAuthResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidBackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidBackChannelAuthenticationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidClient" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidDeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidDeviceAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidGrant" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidGrant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidPushedAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidPushedAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidScope" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidScope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidTarget" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTarget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidTokenResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTokenResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.LoginRequired" class="md-nav__link">
    <span class="md-ellipsis">
      LoginRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAcr" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAcr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAudience" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAudience
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAzp" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAzp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingIdTokenAlg" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIdTokenAlg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingNonce" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingNonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingState" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingState
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingAuthCode" class="md-nav__link">
    <span class="md-ellipsis">
      MissingAuthCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Error" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Error
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Error.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RevocationError" class="md-nav__link">
    <span class="md-ellipsis">
      RevocationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      ServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.SessionSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      SessionSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.SlowDown" class="md-nav__link">
    <span class="md-ellipsis">
      SlowDown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnauthorizedClient" class="md-nav__link">
    <span class="md-ellipsis">
      UnauthorizedClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnknownIntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownIntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnknownTokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownTokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnsupportedTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      UnsupportedTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenEndpointPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken" class="md-nav__link">
    <span class="md-ellipsis">
      BearerToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.authorization_header" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.validate_id_token" class="md-nav__link">
    <span class="md-ellipsis">
      validate_id_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      BearerTokenSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerTokenSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken" class="md-nav__link">
    <span class="md-ellipsis">
      IdToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IdToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken.auth_time" class="md-nav__link">
    <span class="md-ellipsis">
      auth_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken.hash_method" class="md-nav__link">
    <span class="md-ellipsis">
      hash_method
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.oauth2_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oauth2_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.oidc_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oidc_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.well_known_uri" class="md-nav__link">
    <span class="md-ellipsis">
      well_known_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client" class="md-nav__link">
    <span class="md-ellipsis">
      api_client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="api_client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient" class="md-nav__link">
    <span class="md-ellipsis">
      ApiClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ApiClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.to_absolute_url" class="md-nav__link">
    <span class="md-ellipsis">
      to_absolute_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.post" class="md-nav__link">
    <span class="md-ellipsis">
      post
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.patch" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BearerAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BearerAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BearerAuth.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BaseOAuth2RenewableTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseOAuth2RenewableTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.forget_token" class="md-nav__link">
    <span class="md-ellipsis">
      forget_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ClientCredentialsAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ClientCredentialsAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AccessTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AccessTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AuthorizationCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AuthorizationCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ResourceOwnerPasswordAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ResourceOwnerPasswordAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2DeviceCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2DeviceCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_device_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="authorization_request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils" class="md-nav__link">
    <span class="md-ellipsis">
      PkceUtils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PkceUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.code_verifier_re" class="md-nav__link">
    <span class="md-ellipsis">
      code_verifier_re
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.derive_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      derive_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier_and_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier_and_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.validate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      validate_code_verifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.CodeChallengeMethods" class="md-nav__link">
    <span class="md-ellipsis">
      CodeChallengeMethods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.args" class="md-nav__link">
    <span class="md-ellipsis">
      args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_state" class="md-nav__link">
    <span class="md-ellipsis">
      generate_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback" class="md-nav__link">
    <span class="md-ellipsis">
      validate_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign" class="md-nav__link">
    <span class="md-ellipsis">
      sign
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.on_response_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_response_error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestUriParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestUriParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequestSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequestSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="backchannel_authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_id" class="md-nav__link">
    <span class="md-ellipsis">
      client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_secret" class="md-nav__link">
    <span class="md-ellipsis">
      client_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_jwks" class="md-nav__link">
    <span class="md-ellipsis">
      client_jwks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.validate_endpoint_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_endpoint_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.validate_issuer_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_issuer_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_token_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_token_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_token_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_token_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      client_credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorization_code" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.device_code" class="md-nav__link">
    <span class="md-ellipsis">
      device_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.ciba" class="md-nav__link">
    <span class="md-ellipsis">
      ciba
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.token_exchange" class="md-nav__link">
    <span class="md-ellipsis">
      token_exchange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.jwt_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      jwt_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.resource_owner_password" class="md-nav__link">
    <span class="md-ellipsis">
      resource_owner_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.pushed_authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      pushed_authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_pushed_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pushed_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_pushed_authorization_request_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_pushed_authorization_request_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.userinfo" class="md-nav__link">
    <span class="md-ellipsis">
      userinfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_userinfo_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_userinfo_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_userinfo_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_userinfo_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.get_token_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_token_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_revocation_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_revocation_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.introspect_token" class="md-nav__link">
    <span class="md-ellipsis">
      introspect_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_introspection_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_introspection_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_introspection_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_introspection_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_backchannel_authentication_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_backchannel_authentication_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_backchannel_authentication_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_backchannel_authentication_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorize_device" class="md-nav__link">
    <span class="md-ellipsis">
      authorize_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_device_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_device_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_device_authorization_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_device_authorization_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.update_authorization_server_public_keys" class="md-nav__link">
    <span class="md-ellipsis">
      update_authorization_server_public_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.from_discovery_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_endpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.from_discovery_document" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_document
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.GrantType" class="md-nav__link">
    <span class="md-ellipsis">
      GrantType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication" class="md-nav__link">
    <span class="md-ellipsis">
      client_authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client_authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      BaseClientAuthenticationMethod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretBasic" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretBasic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretPost" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretPost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      ClientAssertionAuthenticationMethod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientAssertionAuthenticationMethod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretJwt" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientSecretJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PrivateKeyJwt" class="md-nav__link">
    <span class="md-ellipsis">
      PrivateKeyJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PrivateKeyJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PrivateKeyJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PublicApp" class="md-nav__link">
    <span class="md-ellipsis">
      PublicApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.client_auth_factory" class="md-nav__link">
    <span class="md-ellipsis">
      client_auth_factory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization" class="md-nav__link">
    <span class="md-ellipsis">
      device_authorization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="device_authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery" class="md-nav__link">
    <span class="md-ellipsis">
      discovery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.well_known_uri" class="md-nav__link">
    <span class="md-ellipsis">
      well_known_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.oidc_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oidc_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.oauth2_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oauth2_discovery_document_url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.OAuth2Error" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Error
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.OAuth2Error.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.EndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      EndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidTokenResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTokenResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredAccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredAccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnknownTokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownTokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      ServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.TokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidClient" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidScope" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidScope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidTarget" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTarget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidGrant" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidGrant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AccessDenied" class="md-nav__link">
    <span class="md-ellipsis">
      AccessDenied
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnauthorizedClient" class="md-nav__link">
    <span class="md-ellipsis">
      UnauthorizedClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.RevocationError" class="md-nav__link">
    <span class="md-ellipsis">
      RevocationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnsupportedTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      UnsupportedTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.IntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      IntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnknownIntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownIntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.DeviceAuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AuthorizationPending" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationPending
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.SlowDown" class="md-nav__link">
    <span class="md-ellipsis">
      SlowDown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidDeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidDeviceAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AuthorizationResponseError" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponseError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InteractionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.LoginRequired" class="md-nav__link">
    <span class="md-ellipsis">
      LoginRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AccountSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      AccountSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.SessionSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      SessionSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ConsentRequired" class="md-nav__link">
    <span class="md-ellipsis">
      ConsentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidAuthResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidAuthResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingAuthCode" class="md-nav__link">
    <span class="md-ellipsis">
      MissingAuthCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingState" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingState
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingNonce" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingNonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAcr" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAcr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAudience" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAudience
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAzp" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAzp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingIdTokenAlg" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIdTokenAlg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.BackChannelAuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidBackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidBackChannelAuthenticationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidPushedAuthorizationResponse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask" class="md-nav__link">
    <span class="md-ellipsis">
      flask
    </span>
  </a>
  
    <nav class="md-nav" aria-label="flask">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.FlaskOAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskOAuth2ClientCredentialsAuth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskSessionAuthMixin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskOAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskOAuth2ClientCredentialsAuth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling" class="md-nav__link">
    <span class="md-ellipsis">
      pooling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pooling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenEndpointPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens" class="md-nav__link">
    <span class="md-ellipsis">
      tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.TokenType" class="md-nav__link">
    <span class="md-ellipsis">
      TokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.AccessTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      AccessTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken" class="md-nav__link">
    <span class="md-ellipsis">
      IdToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IdToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken.auth_time" class="md-nav__link">
    <span class="md-ellipsis">
      auth_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken.hash_method" class="md-nav__link">
    <span class="md-ellipsis">
      hash_method
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.AccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      AccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken" class="md-nav__link">
    <span class="md-ellipsis">
      BearerToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.authorization_header" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.validate_id_token" class="md-nav__link">
    <span class="md-ellipsis">
      validate_id_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      BearerTokenSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerTokenSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.DPoPToken" class="md-nav__link">
    <span class="md-ellipsis">
      DPoPToken
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific" class="md-nav__link">
    <span class="md-ellipsis">
      vendor_specific
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vendor_specific">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0" class="md-nav__link">
    <span class="md-ellipsis">
      Auth0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Auth0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.tenant" class="md-nav__link">
    <span class="md-ellipsis">
      tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.management_api_client" class="md-nav__link">
    <span class="md-ellipsis">
      management_api_client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Ping" class="md-nav__link">
    <span class="md-ellipsis">
      Ping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Ping.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0" class="md-nav__link">
    <span class="md-ellipsis">
      auth0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0" class="md-nav__link">
    <span class="md-ellipsis">
      Auth0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.tenant" class="md-nav__link">
    <span class="md-ellipsis">
      tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.management_api_client" class="md-nav__link">
    <span class="md-ellipsis">
      management_api_client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping" class="md-nav__link">
    <span class="md-ellipsis">
      ping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping.Ping" class="md-nav__link">
    <span class="md-ellipsis">
      Ping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping.Ping.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../authors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requests_oauth2client" class="md-nav__link">
    <span class="md-ellipsis">
      requests_oauth2client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="requests_oauth2client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient" class="md-nav__link">
    <span class="md-ellipsis">
      ApiClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ApiClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.to_absolute_url" class="md-nav__link">
    <span class="md-ellipsis">
      to_absolute_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.post" class="md-nav__link">
    <span class="md-ellipsis">
      post
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.patch" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ApiClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BaseOAuth2RenewableTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseOAuth2RenewableTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.forget_token" class="md-nav__link">
    <span class="md-ellipsis">
      forget_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BearerAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerAuth.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AccessTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AccessTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AccessTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AccessTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AuthorizationCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AuthorizationCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ClientCredentialsAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ClientCredentialsAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ClientCredentialsAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2DeviceCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2DeviceCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2DeviceCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_device_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ResourceOwnerPasswordAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ResourceOwnerPasswordAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.args" class="md-nav__link">
    <span class="md-ellipsis">
      args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.generate_state" class="md-nav__link">
    <span class="md-ellipsis">
      generate_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.generate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.validate_callback" class="md-nav__link">
    <span class="md-ellipsis">
      validate_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign" class="md-nav__link">
    <span class="md-ellipsis">
      sign
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequest.on_response_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_response_error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequestSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequestSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationRequestSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.CodeChallengeMethods" class="md-nav__link">
    <span class="md-ellipsis">
      CodeChallengeMethods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils" class="md-nav__link">
    <span class="md-ellipsis">
      PkceUtils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PkceUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.code_verifier_re" class="md-nav__link">
    <span class="md-ellipsis">
      code_verifier_re
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.generate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.derive_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      derive_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.generate_code_verifier_and_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier_and_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PkceUtils.validate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      validate_code_verifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestUriParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestUriParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.GrantType" class="md-nav__link">
    <span class="md-ellipsis">
      GrantType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_id" class="md-nav__link">
    <span class="md-ellipsis">
      client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_secret" class="md-nav__link">
    <span class="md-ellipsis">
      client_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_jwks" class="md-nav__link">
    <span class="md-ellipsis">
      client_jwks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.validate_endpoint_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_endpoint_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.validate_issuer_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_issuer_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_token_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_token_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_token_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_token_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.client_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      client_credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorization_code" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.device_code" class="md-nav__link">
    <span class="md-ellipsis">
      device_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.ciba" class="md-nav__link">
    <span class="md-ellipsis">
      ciba
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.token_exchange" class="md-nav__link">
    <span class="md-ellipsis">
      token_exchange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.jwt_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      jwt_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.resource_owner_password" class="md-nav__link">
    <span class="md-ellipsis">
      resource_owner_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.pushed_authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      pushed_authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_pushed_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pushed_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_pushed_authorization_request_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_pushed_authorization_request_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.userinfo" class="md-nav__link">
    <span class="md-ellipsis">
      userinfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_userinfo_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_userinfo_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_userinfo_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_userinfo_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.get_token_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_token_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.revoke_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_revocation_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_revocation_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.introspect_token" class="md-nav__link">
    <span class="md-ellipsis">
      introspect_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_introspection_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_introspection_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_introspection_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_introspection_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.backchannel_authentication_request" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_backchannel_authentication_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_backchannel_authentication_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_backchannel_authentication_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_backchannel_authentication_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.authorize_device" class="md-nav__link">
    <span class="md-ellipsis">
      authorize_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.parse_device_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_device_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.on_device_authorization_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_device_authorization_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.update_authorization_server_public_keys" class="md-nav__link">
    <span class="md-ellipsis">
      update_authorization_server_public_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.from_discovery_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_endpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Client.from_discovery_document" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_document
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BaseClientAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      BaseClientAuthenticationMethod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientAssertionAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      ClientAssertionAuthenticationMethod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientAssertionAuthenticationMethod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientAssertionAuthenticationMethod.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretBasic" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretBasic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretJwt" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientSecretJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ClientSecretPost" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretPost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PrivateKeyJwt" class="md-nav__link">
    <span class="md-ellipsis">
      PrivateKeyJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PrivateKeyJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PrivateKeyJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.PublicApp" class="md-nav__link">
    <span class="md-ellipsis">
      PublicApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AccessDenied" class="md-nav__link">
    <span class="md-ellipsis">
      AccessDenied
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AccountSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      AccountSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationPending" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationPending
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.AuthorizationResponseError" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponseError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BackChannelAuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ConsentRequired" class="md-nav__link">
    <span class="md-ellipsis">
      ConsentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.DeviceAuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.EndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      EndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredAccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredAccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ExpiredToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InteractionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      IntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidAuthResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidAuthResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidBackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidBackChannelAuthenticationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidClient" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidDeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidDeviceAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidGrant" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidGrant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidPushedAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidPushedAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidScope" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidScope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidTarget" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTarget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.InvalidTokenResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTokenResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.LoginRequired" class="md-nav__link">
    <span class="md-ellipsis">
      LoginRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAcr" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAcr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAudience" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAudience
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingAzp" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAzp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingIdTokenAlg" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIdTokenAlg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingNonce" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingNonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MismatchingState" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingState
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingAuthCode" class="md-nav__link">
    <span class="md-ellipsis">
      MissingAuthCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.MissingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Error" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Error
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.OAuth2Error.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.RevocationError" class="md-nav__link">
    <span class="md-ellipsis">
      RevocationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      ServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.SessionSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      SessionSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.SlowDown" class="md-nav__link">
    <span class="md-ellipsis">
      SlowDown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnauthorizedClient" class="md-nav__link">
    <span class="md-ellipsis">
      UnauthorizedClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnknownIntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownIntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnknownTokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownTokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.UnsupportedTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      UnsupportedTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenEndpointPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.TokenEndpointPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken" class="md-nav__link">
    <span class="md-ellipsis">
      BearerToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.authorization_header" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.validate_id_token" class="md-nav__link">
    <span class="md-ellipsis">
      validate_id_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerToken.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      BearerTokenSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerTokenSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.BearerTokenSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken" class="md-nav__link">
    <span class="md-ellipsis">
      IdToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IdToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken.auth_time" class="md-nav__link">
    <span class="md-ellipsis">
      auth_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.IdToken.hash_method" class="md-nav__link">
    <span class="md-ellipsis">
      hash_method
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.oauth2_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oauth2_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.oidc_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oidc_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.well_known_uri" class="md-nav__link">
    <span class="md-ellipsis">
      well_known_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client" class="md-nav__link">
    <span class="md-ellipsis">
      api_client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="api_client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient" class="md-nav__link">
    <span class="md-ellipsis">
      ApiClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ApiClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.to_absolute_url" class="md-nav__link">
    <span class="md-ellipsis">
      to_absolute_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.post" class="md-nav__link">
    <span class="md-ellipsis">
      post
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.patch" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.api_client.ApiClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BearerAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BearerAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BearerAuth.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      BaseOAuth2RenewableTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseOAuth2RenewableTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.forget_token" class="md-nav__link">
    <span class="md-ellipsis">
      forget_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ClientCredentialsAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ClientCredentialsAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AccessTokenAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AccessTokenAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2AuthorizationCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2AuthorizationCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2ResourceOwnerPasswordAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2ResourceOwnerPasswordAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth.renew_token" class="md-nav__link">
    <span class="md-ellipsis">
      renew_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2DeviceCodeAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2DeviceCodeAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="md-nav__link">
    <span class="md-ellipsis">
      exchange_device_code_for_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="authorization_request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils" class="md-nav__link">
    <span class="md-ellipsis">
      PkceUtils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PkceUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.code_verifier_re" class="md-nav__link">
    <span class="md-ellipsis">
      code_verifier_re
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.derive_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      derive_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier_and_challenge" class="md-nav__link">
    <span class="md-ellipsis">
      generate_code_verifier_and_challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.PkceUtils.validate_code_verifier" class="md-nav__link">
    <span class="md-ellipsis">
      validate_code_verifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.CodeChallengeMethods" class="md-nav__link">
    <span class="md-ellipsis">
      CodeChallengeMethods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.args" class="md-nav__link">
    <span class="md-ellipsis">
      args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_state" class="md-nav__link">
    <span class="md-ellipsis">
      generate_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback" class="md-nav__link">
    <span class="md-ellipsis">
      validate_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign" class="md-nav__link">
    <span class="md-ellipsis">
      sign
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt_request_jwt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt_request_jwt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      sign_and_encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequest.on_response_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_response_error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RequestUriParameterAuthorizationRequest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RequestUriParameterAuthorizationRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.furl" class="md-nav__link">
    <span class="md-ellipsis">
      furl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.uri" class="md-nav__link">
    <span class="md-ellipsis">
      uri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationRequestSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AuthorizationRequestSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="backchannel_authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BackChannelAuthenticationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_id" class="md-nav__link">
    <span class="md-ellipsis">
      client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_secret" class="md-nav__link">
    <span class="md-ellipsis">
      client_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_jwks" class="md-nav__link">
    <span class="md-ellipsis">
      client_jwks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.validate_endpoint_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_endpoint_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.validate_issuer_uri" class="md-nav__link">
    <span class="md-ellipsis">
      validate_issuer_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_token_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_token_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_token_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_token_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.client_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      client_credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorization_code" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.device_code" class="md-nav__link">
    <span class="md-ellipsis">
      device_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.ciba" class="md-nav__link">
    <span class="md-ellipsis">
      ciba
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.token_exchange" class="md-nav__link">
    <span class="md-ellipsis">
      token_exchange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.jwt_bearer" class="md-nav__link">
    <span class="md-ellipsis">
      jwt_bearer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.resource_owner_password" class="md-nav__link">
    <span class="md-ellipsis">
      resource_owner_password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.pushed_authorization_request" class="md-nav__link">
    <span class="md-ellipsis">
      pushed_authorization_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_pushed_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pushed_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_pushed_authorization_request_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_pushed_authorization_request_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.userinfo" class="md-nav__link">
    <span class="md-ellipsis">
      userinfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_userinfo_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_userinfo_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_userinfo_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_userinfo_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.get_token_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_token_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.revoke_token" class="md-nav__link">
    <span class="md-ellipsis">
      revoke_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_revocation_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_revocation_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.introspect_token" class="md-nav__link">
    <span class="md-ellipsis">
      introspect_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_introspection_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_introspection_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_introspection_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_introspection_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request" class="md-nav__link">
    <span class="md-ellipsis">
      backchannel_authentication_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_backchannel_authentication_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_backchannel_authentication_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_backchannel_authentication_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_backchannel_authentication_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.authorize_device" class="md-nav__link">
    <span class="md-ellipsis">
      authorize_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.parse_device_authorization_response" class="md-nav__link">
    <span class="md-ellipsis">
      parse_device_authorization_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.on_device_authorization_error" class="md-nav__link">
    <span class="md-ellipsis">
      on_device_authorization_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.update_authorization_server_public_keys" class="md-nav__link">
    <span class="md-ellipsis">
      update_authorization_server_public_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.from_discovery_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_endpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.OAuth2Client.from_discovery_document" class="md-nav__link">
    <span class="md-ellipsis">
      from_discovery_document
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client.GrantType" class="md-nav__link">
    <span class="md-ellipsis">
      GrantType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication" class="md-nav__link">
    <span class="md-ellipsis">
      client_authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client_authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      BaseClientAuthenticationMethod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretBasic" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretBasic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretPost" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretPost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" class="md-nav__link">
    <span class="md-ellipsis">
      ClientAssertionAuthenticationMethod
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientAssertionAuthenticationMethod">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretJwt" class="md-nav__link">
    <span class="md-ellipsis">
      ClientSecretJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClientSecretJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.ClientSecretJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PrivateKeyJwt" class="md-nav__link">
    <span class="md-ellipsis">
      PrivateKeyJwt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PrivateKeyJwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PrivateKeyJwt.client_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      client_assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.PublicApp" class="md-nav__link">
    <span class="md-ellipsis">
      PublicApp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.client_authentication.client_auth_factory" class="md-nav__link">
    <span class="md-ellipsis">
      client_auth_factory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization" class="md-nav__link">
    <span class="md-ellipsis">
      device_authorization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="device_authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeviceAuthorizationPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery" class="md-nav__link">
    <span class="md-ellipsis">
      discovery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.well_known_uri" class="md-nav__link">
    <span class="md-ellipsis">
      well_known_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.oidc_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oidc_discovery_document_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.discovery.oauth2_discovery_document_url" class="md-nav__link">
    <span class="md-ellipsis">
      oauth2_discovery_document_url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.OAuth2Error" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth2Error
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth2Error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.OAuth2Error.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.EndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      EndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidTokenResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTokenResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredAccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredAccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnknownTokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownTokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      ServerError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.TokenEndpointError" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidClient" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidScope" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidScope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidTarget" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidTarget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidGrant" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidGrant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AccessDenied" class="md-nav__link">
    <span class="md-ellipsis">
      AccessDenied
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnauthorizedClient" class="md-nav__link">
    <span class="md-ellipsis">
      UnauthorizedClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.RevocationError" class="md-nav__link">
    <span class="md-ellipsis">
      RevocationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnsupportedTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      UnsupportedTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.IntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      IntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.UnknownIntrospectionError" class="md-nav__link">
    <span class="md-ellipsis">
      UnknownIntrospectionError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.DeviceAuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      DeviceAuthorizationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AuthorizationPending" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationPending
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.SlowDown" class="md-nav__link">
    <span class="md-ellipsis">
      SlowDown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidDeviceAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidDeviceAuthorizationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AuthorizationResponseError" class="md-nav__link">
    <span class="md-ellipsis">
      AuthorizationResponseError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InteractionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.LoginRequired" class="md-nav__link">
    <span class="md-ellipsis">
      LoginRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.AccountSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      AccountSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.SessionSelectionRequired" class="md-nav__link">
    <span class="md-ellipsis">
      SessionSelectionRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ConsentRequired" class="md-nav__link">
    <span class="md-ellipsis">
      ConsentRequired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidAuthResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidAuthResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingAuthCode" class="md-nav__link">
    <span class="md-ellipsis">
      MissingAuthCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MissingIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      MissingIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingState" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingState
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingIssuer" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIssuer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingNonce" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingNonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAcr" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAcr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAudience" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAudience
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingAzp" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingAzp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.MismatchingIdTokenAlg" class="md-nav__link">
    <span class="md-ellipsis">
      MismatchingIdTokenAlg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.ExpiredIdToken" class="md-nav__link">
    <span class="md-ellipsis">
      ExpiredIdToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.BackChannelAuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      BackChannelAuthenticationError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidBackChannelAuthenticationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidBackChannelAuthenticationResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      InvalidPushedAuthorizationResponse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask" class="md-nav__link">
    <span class="md-ellipsis">
      flask
    </span>
  </a>
  
    <nav class="md-nav" aria-label="flask">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.FlaskOAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskOAuth2ClientCredentialsAuth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskSessionAuthMixin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin.token" class="md-nav__link">
    <span class="md-ellipsis">
      token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.flask.auth.FlaskOAuth2ClientCredentialsAuth" class="md-nav__link">
    <span class="md-ellipsis">
      FlaskOAuth2ClientCredentialsAuth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling" class="md-nav__link">
    <span class="md-ellipsis">
      pooling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pooling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob" class="md-nav__link">
    <span class="md-ellipsis">
      TokenEndpointPoolingJob
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenEndpointPoolingJob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request" class="md-nav__link">
    <span class="md-ellipsis">
      token_request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens" class="md-nav__link">
    <span class="md-ellipsis">
      tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.TokenType" class="md-nav__link">
    <span class="md-ellipsis">
      TokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.AccessTokenType" class="md-nav__link">
    <span class="md-ellipsis">
      AccessTokenType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken" class="md-nav__link">
    <span class="md-ellipsis">
      IdToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IdToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken.auth_time" class="md-nav__link">
    <span class="md-ellipsis">
      auth_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.IdToken.hash_method" class="md-nav__link">
    <span class="md-ellipsis">
      hash_method
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.AccessToken" class="md-nav__link">
    <span class="md-ellipsis">
      AccessToken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken" class="md-nav__link">
    <span class="md-ellipsis">
      BearerToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.is_expired" class="md-nav__link">
    <span class="md-ellipsis">
      is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.authorization_header" class="md-nav__link">
    <span class="md-ellipsis">
      authorization_header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.validate_id_token" class="md-nav__link">
    <span class="md-ellipsis">
      validate_id_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerToken.as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      BearerTokenSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BearerTokenSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_dumper" class="md-nav__link">
    <span class="md-ellipsis">
      default_dumper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_loader" class="md-nav__link">
    <span class="md-ellipsis">
      default_loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.BearerTokenSerializer.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.tokens.DPoPToken" class="md-nav__link">
    <span class="md-ellipsis">
      DPoPToken
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific" class="md-nav__link">
    <span class="md-ellipsis">
      vendor_specific
    </span>
  </a>
  
    <nav class="md-nav" aria-label="vendor_specific">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0" class="md-nav__link">
    <span class="md-ellipsis">
      Auth0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Auth0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.tenant" class="md-nav__link">
    <span class="md-ellipsis">
      tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Auth0.management_api_client" class="md-nav__link">
    <span class="md-ellipsis">
      management_api_client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Ping" class="md-nav__link">
    <span class="md-ellipsis">
      Ping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.Ping.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0" class="md-nav__link">
    <span class="md-ellipsis">
      auth0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0" class="md-nav__link">
    <span class="md-ellipsis">
      Auth0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.tenant" class="md-nav__link">
    <span class="md-ellipsis">
      tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.auth0.Auth0.management_api_client" class="md-nav__link">
    <span class="md-ellipsis">
      management_api_client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping" class="md-nav__link">
    <span class="md-ellipsis">
      ping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping.Ping" class="md-nav__link">
    <span class="md-ellipsis">
      Ping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requests_oauth2client.vendor_specific.ping.Ping.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  
    
      
    
    <a href="https://github.com/guillp/requests_oauth2client/raw/master/docs/api.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>API</h1>

<div class="doc doc-object doc-module">



<h2 id="requests_oauth2client" class="doc doc-heading">
          <code>requests_oauth2client</code>


<a href="#requests_oauth2client" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents first">
  
      <p>Main module for <code>requests_oauth2client</code>.</p>
<p>You can import any class from any submodule directly from this main module.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ApiClient" class="doc doc-heading">
          <code>ApiClient</code>


<a href="#requests_oauth2client.ApiClient" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>A Wrapper around <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">requests.Session</a> with extra features for REST API calls.</p>
<p>Additional features compared to using a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">requests.Session</a> directly:</p>
<ul>
<li>You must set a root url at creation time, which then allows passing relative urls at request time.</li>
<li>It may also raise exceptions instead of returning error responses.</li>
<li>You can also pass additional kwargs at init time, which will be used to configure the
<a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a>, instead of setting them later.</li>
<li>for parameters passed as <code>json</code>, <code>params</code> or <code>data</code>, values that are <code>None</code> can be
automatically discarded from the request</li>
<li>boolean values in <code>data</code> or <code>params</code> fields can be serialized to values that are suitable
for the target API, like <code>"true"</code>  or <code>"false"</code>, or <code>"1"</code> / <code>"0"</code>, instead of the default
values <code>"True"</code> or <code>"False"</code>.</li>
</ul>
<p><code>base_url</code> will serve as root for relative urls passed to
<a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>,
<a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.get">ApiClient.get()</a>, etc.</p>
<p>An <code>HTTPError</code> will be raised everytime an API call returns an error code (&gt;= 400), unless
you set <code>raise_for_status</code> to <code>False</code>. Additional parameters passed at init time, including
<code>auth</code> will be used to configure the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a>.</p>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_oauth2client</span> <span class="kn">import</span> <span class="n">ApiClient</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/myid&quot;</span><span class="p">)</span>  <span class="c1"># this will send a GET request</span>
<span class="c1"># to https://myapi.local/resource/myid</span>

<span class="c1"># you can pass an underlying requests.Session at init time</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">session</span><span class="o">.</span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost:3128&quot;</span><span class="p">}</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

<span class="c1"># or you can let ApiClient init its own session and provide additional configuration</span>
<span class="c1"># parameters:</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span>
    <span class="n">proxies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost:3128&quot;</span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>base_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the base api url, that is the root for all the target API endpoints.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests.auth.AuthBase</a> to use as authentication handler.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the default timeout, in seconds, to use for each request from this <code>ApiClient</code>.
Can be set to <code>None</code> to disable timeout.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, exceptions will be raised everytime a request returns an
error code (&gt;= 400).</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>none_fields</code></td>
          <td>
                <code><span title="typing_extensions.Literal">Literal</span>[&#39;include&#39;, &#39;exclude&#39;, &#39;empty&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>what to do with parameters with value <code>None</code> in <code>data</code> or <code>json</code> fields.</p>
<ul>
<li>if <code>"exclude"</code> (default), fields whose values are <code>None</code> are not included in the request.</li>
<li>if <code>"include"</code>, they are included with string value <code>None</code>. Note that this is
the default behavior of <code>requests</code>.</li>
<li>if "empty", they are included with an empty value (as an empty string).</li>
</ul>
            </div>
          </td>
          <td>
                <code>&#39;exclude&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>bool_fields</code></td>
          <td>
                <code>tuple[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a tuple of (true_value, false_value). Fields from <code>data</code> or <code>params</code> with
a boolean value (<code>True</code> or <code>False</code>) will be serialized to the corresponding value.
This can be useful since some APIs expect a <code>'true'</code> or <code>'false'</code> value as boolean,
and <code>requests</code> serializes <code>True</code> to <code>'True'</code> and <code>False</code> to <code>'False'</code>.
Set it to <code>None</code> to restore default requests behaviour.</p>
            </div>
          </td>
          <td>
                <code>(&#39;true&#39;, &#39;false&#39;)</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a preconfigured <code>requests.Session</code> to use with this <code>ApiClient</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**session_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to configure the underlying <code>requests.Session</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ApiClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Wrapper around [requests.Session][] with extra features for REST API calls.</span>

<span class="sd">    Additional features compared to using a [requests.Session][] directly:</span>

<span class="sd">    - You must set a root url at creation time, which then allows passing relative urls at request time.</span>
<span class="sd">    - It may also raise exceptions instead of returning error responses.</span>
<span class="sd">    - You can also pass additional kwargs at init time, which will be used to configure the</span>
<span class="sd">    [Session][requests.Session], instead of setting them later.</span>
<span class="sd">    - for parameters passed as `json`, `params` or `data`, values that are `None` can be</span>
<span class="sd">    automatically discarded from the request</span>
<span class="sd">    - boolean values in `data` or `params` fields can be serialized to values that are suitable</span>
<span class="sd">    for the target API, like `&quot;true&quot;`  or `&quot;false&quot;`, or `&quot;1&quot;` / `&quot;0&quot;`, instead of the default</span>
<span class="sd">    values `&quot;True&quot;` or `&quot;False&quot;`.</span>

<span class="sd">    `base_url` will serve as root for relative urls passed to</span>
<span class="sd">    [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request],</span>
<span class="sd">    [ApiClient.get()][requests_oauth2client.api_client.ApiClient.get], etc.</span>

<span class="sd">    An `HTTPError` will be raised everytime an API call returns an error code (&gt;= 400), unless</span>
<span class="sd">    you set `raise_for_status` to `False`. Additional parameters passed at init time, including</span>
<span class="sd">    `auth` will be used to configure the [Session][requests.Session].</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        from requests_oauth2client import ApiClient</span>

<span class="sd">        api = ApiClient(&quot;https://myapi.local/resource&quot;, timeout=10)</span>
<span class="sd">        resp = api.get(&quot;/myid&quot;)  # this will send a GET request</span>
<span class="sd">        # to https://myapi.local/resource/myid</span>

<span class="sd">        # you can pass an underlying requests.Session at init time</span>
<span class="sd">        session = requests.Session()</span>
<span class="sd">        session.proxies = {&quot;https&quot;: &quot;https://localhost:3128&quot;}</span>
<span class="sd">        api = ApiClient(&quot;https://myapi.local/resource&quot;, session=session)</span>

<span class="sd">        # or you can let ApiClient init its own session and provide additional configuration</span>
<span class="sd">        # parameters:</span>
<span class="sd">        api = ApiClient(</span>
<span class="sd">            &quot;https://myapi.local/resource&quot;,</span>
<span class="sd">            proxies={&quot;https&quot;: &quot;https://localhost:3128&quot;},</span>
<span class="sd">        )</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        base_url: the base api url, that is the root for all the target API endpoints.</span>
<span class="sd">        auth: the [requests.auth.AuthBase][] to use as authentication handler.</span>
<span class="sd">        timeout: the default timeout, in seconds, to use for each request from this `ApiClient`.</span>
<span class="sd">            Can be set to `None` to disable timeout.</span>
<span class="sd">        raise_for_status: if `True`, exceptions will be raised everytime a request returns an</span>
<span class="sd">            error code (&gt;= 400).</span>
<span class="sd">        none_fields: what to do with parameters with value `None` in `data` or `json` fields.</span>

<span class="sd">            - if `&quot;exclude&quot;` (default), fields whose values are `None` are not included in the request.</span>
<span class="sd">            - if `&quot;include&quot;`, they are included with string value `None`. Note that this is</span>
<span class="sd">            the default behavior of `requests`.</span>
<span class="sd">            - if &quot;empty&quot;, they are included with an empty value (as an empty string).</span>
<span class="sd">        bool_fields: a tuple of (true_value, false_value). Fields from `data` or `params` with</span>
<span class="sd">            a boolean value (`True` or `False`) will be serialized to the corresponding value.</span>
<span class="sd">            This can be useful since some APIs expect a `&#39;true&#39;` or `&#39;false&#39;` value as boolean,</span>
<span class="sd">            and `requests` serializes `True` to `&#39;True&#39;` and `False` to `&#39;False&#39;`.</span>
<span class="sd">            Set it to `None` to restore default requests behaviour.</span>
<span class="sd">        session: a preconfigured `requests.Session` to use with this `ApiClient`.</span>
<span class="sd">        **session_kwargs: additional kwargs to configure the underlying `requests.Session`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exclude&quot;</span>
    <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span>
        <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">),</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">session_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">session_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bool_fields</span> <span class="o">=</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="n">base_url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span>
            <span class="n">none_fields</span><span class="o">=</span><span class="n">none_fields</span><span class="p">,</span>
            <span class="n">bool_fields</span><span class="o">=</span><span class="n">bool_fields</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">request</span><span class="p">(</span>  <span class="c1"># noqa: C901, PLR0913, D417</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
            <span class="o">|</span> <span class="nb">str</span>
            <span class="o">|</span> <span class="nb">bytes</span>
            <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
            <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
            <span class="o">|</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
            <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cookies</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">RequestsCookieJar</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">files</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">IO</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
            <span class="o">|</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span>
            <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">],</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">]</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">allow_redirects</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">proxies</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="kc">None</span>
        <span class="o">|</span> <span class="p">(</span>
            <span class="n">MutableMapping</span><span class="p">[</span>
                <span class="nb">str</span><span class="p">,</span>
                <span class="p">(</span><span class="n">Iterable</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]),</span>
            <span class="p">]</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">verify</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">json</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overridden `request` method with extra features.</span>

<span class="sd">        Features added compared to plain request():</span>

<span class="sd">        - takes a relative path instead of a full url, which will be appended to the</span>
<span class="sd">          base_url</span>
<span class="sd">        - it can raise an exception when the API returns a non-success status code</span>
<span class="sd">        - allow_redirects is False by default (since API usually don&#39;t use redirects)</span>
<span class="sd">        - `data` or `json` fields with value `None` can either be included or excluded from the</span>
<span class="sd">          request</span>
<span class="sd">        - boolean fields can be serialized to `&#39;true&#39;` or `&#39;false&#39;` instead of `&#39;True&#39;` and</span>
<span class="sd">          `&#39;False&#39;`</span>

<span class="sd">        Args:</span>
<span class="sd">          method: the HTTP method to use</span>
<span class="sd">          url: the url where the request will be sent to. Can be a path, as str ;</span>
<span class="sd">            that path will be joined to the configured API url. Can also be an iterable of path</span>
<span class="sd">            segments, that will be joined to the root url.</span>
<span class="sd">          raise_for_status: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>
<span class="sd">          none_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>
<span class="sd">          bool_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [requests.Response][] as returned by requests</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">none_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">none_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span>

        <span class="k">if</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;exclude&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;empty&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bool_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span>

        <span class="k">if</span> <span class="n">bool_fields</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">true_value</span><span class="p">,</span> <span class="n">false_value</span> <span class="o">=</span> <span class="n">bool_fields</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid value for &#39;bool_fields&#39;. Must be a 2 value tuple, with (true_value, false_value).&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                    <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                    <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                        <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>

        <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
            <span class="n">method</span><span class="p">,</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span>
            <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">allow_redirects</span><span class="o">=</span><span class="n">allow_redirects</span><span class="p">,</span>
            <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
            <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span>
            <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
            <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
            <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">raise_for_status</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">raise_for_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span>
        <span class="k">if</span> <span class="n">raise_for_status</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">to_absolute_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relative_url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a relative url to an absolute url.</span>

<span class="sd">        Given a `relative_url`, return the matching absolute url, based on the `base_url` that is</span>
<span class="sd">        configured for this API.</span>

<span class="sd">        The result of this method is different from a standard `urljoin()`, because a relative_url</span>
<span class="sd">        that starts with a &quot;/&quot; will not override the path from the base url. You can also pass an</span>
<span class="sd">        iterable of path parts as relative url, which will be properly joined with &quot;/&quot;. Those parts</span>
<span class="sd">        may be `str` (which will be urlencoded) or `bytes` (which will be decoded as UTF-8 first) or</span>
<span class="sd">        any other type (which will be converted to `str` first, using the `str() function`). See the</span>
<span class="sd">        table below for example results which would exhibit most cases:</span>

<span class="sd">        | base_url | relative_url | result_url |</span>
<span class="sd">        |---------------------------|-----------------------------|-------------------------------------------|</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | b&quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | None | &quot;https://myhost.com/root&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; |  (&quot;user&quot;, 1, &quot;resource&quot;) | &quot;https://myhost.com/root/user/1/resource&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;https://otherhost.org/foo&quot; | ValueError |</span>

<span class="sd">        Args:</span>
<span class="sd">          relative_url: a relative url</span>

<span class="sd">        Returns:</span>
<span class="sd">          the resulting absolute url</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">relative_url</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                            <span class="p">[</span><span class="n">urlencode</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">part</span><span class="p">))</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">url</span> <span class="k">if</span> <span class="n">part</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="s2">&quot;Unexpected url type, please pass a relative path as string or&quot;</span>
                            <span class="s2">&quot; bytes, or an iterable of string-able objects&quot;</span>
                        <span class="p">)</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                            <span class="n">msg</span><span class="p">,</span>
                            <span class="nb">type</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
                        <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

                <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;url must be relative to root_url&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                <span class="n">url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span>

        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unable to determine an absolute url.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a GET request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">            url: a url where the request will be sent.</span>
<span class="sd">            raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">            **kwargs: Optional arguments that [request()][requests.request] takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a POST request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: an url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">patch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a PATCH request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: an url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PATCH&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a PUT request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: a url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: additional kwargs for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a DELETE request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: a url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: additional kwargs for `requests.request()`.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow access sub resources with an attribute-based syntax.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: a subpath</span>

<span class="sd">        Returns:</span>
<span class="sd">            a new ApiClient initialised on the new base url</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client import ApiClient</span>

<span class="sd">            api = ApiClient(&quot;https://myapi.local&quot;)</span>
<span class="sd">            resource1 = api.resource1.get()  # GET https://myapi.local/resource1</span>
<span class="sd">            resource2 = api.resource2.get()  # GET https://myapi.local/resource2</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow access to sub resources with a subscription-based syntax.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: a subpath</span>

<span class="sd">        Returns:</span>
<span class="sd">            a new ApiClient initialised on the new base url</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client import ApiClient</span>

<span class="sd">            api = ApiClient(&quot;https://myapi.local&quot;)</span>
<span class="sd">            resource1 = api[&quot;resource1&quot;].get()  # GET https://myapi.local/resource1</span>
<span class="sd">            resource2 = api[&quot;resource2&quot;].get()  # GET https://myapi.local/resource2</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_base_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
            <span class="n">new_base_uri</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">,</span>
            <span class="n">none_fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span><span class="p">,</span>
            <span class="n">bool_fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">raise_for_status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow `ApiClient` to act as a context manager.</span>

<span class="sd">        You can then use an `ApiClient` instance in a `with` clause, the same way as</span>
<span class="sd">        `requests.Session`. The underlying request.Session will be closed on exit.</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            with ApiClient(&quot;https://myapi.com/path&quot;) as client:</span>
<span class="sd">                resp = client.get(&quot;resource&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the underlying requests.Session on exit.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">none_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bool_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Overridden <code>request</code> method with extra features.</p>
<p>Features added compared to plain request():</p>
<ul>
<li>takes a relative path instead of a full url, which will be appended to the
  base_url</li>
<li>it can raise an exception when the API returns a non-success status code</li>
<li>allow_redirects is False by default (since API usually don't use redirects)</li>
<li><code>data</code> or <code>json</code> fields with value <code>None</code> can either be included or excluded from the
  request</li>
<li>boolean fields can be serialized to <code>'true'</code> or <code>'false'</code> instead of <code>'True'</code> and
  <code>'False'</code></li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP method to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the url where the request will be sent to. Can be a path, as str ;
that path will be joined to the configured API url. Can also be an iterable of path
segments, that will be joined to the root url.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>none_fields</code></td>
          <td>
                <code><span title="typing_extensions.Literal">Literal</span>[&#39;include&#39;, &#39;exclude&#39;, &#39;empty&#39;] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>bool_fields</code></td>
          <td>
                <code>tuple[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">requests.Response</a> as returned by requests</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">request</span><span class="p">(</span>  <span class="c1"># noqa: C901, PLR0913, D417</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
        <span class="o">|</span> <span class="nb">str</span>
        <span class="o">|</span> <span class="nb">bytes</span>
        <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
        <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
        <span class="o">|</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
        <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">headers</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cookies</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">RequestsCookieJar</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">files</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">IO</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="kc">None</span>
        <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
        <span class="o">|</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span>
        <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">],</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">allow_redirects</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">proxies</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">hooks</span><span class="p">:</span> <span class="kc">None</span>
    <span class="o">|</span> <span class="p">(</span>
        <span class="n">MutableMapping</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Iterable</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]),</span>
        <span class="p">]</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">verify</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">json</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Overridden `request` method with extra features.</span>

<span class="sd">    Features added compared to plain request():</span>

<span class="sd">    - takes a relative path instead of a full url, which will be appended to the</span>
<span class="sd">      base_url</span>
<span class="sd">    - it can raise an exception when the API returns a non-success status code</span>
<span class="sd">    - allow_redirects is False by default (since API usually don&#39;t use redirects)</span>
<span class="sd">    - `data` or `json` fields with value `None` can either be included or excluded from the</span>
<span class="sd">      request</span>
<span class="sd">    - boolean fields can be serialized to `&#39;true&#39;` or `&#39;false&#39;` instead of `&#39;True&#39;` and</span>
<span class="sd">      `&#39;False&#39;`</span>

<span class="sd">    Args:</span>
<span class="sd">      method: the HTTP method to use</span>
<span class="sd">      url: the url where the request will be sent to. Can be a path, as str ;</span>
<span class="sd">        that path will be joined to the configured API url. Can also be an iterable of path</span>
<span class="sd">        segments, that will be joined to the root url.</span>
<span class="sd">      raise_for_status: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>
<span class="sd">      none_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>
<span class="sd">      bool_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [requests.Response][] as returned by requests</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">none_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">none_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span>

    <span class="k">if</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;exclude&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;empty&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">bool_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span>

    <span class="k">if</span> <span class="n">bool_fields</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">true_value</span><span class="p">,</span> <span class="n">false_value</span> <span class="o">=</span> <span class="n">bool_fields</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid value for &#39;bool_fields&#39;. Must be a 2 value tuple, with (true_value, false_value).&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>

    <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
        <span class="n">method</span><span class="p">,</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
        <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span>
        <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">allow_redirects</span><span class="o">=</span><span class="n">allow_redirects</span><span class="p">,</span>
        <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
        <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span>
        <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
        <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
        <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">raise_for_status</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">raise_for_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span>
    <span class="k">if</span> <span class="n">raise_for_status</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.to_absolute_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.to_absolute_url" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Convert a relative url to an absolute url.</p>
<p>Given a <code>relative_url</code>, return the matching absolute url, based on the <code>base_url</code> that is
configured for this API.</p>
<p>The result of this method is different from a standard <code>urljoin()</code>, because a relative_url
that starts with a "/" will not override the path from the base url. You can also pass an
iterable of path parts as relative url, which will be properly joined with "/". Those parts
may be <code>str</code> (which will be urlencoded) or <code>bytes</code> (which will be decoded as UTF-8 first) or
any other type (which will be converted to <code>str</code> first, using the <code>str() function</code>). See the
table below for example results which would exhibit most cases:</p>
<table>
<thead>
<tr>
<th>base_url</th>
<th>relative_url</th>
<th>result_url</th>
</tr>
</thead>
<tbody>
<tr>
<td>"https://myhost.com/root"</td>
<td>"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>b"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>None</td>
<td>"https://myhost.com/root"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>("user", 1, "resource")</td>
<td>"https://myhost.com/root/user/1/resource"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"https://otherhost.org/foo"</td>
<td>ValueError</td>
</tr>
</tbody>
</table>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>relative_url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a relative url</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resulting absolute url</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_absolute_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relative_url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a relative url to an absolute url.</span>

<span class="sd">    Given a `relative_url`, return the matching absolute url, based on the `base_url` that is</span>
<span class="sd">    configured for this API.</span>

<span class="sd">    The result of this method is different from a standard `urljoin()`, because a relative_url</span>
<span class="sd">    that starts with a &quot;/&quot; will not override the path from the base url. You can also pass an</span>
<span class="sd">    iterable of path parts as relative url, which will be properly joined with &quot;/&quot;. Those parts</span>
<span class="sd">    may be `str` (which will be urlencoded) or `bytes` (which will be decoded as UTF-8 first) or</span>
<span class="sd">    any other type (which will be converted to `str` first, using the `str() function`). See the</span>
<span class="sd">    table below for example results which would exhibit most cases:</span>

<span class="sd">    | base_url | relative_url | result_url |</span>
<span class="sd">    |---------------------------|-----------------------------|-------------------------------------------|</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | b&quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | None | &quot;https://myhost.com/root&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; |  (&quot;user&quot;, 1, &quot;resource&quot;) | &quot;https://myhost.com/root/user/1/resource&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;https://otherhost.org/foo&quot; | ValueError |</span>

<span class="sd">    Args:</span>
<span class="sd">      relative_url: a relative url</span>

<span class="sd">    Returns:</span>
<span class="sd">      the resulting absolute url</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">relative_url</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">urlencode</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">part</span><span class="p">))</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">url</span> <span class="k">if</span> <span class="n">part</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;Unexpected url type, please pass a relative path as string or&quot;</span>
                        <span class="s2">&quot; bytes, or an iterable of string-able objects&quot;</span>
                    <span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="n">msg</span><span class="p">,</span>
                        <span class="nb">type</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;url must be relative to root_url&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span>

    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unable to determine an absolute url.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.get" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.get" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a GET request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">request()</a> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a GET request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">        url: a url where the request will be sent.</span>
<span class="sd">        raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">        **kwargs: Optional arguments that [request()][requests.request] takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.post" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.post" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a POST request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <code>request</code> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a POST request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: an url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.patch" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">patch</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.patch" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a PATCH request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <code>request</code> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">patch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a PATCH request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: an url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PATCH&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.put" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.put" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a PUT request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a PUT request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: a url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: additional kwargs for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ApiClient.delete" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ApiClient.delete" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a DELETE request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs for <code>requests.request()</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a DELETE request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: a url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: additional kwargs for `requests.request()`.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BaseOAuth2RenewableTokenAuth" class="doc doc-heading">
          <code>BaseOAuth2RenewableTokenAuth</code>


<a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BearerAuth" href="#requests_oauth2client.auth.BearerAuth">BearerAuth</a></code></p>

  
      <p>Base class for BearerToken-based Auth Handlers, with an obtainable or renewable token.</p>
<p>In addition to adding a properly formatted <code>Authorization</code> header, this will obtain a new token
once the current token is expired. Expiration is detected based on the <code>expires_in</code> hint
returned by the AS. A configurable <code>leeway</code>, in number of seconds, will make sure that a new
token is obtained some seconds before the actual expiration is reached. This may help in
situations where the client, AS and RS have slightly offset clocks.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an initial Access Token, if you have one already. In most cases, leave <code>None</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>expiration leeway, in number of seconds</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to include in token requests</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOAuth2RenewableTokenAuth</span><span class="p">(</span><span class="n">BearerAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for BearerToken-based Auth Handlers, with an obtainable or renewable token.</span>

<span class="sd">    In addition to adding a properly formatted `Authorization` header, this will obtain a new token</span>
<span class="sd">    once the current token is expired. Expiration is detected based on the `expires_in` hint</span>
<span class="sd">    returned by the AS. A configurable `leeway`, in number of seconds, will make sure that a new</span>
<span class="sd">    token is obtained some seconds before the actual expiration is reached. This may help in</span>
<span class="sd">    situations where the client, AS and RS have slightly offset clocks.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client</span>
<span class="sd">        token: an initial Access Token, if you have one already. In most cases, leave `None`.</span>
<span class="sd">        leeway: expiration leeway, in number of seconds</span>
<span class="sd">        token_kwargs: additional kwargs to include in token requests</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leeway</span> <span class="o">=</span> <span class="n">leeway</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span> <span class="o">=</span> <span class="n">token_kwargs</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leeway</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">renew_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new Bearer Token.</span>

<span class="sd">        Subclasses should implement this.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">forget_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Forget the current token, forcing a renewal on the next HTTP request.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BaseOAuth2RenewableTokenAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Obtain a new Bearer Token.</p>
<p>Subclasses should implement this.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new Bearer Token.</span>

<span class="sd">    Subclasses should implement this.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BaseOAuth2RenewableTokenAuth.forget_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">forget_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.BaseOAuth2RenewableTokenAuth.forget_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Forget the current token, forcing a renewal on the next HTTP request.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">forget_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Forget the current token, forcing a renewal on the next HTTP request.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BearerAuth" class="doc doc-heading">
          <code>BearerAuth</code>


<a href="#requests_oauth2client.BearerAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code></p>

  
      <p>An Auth Handler that includes a Bearer Token in API calls, as defined in <a href="https://datatracker.ietf.org/doc/html/rfc6750#section-2.1">RFC6750$2.1</a>.</p>
<p>As a prerequisite to using this <code>AuthBase</code>, you have to obtain an access token manually.
You most likely don't want to do that by yourself, but instead use an instance of
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to do that for you.
See the others Auth Handlers in this module, which will automatically obtain
access tokens from an OAuth 2.x server.</p>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">auth</span> <span class="o">=</span> <span class="n">BearerAuth</span><span class="p">(</span><span class="s2">&quot;my_access_token&quot;</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://my.api.local/resource&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>The HTTP request will look like:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>GET /resource HTTP/1.1
Host: my.api.local
Authorization: Bearer my_access_token
</code></pre></div></td></tr></table></div></p>
</details>


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> or a string
to use as token for this Auth Handler. If <code>None</code>, this Auth Handler is a no-op.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BearerAuth</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An Auth Handler that includes a Bearer Token in API calls, as defined in [RFC6750$2.1].</span>

<span class="sd">    As a prerequisite to using this `AuthBase`, you have to obtain an access token manually.</span>
<span class="sd">    You most likely don&#39;t want to do that by yourself, but instead use an instance of</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] to do that for you.</span>
<span class="sd">    See the others Auth Handlers in this module, which will automatically obtain</span>
<span class="sd">    access tokens from an OAuth 2.x server.</span>

<span class="sd">    [RFC6750$2.1]: https://datatracker.ietf.org/doc/html/rfc6750#section-2.1</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        auth = BearerAuth(&quot;my_access_token&quot;)</span>
<span class="sd">        resp = requests.get(&quot;https://my.api.local/resource&quot;, auth=auth)</span>
<span class="sd">        ```</span>

<span class="sd">        The HTTP request will look like:</span>
<span class="sd">        ```</span>
<span class="sd">        GET /resource HTTP/1.1</span>
<span class="sd">        Host: my.api.local</span>
<span class="sd">        Authorization: Bearer my_access_token</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        token: a [BearerToken][requests_oauth2client.tokens.BearerToken] or a string</span>
<span class="sd">            to use as token for this Auth Handler. If `None`, this Auth Handler is a no-op.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>  <span class="c1"># type: ignore[assignment] # until https://github.com/python/mypy/issues/3004 is fixed</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the [BearerToken] that is used for authorization against the API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the configured [BearerToken][requests_oauth2client.tokens.BearerToken] used with this</span>
<span class="sd">            AuthHandler.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>

    <span class="nd">@token</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the access token used with this AuthHandler.</span>

<span class="sd">        Accepts a [BearerToken][requests_oauth2client.tokens.BearerToken] or an access token as</span>
<span class="sd">        `str`.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: an access token to use for this Auth Handler</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">token</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the usage of Bearer Tokens in requests.</span>

<span class="sd">        This will add a properly formatted `Authorization: Bearer &lt;token&gt;` header in the request.</span>

<span class="sd">        If the configured token is an instance of BearerToken with an expires_at attribute, raises</span>
<span class="sd">        [ExpiredAccessToken][requests_oauth2client.exceptions.ExpiredAccessToken] once the access</span>
<span class="sd">        token is expired.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [PreparedRequest][requests.PreparedRequest]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [PreparedRequest][requests.PreparedRequest] with an Access Token added in</span>
<span class="sd">            Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">request</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ExpiredAccessToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">authorization_header</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.BearerAuth.token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#requests_oauth2client.BearerAuth.token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the [BearerToken] that is used for authorization against the API.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the configured <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> used with this</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>AuthHandler.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2AccessTokenAuth" class="doc doc-heading">
          <code>OAuth2AccessTokenAuth</code>


<a href="#requests_oauth2client.OAuth2AccessTokenAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>Authentication Handler for OAuth 2.0 Access Tokens and (optional) Refresh Tokens.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation uses an access token as
Bearer token, and can automatically refresh it when expired, if a refresh token is available.</p>
<p>Token can be a simple <code>str</code> containing a raw access token value, or a
<a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> that can contain a refresh_token. If a
refresh_token and an expiration date are available, this Auth Handler will automatically refresh
the access token once it is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to refresh tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a access token that has been previously obtained</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
token = BearerToken(
    access_token="access_token", expires_in=600, refresh_token="refresh_token"
)  # obtain a BearerToken any way you see fit, including a refresh token
oauth2at_auth = OAuth2ClientCredentialsAuth(client, token, scope="my_scope")
resp = requests.post("https://my.api.local/resource", auth=oauth2at_auth)
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2AccessTokenAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for OAuth 2.0 Access Tokens and (optional) Refresh Tokens.</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation uses an access token as</span>
<span class="sd">    Bearer token, and can automatically refresh it when expired, if a refresh token is available.</span>

<span class="sd">    Token can be a simple `str` containing a raw access token value, or a</span>
<span class="sd">    [BearerToken][requests_oauth2client.tokens.BearerToken] that can contain a refresh_token. If a</span>
<span class="sd">    refresh_token and an expiration date are available, this Auth Handler will automatically refresh</span>
<span class="sd">    the access token once it is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to refresh tokens.</span>
<span class="sd">        token: a access token that has been previously obtained</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        token = BearerToken(</span>
<span class="sd">            access_token=&quot;access_token&quot;, expires_in=600, refresh_token=&quot;refresh_token&quot;</span>
<span class="sd">        )  # obtain a BearerToken any way you see fit, including a refresh token</span>
<span class="sd">        oauth2at_auth = OAuth2ClientCredentialsAuth(client, token, scope=&quot;my_scope&quot;)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=oauth2at_auth)</span>
<span class="sd">        ````</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new token, using the Refresh Token, if available.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2AccessTokenAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.OAuth2AccessTokenAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Obtain a new token, using the Refresh Token, if available.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new token, using the Refresh Token, if available.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2AuthorizationCodeAuth" class="doc doc-heading">
          <code>OAuth2AuthorizationCodeAuth</code>


<a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2AccessTokenAuth" href="#requests_oauth2client.auth.OAuth2AccessTokenAuth">OAuth2AccessTokenAuth</a></code></p>

  
      <p>Authentication handler for the Authorization Code grant.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges an Authorization
Code for an access token, then automatically refreshes it once it is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an Authorization Code that has been obtained from the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
code = "my_code"  # you must obtain this code yourself
resp = requests.post("https://my.api.local/resource", auth=OAuth2AuthorizationCodeAuth(client, code))
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2AuthorizationCodeAuth</span><span class="p">(</span><span class="n">OAuth2AccessTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication handler for the Authorization Code grant.</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges an Authorization</span>
<span class="sd">    Code for an access token, then automatically refreshes it once it is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        code: an Authorization Code that has been obtained from the AS.</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        code = &quot;my_code&quot;  # you must obtain this code yourself</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=OAuth2AuthorizationCodeAuth(client, code))</span>
<span class="sd">        ````</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">code</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Authorization Code grant as an Authentication Handler.</span>

<span class="sd">        This exchanges an Authorization Code for an access token and adds it in the request.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [PreparedRequest][requests.PreparedRequest]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [PreparedRequest][requests.PreparedRequest] with an Access Token added in</span>
<span class="sd">            Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exchange_code_for_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exchange_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain the initial access token with the authorization_code grant.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exchange_code_for_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Obtain the initial access token with the authorization_code grant.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exchange_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain the initial access token with the authorization_code grant.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2ClientCredentialsAuth" class="doc doc-heading">
          <code>OAuth2ClientCredentialsAuth</code>


<a href="#requests_oauth2client.OAuth2ClientCredentialsAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>An Auth Handler for the Client Credentials grant.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests AuthBase</a> automatically gets Access Tokens from an OAuth
2.0 Token Endpoint with the Client Credentials grant, and will get a new one once the current
one is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra kw parameters to pass to the Token Endpoint. May include <code>scope</code>, <code>resource</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/token&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">))</span>
<span class="n">oauth2cc</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my_scope&quot;</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;https://my.api.local/resource&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">oauth2cc</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An Auth Handler for the Client Credentials grant.</span>

<span class="sd">    This [requests AuthBase][requests.auth.AuthBase] automatically gets Access Tokens from an OAuth</span>
<span class="sd">    2.0 Token Endpoint with the Client Credentials grant, and will get a new one once the current</span>
<span class="sd">    one is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        **token_kwargs: extra kw parameters to pass to the Token Endpoint. May include `scope`, `resource`, etc.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        oauth2cc = OAuth2ClientCredentialsAuth(client, scope=&quot;my_scope&quot;)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=oauth2cc)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new token for use within this Auth Handler.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2ClientCredentialsAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.OAuth2ClientCredentialsAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Obtain a new token for use within this Auth Handler.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new token for use within this Auth Handler.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2DeviceCodeAuth" class="doc doc-heading">
          <code>OAuth2DeviceCodeAuth</code>


<a href="#requests_oauth2client.OAuth2DeviceCodeAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2AccessTokenAuth" href="#requests_oauth2client.auth.OAuth2AccessTokenAuth">OAuth2AccessTokenAuth</a></code></p>

  
      <p>Authentication Handler for the <a href="https://www.rfc-editor.org/rfc/rfc8628">Device Code Flow</a>.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges a Device Code for
an Access Token, then automatically refreshes it once it is expired.</p>
<p>It needs a Device Code and an <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to be
able to get a token from the AS Token Endpoint just before the first request using this Auth
Handler is being sent.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Device Code obtained from the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the interval to use to pool the Token Endpoint, in seconds.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>expires_in</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime of the token, in seconds.</p>
            </div>
          </td>
          <td>
                <code>360</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
device_code = client.device_authorization()
auth = OAuth2DeviceCodeAuth(client, device_code)
resp = requests.post("https://my.api.local/resource", auth=auth)
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2DeviceCodeAuth</span><span class="p">(</span><span class="n">OAuth2AccessTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for the [Device Code Flow](https://www.rfc-editor.org/rfc/rfc8628).</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges a Device Code for</span>
<span class="sd">    an Access Token, then automatically refreshes it once it is expired.</span>

<span class="sd">    It needs a Device Code and an [OAuth2Client][requests_oauth2client.client.OAuth2Client] to be</span>
<span class="sd">    able to get a token from the AS Token Endpoint just before the first request using this Auth</span>
<span class="sd">    Handler is being sent.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        device_code: a Device Code obtained from the AS.</span>
<span class="sd">        interval: the interval to use to pool the Token Endpoint, in seconds.</span>
<span class="sd">        expires_in: the lifetime of the token, in seconds.</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        device_code = client.device_authorization()</span>
<span class="sd">        auth = OAuth2DeviceCodeAuth(client, device_code)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=auth)</span>
<span class="sd">        ````</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">device_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span> <span class="o">=</span> <span class="n">expires_in</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Device Code grant as a request Authentication Handler.</span>

<span class="sd">        This exchanges a Device Code for an access token and adds it in HTTP requests.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with an Access Token added in Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exchange_device_code_for_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exchange_device_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exchange the Device Code for an access token.</span>

<span class="sd">        This will poll the Token Endpoint until the user finishes the authorization process.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.device_authorization</span> <span class="kn">import</span> <span class="n">DeviceAuthorizationPoolingJob</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="n">pooling_job</span> <span class="o">=</span> <span class="n">DeviceAuthorizationPoolingJob</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span>
                <span class="n">device_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
                <span class="n">interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">pooling_job</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exchange_device_code_for_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Exchange the Device Code for an access token.</p>
<p>This will poll the Token Endpoint until the user finishes the authorization process.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exchange_device_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exchange the Device Code for an access token.</span>

<span class="sd">    This will poll the Token Endpoint until the user finishes the authorization process.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">.device_authorization</span> <span class="kn">import</span> <span class="n">DeviceAuthorizationPoolingJob</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="n">pooling_job</span> <span class="o">=</span> <span class="n">DeviceAuthorizationPoolingJob</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span>
            <span class="n">device_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">pooling_job</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2ResourceOwnerPasswordAuth" class="doc doc-heading">
          <code>OAuth2ResourceOwnerPasswordAuth</code>


<a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>Authentication Handler for the <a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.3">Resource Owner Password Flow</a>.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges the user
credentials for an Access Token, then automatically obtains a new one once it is expired.</p>
<p>Note that this flow is considered <em>deprecated</em>, and the Authorization Code flow should be
used whenever possible. Among other bad things, ROPC does not support SSO nor MFA and
depends on the user typing its credentials directly inside the application instead of on a
dedicated login page, which makes it totally insecure for 3rd party apps.</p>
<p>It needs the username and password and an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to be able to get a token from
the AS Token Endpoint just before the first request using this Auth Handler is being sent.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain
Access Tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>username</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the username</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>password</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the user password</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an amount of time, in seconds</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2ResourceOwnerPasswordAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for the [Resource Owner Password Flow](https://www.rfc-editor.org/rfc/rfc6749#section-4.3).</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges the user</span>
<span class="sd">    credentials for an Access Token, then automatically obtains a new one once it is expired.</span>

<span class="sd">    Note that this flow is considered *deprecated*, and the Authorization Code flow should be</span>
<span class="sd">    used whenever possible. Among other bad things, ROPC does not support SSO nor MFA and</span>
<span class="sd">    depends on the user typing its credentials directly inside the application instead of on a</span>
<span class="sd">    dedicated login page, which makes it totally insecure for 3rd party apps.</span>

<span class="sd">    It needs the username and password and an</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] to be able to get a token from</span>
<span class="sd">    the AS Token Endpoint just before the first request using this Auth Handler is being sent.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain</span>
<span class="sd">            Access Tokens</span>
<span class="sd">        username: the username</span>
<span class="sd">        password: the user password</span>
<span class="sd">        leeway: an amount of time, in seconds</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exchange the user credentials for an Access Token.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">resource_owner_password</span><span class="p">(</span>
            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2ResourceOwnerPasswordAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.OAuth2ResourceOwnerPasswordAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Exchange the user credentials for an Access Token.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exchange the user credentials for an Access Token.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">resource_owner_password</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AuthorizationRequest" class="doc doc-heading">
          <code>AuthorizationRequest</code>


<a href="#requests_oauth2client.AuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request.</p>
<p>This class makes it easy to generate valid Authorization Request URI (possibly including a
state, nonce, PKCE, and custom args), to store all parameters, and to validate an Authorization
Response.</p>
<p>All parameters passed at init time will be included in the request query parameters as-is,
excepted for a few parameters which have a special behaviour:</p>
<ul>
<li><code>state</code>: if <code>...</code> (default), a random <code>state</code> parameter will be generated for you.
  You may pass your own <code>state</code> as <code>str</code>, or set it to <code>None</code> so that the <code>state</code> parameter
  will not be included in the request. You may access that state in the <code>state</code> attribute
  from this request.</li>
<li><code>nonce</code>: if <code>...</code> (default) and <code>scope</code> includes 'openid', a random <code>nonce</code> will be
  generated and included in the request. You may access that <code>nonce</code> in the <code>nonce</code> attribute
  from this request.</li>
<li><code>code_verifier</code>: if <code>None</code>, and <code>code_challenge_method</code> is <code>'S256'</code> or <code>'plain'</code>,
  a valid <code>code_challenge</code> and <code>code_verifier</code> for PKCE will be automatically generated,
  and the <code>code_challenge</code> will be included in the request.
  You may pass your own <code>code_verifier</code> as a <code>str</code> parameter, in which case the
  appropriate <code>code_challenge</code> will be included in the request, according to the
  <code>code_challenge_method</code>.</li>
<li><code>authorization_response_iss_parameter_supported</code> and <code>issuer</code>:
   those are used for Server Issuer Identification. If <code>ìssuer</code> is set and an issuer is
   included in the Authorization Response, then the consistency between those 2 values will be
   checked when using <code>validate_callback()</code>. If issuer is not included in the response, and
   <code>authorization_response_iss_parameter_supported</code> is <code>False</code> (default), then no issuer check
   is performed. Set <code>authorization_response_iss_parameter_supported</code>
   to <code>True</code> to enforce server identification: if no issuer is included in the Authorization
   Response, then an error will be raised instead.</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the uri for the authorization endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to include in the request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri to include in the request. This is required in OAuth 2.0 and optional
in OAuth 2.1. Pass <code>None</code> if you don't need any redirect_uri in the Authorization
Request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to include in the request, as an iterable of <code>str</code>, or a single space-separated <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>response_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response type to include in the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;code&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the state to include in the request, or <code>...</code> to autogenerate one (default).</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>nonce</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the nonce to include in the request, or <code>...</code> to autogenerate one (default).</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the code verifier to include in the request.
If left as <code>None</code> and <code>code_challenge_method</code> is set, a valid code_verifier
will be generated.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_challenge_method</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use to derive the <code>code_challenge</code> from the <code>code_verifier</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>acr_values</code></td>
          <td>
                <code>str | <span title="typing.Iterable">Iterable</span>[str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>requested Authentication Context Class Reference values.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Issuer Identifier value from the OAuth/OIDC Server, if using Server Issuer Identification.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request, as-is.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request.</span>

<span class="sd">    This class makes it easy to generate valid Authorization Request URI (possibly including a</span>
<span class="sd">    state, nonce, PKCE, and custom args), to store all parameters, and to validate an Authorization</span>
<span class="sd">    Response.</span>

<span class="sd">    All parameters passed at init time will be included in the request query parameters as-is,</span>
<span class="sd">    excepted for a few parameters which have a special behaviour:</span>

<span class="sd">    - `state`: if `...` (default), a random `state` parameter will be generated for you.</span>
<span class="sd">      You may pass your own `state` as `str`, or set it to `None` so that the `state` parameter</span>
<span class="sd">      will not be included in the request. You may access that state in the `state` attribute</span>
<span class="sd">      from this request.</span>
<span class="sd">    - `nonce`: if `...` (default) and `scope` includes &#39;openid&#39;, a random `nonce` will be</span>
<span class="sd">      generated and included in the request. You may access that `nonce` in the `nonce` attribute</span>
<span class="sd">      from this request.</span>
<span class="sd">    - `code_verifier`: if `None`, and `code_challenge_method` is `&#39;S256&#39;` or `&#39;plain&#39;`,</span>
<span class="sd">      a valid `code_challenge` and `code_verifier` for PKCE will be automatically generated,</span>
<span class="sd">      and the `code_challenge` will be included in the request.</span>
<span class="sd">      You may pass your own `code_verifier` as a `str` parameter, in which case the</span>
<span class="sd">      appropriate `code_challenge` will be included in the request, according to the</span>
<span class="sd">      `code_challenge_method`.</span>
<span class="sd">    - `authorization_response_iss_parameter_supported` and `issuer`:</span>
<span class="sd">       those are used for Server Issuer Identification. If `ìssuer` is set and an issuer is</span>
<span class="sd">       included in the Authorization Response, then the consistency between those 2 values will be</span>
<span class="sd">       checked when using `validate_callback()`. If issuer is not included in the response, and</span>
<span class="sd">       `authorization_response_iss_parameter_supported` is `False` (default), then no issuer check</span>
<span class="sd">       is performed. Set `authorization_response_iss_parameter_supported`</span>
<span class="sd">       to `True` to enforce server identification: if no issuer is included in the Authorization</span>
<span class="sd">       Response, then an error will be raised instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the uri for the authorization endpoint.</span>
<span class="sd">        client_id: the client_id to include in the request.</span>
<span class="sd">        redirect_uri: the redirect_uri to include in the request. This is required in OAuth 2.0 and optional</span>
<span class="sd">            in OAuth 2.1. Pass `None` if you don&#39;t need any redirect_uri in the Authorization</span>
<span class="sd">            Request.</span>
<span class="sd">        scope: the scope to include in the request, as an iterable of `str`, or a single space-separated `str`.</span>
<span class="sd">        response_type: the response type to include in the request.</span>
<span class="sd">        state: the state to include in the request, or `...` to autogenerate one (default).</span>
<span class="sd">        nonce: the nonce to include in the request, or `...` to autogenerate one (default).</span>
<span class="sd">        code_verifier: the code verifier to include in the request.</span>
<span class="sd">            If left as `None` and `code_challenge_method` is set, a valid code_verifier</span>
<span class="sd">            will be generated.</span>
<span class="sd">        code_challenge_method: the method to use to derive the `code_challenge` from the `code_verifier`.</span>
<span class="sd">        acr_values: requested Authentication Context Class Reference values.</span>
<span class="sd">        issuer: Issuer Identifier value from the OAuth/OIDC Server, if using Server Issuer Identification.</span>
<span class="sd">        **kwargs: extra parameters to include in the request, as-is.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;openid&quot;</span><span class="p">,))</span>
    <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;S256&quot;</span><span class="p">)</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_challenge</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">exception_classes</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;interaction_required&quot;</span><span class="p">:</span> <span class="n">InteractionRequired</span><span class="p">,</span>
        <span class="s2">&quot;login_required&quot;</span><span class="p">:</span> <span class="n">LoginRequired</span><span class="p">,</span>
        <span class="s2">&quot;session_selection_required&quot;</span><span class="p">:</span> <span class="n">SessionSelectionRequired</span><span class="p">,</span>
        <span class="s2">&quot;consent_required&quot;</span><span class="p">:</span> <span class="n">ConsentRequired</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_state</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a random `state` parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_nonce</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a random `nonce`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913, C901</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;When &#39;authorization_response_iss_parameter_supported&#39; is `True`, you must&quot;</span>
                <span class="s2">&quot; provide the expected `issuer` as parameter.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="o">...</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_state</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">state</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

        <span class="k">if</span> <span class="n">nonce</span> <span class="ow">is</span> <span class="o">...</span><span class="p">:</span>
            <span class="n">nonce</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_nonce</span><span class="p">()</span> <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s2">&quot;openid&quot;</span> <span class="ow">in</span> <span class="n">scope</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">nonce</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nonce</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">nonce</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">scope</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">scope</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="o">.</span><span class="n">split</span><span class="p">())</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">max_age</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The `max_age` parameter is a number of seconds and cannot be negative.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;code_challenge&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;A `code_challenge` must not be passed as parameter. Pass the `code_verifier`&quot;</span>
                <span class="s2">&quot; instead, and the appropriate `code_challenge` will automatically be derived&quot;</span>
                <span class="s2">&quot; from it and included in the request, based on `code_challenge_method`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">code_challenge</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">code_challenge_method</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">code_verifier</span><span class="p">:</span>
                <span class="n">code_verifier</span> <span class="o">=</span> <span class="n">PkceUtils</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
            <span class="n">code_challenge</span> <span class="o">=</span> <span class="n">PkceUtils</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">code_verifier</span><span class="p">,</span> <span class="n">code_challenge_method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">code_verifier</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="n">max_age</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;code_challenge&quot;</span><span class="p">,</span> <span class="n">code_challenge</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the full argument dict.</span>

<span class="sd">        This can be used to serialize this request and/or to initialize a similar request.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">args</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a dict with all the query parameters from this AuthorizationRequest.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dict of parameters</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)}</span>
        <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]:</span>
            <span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">])</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">validate_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate an Authorization Response against this Request.</span>

<span class="sd">        Validate a given Authorization Response URI against this Authorization Request, and return</span>
<span class="sd">        an</span>
<span class="sd">        [AuthorizationResponse][requests_oauth2client.authorization_request.AuthorizationResponse].</span>

<span class="sd">        This includes matching the `state` parameter, checking for returned errors, and extracting</span>
<span class="sd">        the returned `code` and other parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the Authorization Response URI. This can be the full URL, or just the</span>
<span class="sd">                query parameters (still encoded as x-www-form-urlencoded).</span>

<span class="sd">        Returns:</span>
<span class="sd">            the extracted code, if all checks are successful</span>

<span class="sd">        Raises:</span>
<span class="sd">            MismatchingIssuer: if the &#39;iss&#39; received from the response does not match the</span>
<span class="sd">                expected value.</span>
<span class="sd">            MismatchingState: if the response `state` does not match the expected value.</span>
<span class="sd">            OAuth2Error: if the response includes an error.</span>
<span class="sd">            MissingAuthCode: if the response does not contain a `code`.</span>
<span class="sd">            NotImplementedError: if response_type anything else than &#39;code&#39;.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="c1"># validate &#39;iss&#39; according to RFC9207</span>
        <span class="n">received_issuer</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iss&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">or</span> <span class="n">received_issuer</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">received_issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingIssuer</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">received_issuer</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">received_issuer</span><span class="p">)</span>

        <span class="c1"># validate state</span>
        <span class="n">requested_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
        <span class="k">if</span> <span class="n">requested_state</span><span class="p">:</span>
            <span class="n">received_state</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">requested_state</span> <span class="o">!=</span> <span class="n">received_state</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MismatchingState</span><span class="p">(</span><span class="n">requested_state</span><span class="p">,</span> <span class="n">received_state</span><span class="p">)</span>

        <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_type</span><span class="p">:</span>
            <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">code</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingAuthCode</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">AuthorizationResponse</span><span class="p">(</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_age</span><span class="p">,</span>
            <span class="o">**</span><span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_request_jwt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignedJwt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign the `request` object that matches this Authorization Request parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            jwk: the JWK to use to sign the request</span>
<span class="sd">            alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">            lifetime: an optional number of seconds of validity for the signed request.</span>
<span class="sd">                If present, `iat` an `exp` claims will be included in the signed JWT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `Jwt` that contains the signed request object.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign this Authorization Request and return a new one.</span>

<span class="sd">        This replaces all parameters with a signed `request` JWT.</span>

<span class="sd">        Args:</span>
<span class="sd">            jwk: the JWK to use to sign the request</span>
<span class="sd">            alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, don&#39;t use an &#39;exp&#39; claim.</span>
<span class="sd">            kwargs: additional query parameters to include in the signed authorization request</span>

<span class="sd">        Returns:</span>
<span class="sd">            the signed Authorization Request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">request_jwt</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_and_encrypt_request_jwt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JweCompact</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign and encrypt a `request` object for this Authorization Request.</span>

<span class="sd">        The signed `request` will contain the same parameters as this AuthorizationRequest.</span>

<span class="sd">        Args:</span>
<span class="sd">            sign_jwk: the JWK to use to sign the request</span>
<span class="sd">            enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">            sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">            enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">            enc: the encoding to use to encrypt the request.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the signed and encrypted request object, as a `jwskate.Jwt`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign_and_encrypt</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
            <span class="n">sign_key</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
            <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
            <span class="n">enc_key</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
            <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
            <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_and_encrypt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign and encrypt the current Authorization Request.</span>

<span class="sd">        This replaces all parameters with a matching `request` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            sign_jwk: the JWK to use to sign the request</span>
<span class="sd">            enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">            sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">            enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">            enc: the encoding to use to encrypt the request.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `RequestParameterAuthorizationRequest`, with a request object as parameter</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span>
            <span class="n">sign_jwk</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
            <span class="n">enc_jwk</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
            <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
            <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
            <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
            <span class="n">lifetime</span><span class="o">=</span><span class="n">lifetime</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_response_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for Authorization Response errors.</span>

<span class="sd">        Triggered by</span>
<span class="sd">        [validate_callback()][requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback]</span>
<span class="sd">        if the response uri contains an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the Authorization Response URI. This can be the full URL, or just the query parameters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            may return a default code that will be returned by `validate_callback`. But this method</span>
<span class="sd">            will most likely raise exceptions instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">AuthorizationResponseError</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.AuthorizationRequest.args" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequest.args" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return a dict with all the query parameters from this AuthorizationRequest.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a dict of parameters</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.AuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.AuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.generate_state" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_state</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequest.generate_state" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a random <code>state</code> parameter.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_state</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random `state` parameter.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.generate_nonce" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_nonce</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequest.generate_nonce" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a random <code>nonce</code>.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_nonce</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random `nonce`.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.as_dict" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">as_dict</span><span class="p">()</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.as_dict" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the full argument dict.</p>
<p>This can be used to serialize this request and/or to initialize a similar request.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the full argument dict.</span>

<span class="sd">    This can be used to serialize this request and/or to initialize a similar request.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.validate_callback" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_callback</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.validate_callback" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Validate an Authorization Response against this Request.</p>
<p>Validate a given Authorization Response URI against this Authorization Request, and return
an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a>.</p>
<p>This includes matching the <code>state</code> parameter, checking for returned errors, and extracting
the returned <code>code</code> and other parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Response URI. This can be the full URL, or just the
query parameters (still encoded as x-www-form-urlencoded).</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the extracted code, if all checks are successful</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MismatchingIssuer" href="#requests_oauth2client.exceptions.MismatchingIssuer">MismatchingIssuer</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the 'iss' received from the response does not match the
expected value.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MismatchingState" href="#requests_oauth2client.exceptions.MismatchingState">MismatchingState</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response <code>state</code> does not match the expected value.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response includes an error.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MissingAuthCode" href="#requests_oauth2client.exceptions.MissingAuthCode">MissingAuthCode</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response does not contain a <code>code</code>.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>NotImplementedError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if response_type anything else than 'code'.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate an Authorization Response against this Request.</span>

<span class="sd">    Validate a given Authorization Response URI against this Authorization Request, and return</span>
<span class="sd">    an</span>
<span class="sd">    [AuthorizationResponse][requests_oauth2client.authorization_request.AuthorizationResponse].</span>

<span class="sd">    This includes matching the `state` parameter, checking for returned errors, and extracting</span>
<span class="sd">    the returned `code` and other parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the Authorization Response URI. This can be the full URL, or just the</span>
<span class="sd">            query parameters (still encoded as x-www-form-urlencoded).</span>

<span class="sd">    Returns:</span>
<span class="sd">        the extracted code, if all checks are successful</span>

<span class="sd">    Raises:</span>
<span class="sd">        MismatchingIssuer: if the &#39;iss&#39; received from the response does not match the</span>
<span class="sd">            expected value.</span>
<span class="sd">        MismatchingState: if the response `state` does not match the expected value.</span>
<span class="sd">        OAuth2Error: if the response includes an error.</span>
<span class="sd">        MissingAuthCode: if the response does not contain a `code`.</span>
<span class="sd">        NotImplementedError: if response_type anything else than &#39;code&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="c1"># validate &#39;iss&#39; according to RFC9207</span>
    <span class="n">received_issuer</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iss&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">or</span> <span class="n">received_issuer</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">received_issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingIssuer</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">received_issuer</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">received_issuer</span><span class="p">)</span>

    <span class="c1"># validate state</span>
    <span class="n">requested_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
    <span class="k">if</span> <span class="n">requested_state</span><span class="p">:</span>
        <span class="n">received_state</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">requested_state</span> <span class="o">!=</span> <span class="n">received_state</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingState</span><span class="p">(</span><span class="n">requested_state</span><span class="p">,</span> <span class="n">received_state</span><span class="p">)</span>

    <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_type</span><span class="p">:</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingAuthCode</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">AuthorizationResponse</span><span class="p">(</span>
        <span class="n">code_verifier</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acr_values</span><span class="p">,</span>
        <span class="n">max_age</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_age</span><span class="p">,</span>
        <span class="o">**</span><span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.sign_request_jwt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.sign_request_jwt" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Sign the <code>request</code> object that matches this Authorization Request parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided <code>jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an optional number of seconds of validity for the signed request.
If present, <code>iat</code> an <code>exp</code> claims will be included in the signed JWT.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.SignedJwt">SignedJwt</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>Jwt</code> that contains the signed request object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_request_jwt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignedJwt</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign the `request` object that matches this Authorization Request parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        jwk: the JWK to use to sign the request</span>
<span class="sd">        alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">        lifetime: an optional number of seconds of validity for the signed request.</span>
<span class="sd">            If present, `iat` an `exp` claims will be included in the signed JWT.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `Jwt` that contains the signed request object.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
    <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.sign" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.sign" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Sign this Authorization Request and return a new one.</p>
<p>This replaces all parameters with a signed <code>request</code> JWT.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided <code>jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, don't use an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional query parameters to include in the signed authorization request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest">RequestParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the signed Authorization Request</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign this Authorization Request and return a new one.</span>

<span class="sd">    This replaces all parameters with a signed `request` JWT.</span>

<span class="sd">    Args:</span>
<span class="sd">        jwk: the JWK to use to sign the request</span>
<span class="sd">        alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, don&#39;t use an &#39;exp&#39; claim.</span>
<span class="sd">        kwargs: additional query parameters to include in the signed authorization request</span>

<span class="sd">    Returns:</span>
<span class="sd">        the signed Authorization Request</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="n">request_jwt</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.sign_and_encrypt_request_jwt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span><span class="n">sign_jwk</span><span class="p">,</span> <span class="n">enc_jwk</span><span class="p">,</span> <span class="n">sign_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc</span><span class="o">=</span><span class="s1">&#39;A128CBC-HS256&#39;</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt_request_jwt" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Sign and encrypt a <code>request</code> object for this Authorization Request.</p>
<p>The signed <code>request</code> will contain the same parameters as this AuthorizationRequest.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sign_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>enc_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to encrypt the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sign_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if <code>sign_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to encrypt the request, if <code>enc_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the encoding to use to encrypt the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;A128CBC-HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, do not include an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.JweCompact">JweCompact</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the signed and encrypted request object, as a <code>jwskate.Jwt</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_and_encrypt_request_jwt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JweCompact</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign and encrypt a `request` object for this Authorization Request.</span>

<span class="sd">    The signed `request` will contain the same parameters as this AuthorizationRequest.</span>

<span class="sd">    Args:</span>
<span class="sd">        sign_jwk: the JWK to use to sign the request</span>
<span class="sd">        enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">        sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">        enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">        enc: the encoding to use to encrypt the request.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the signed and encrypted request object, as a `jwskate.Jwt`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
    <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign_and_encrypt</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
        <span class="n">sign_key</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
        <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
        <span class="n">enc_key</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
        <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.sign_and_encrypt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_and_encrypt</span><span class="p">(</span><span class="n">sign_jwk</span><span class="p">,</span> <span class="n">enc_jwk</span><span class="p">,</span> <span class="n">sign_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc</span><span class="o">=</span><span class="s1">&#39;A128CBC-HS256&#39;</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.sign_and_encrypt" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Sign and encrypt the current Authorization Request.</p>
<p>This replaces all parameters with a matching <code>request</code> object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sign_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>enc_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to encrypt the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sign_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if <code>sign_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to encrypt the request, if <code>enc_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the encoding to use to encrypt the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;A128CBC-HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, do not include an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest">RequestParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>RequestParameterAuthorizationRequest</code>, with a request object as parameter</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_and_encrypt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign and encrypt the current Authorization Request.</span>

<span class="sd">    This replaces all parameters with a matching `request` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        sign_jwk: the JWK to use to sign the request</span>
<span class="sd">        enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">        sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">        enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">        enc: the encoding to use to encrypt the request.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `RequestParameterAuthorizationRequest`, with a request object as parameter</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span>
        <span class="n">sign_jwk</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
        <span class="n">enc_jwk</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
        <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
        <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="o">=</span><span class="n">lifetime</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequest.on_response_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequest.on_response_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for Authorization Response errors.</p>
<p>Triggered by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback">validate_callback()</a>
if the response uri contains an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Response URI. This can be the full URL, or just the query parameters.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>may return a default code that will be returned by <code>validate_callback</code>. But this method</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>will most likely raise exceptions instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_response_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for Authorization Response errors.</span>

<span class="sd">    Triggered by</span>
<span class="sd">    [validate_callback()][requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback]</span>
<span class="sd">    if the response uri contains an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the Authorization Response URI. This can be the full URL, or just the query parameters.</span>

<span class="sd">    Returns:</span>
<span class="sd">        may return a default code that will be returned by `validate_callback`. But this method</span>
<span class="sd">        will most likely raise exceptions instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
    <span class="n">error_description</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
    <span class="n">error_uri</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
    <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">AuthorizationResponseError</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AuthorizationRequestSerializer" class="doc doc-heading">
          <code>AuthorizationRequestSerializer</code>


<a href="#requests_oauth2client.AuthorizationRequestSerializer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>(De)Serializer for <code>AuthorizationRequest</code> instances.</p>
<p>You might need to store pending authorization requests in session, either server-side or client-
side. This class is here to help you do that.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationRequestSerializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;(De)Serializer for `AuthorizationRequest` instances.</span>

<span class="sd">    You might need to store pending authorization requests in session, either server-side or client-</span>
<span class="sd">    side. This class is here to help you do that.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dumper</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">AuthorizationRequest</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">loader</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span> <span class="o">=</span> <span class="n">dumper</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_dumper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">loader</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_loader</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a default dumper implementation.</span>

<span class="sd">        Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as</span>
<span class="sd">        base64url.</span>

<span class="sd">        Args:</span>
<span class="sd">            azr: the `AuthorizationRequest` to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span>
        <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">azr_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthorizationRequest</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a default deserializer implementation.</span>

<span class="sd">        This does the opposite operations than `default_dumper`.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized AuthorizationRequest</span>
<span class="sd">            azr_class: the class to deserialize the Authorization Request to</span>

<span class="sd">        Returns:</span>
<span class="sd">            an AuthorizationRequest</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">azr_class</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given AuthorizationRequest for easier storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            azr: an AuthorizationRequest to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized AuthorizationRequest, as a str</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized AuthorizationRequest.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized AuthorizationRequest</span>

<span class="sd">        Returns:</span>
<span class="sd">            the deserialized AuthorizationRequest</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequestSerializer.default_dumper" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequestSerializer.default_dumper" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Provide a default dumper implementation.</p>
<p>Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as
base64url.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>azr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>AuthorizationRequest</code> to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized value</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a default dumper implementation.</span>

<span class="sd">    Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as</span>
<span class="sd">    base64url.</span>

<span class="sd">    Args:</span>
<span class="sd">        azr: the `AuthorizationRequest` to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized value</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequestSerializer.default_loader" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">azr_class</span><span class="o">=</span><span class="n">AuthorizationRequest</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.AuthorizationRequestSerializer.default_loader" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Provide a default deserializer implementation.</p>
<p>This does the opposite operations than <code>default_dumper</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>azr_class</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the class to deserialize the Authorization Request to</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span>
    <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">azr_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthorizationRequest</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a default deserializer implementation.</span>

<span class="sd">    This does the opposite operations than `default_dumper`.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized AuthorizationRequest</span>
<span class="sd">        azr_class: the class to deserialize the Authorization Request to</span>

<span class="sd">    Returns:</span>
<span class="sd">        an AuthorizationRequest</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">azr_class</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequestSerializer.dumps" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">dumps</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequestSerializer.dumps" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Serialize and compress a given AuthorizationRequest for easier storage.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>azr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest, as a str</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given AuthorizationRequest for easier storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        azr: an AuthorizationRequest to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized AuthorizationRequest, as a str</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.AuthorizationRequestSerializer.loads" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">loads</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span></code>

<a href="#requests_oauth2client.AuthorizationRequestSerializer.loads" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Deserialize a serialized AuthorizationRequest.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the deserialized AuthorizationRequest</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized AuthorizationRequest.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized AuthorizationRequest</span>

<span class="sd">    Returns:</span>
<span class="sd">        the deserialized AuthorizationRequest</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AuthorizationResponse" class="doc doc-heading">
          <code>AuthorizationResponse</code>


<a href="#requests_oauth2client.AuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent a successful Authorization Response.</p>
<p>An Authorization Response is the redirection initiated by the AS to the client's redirection
endpoint (redirect_uri) after an Authorization Request. This Response is typically created with
a call to <code>AuthorizationRequest.validate_callback()</code> once the call to the client Redirection
Endpoint is made. AuthorizationResponse contains the following, all accessible as attributes:</p>
<ul>
<li>all the parameters that have been returned by the AS, most notably the <code>code</code>, and optional
   parameters such as <code>state</code>.</li>
<li>the redirect_uri that was used for the Authorization Request</li>
<li>the code_verifier matching the code_challenge that was used for the Authorization Request</li>
</ul>
<p>Parameters <code>redirect_uri</code> and <code>code_verifier</code> must be those from the matching
<code>AuthorizationRequest</code>. All other parameters including <code>code</code> and <code>state</code> must be those
extracted from the Authorization Response parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authorization code returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri that was passed as parameter in the AuthorizationRequest</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the code_verifier matching the code_challenge that was passed as
parameter in the AuthorizationRequest</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the state returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>other parameters as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a successful Authorization Response.</span>

<span class="sd">    An Authorization Response is the redirection initiated by the AS to the client&#39;s redirection</span>
<span class="sd">    endpoint (redirect_uri) after an Authorization Request. This Response is typically created with</span>
<span class="sd">    a call to `AuthorizationRequest.validate_callback()` once the call to the client Redirection</span>
<span class="sd">    Endpoint is made. AuthorizationResponse contains the following, all accessible as attributes:</span>

<span class="sd">     - all the parameters that have been returned by the AS, most notably the `code`, and optional</span>
<span class="sd">       parameters such as `state`.</span>
<span class="sd">     - the redirect_uri that was used for the Authorization Request</span>
<span class="sd">     - the code_verifier matching the code_challenge that was used for the Authorization Request</span>

<span class="sd">    Parameters `redirect_uri` and `code_verifier` must be those from the matching</span>
<span class="sd">    `AuthorizationRequest`. All other parameters including `code` and `state` must be those</span>
<span class="sd">    extracted from the Authorization Response parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        code: the authorization code returned by the AS</span>
<span class="sd">        redirect_uri: the redirect_uri that was passed as parameter in the AuthorizationRequest</span>
<span class="sd">        code_verifier: the code_verifier matching the code_challenge that was passed as</span>
<span class="sd">            parameter in the AuthorizationRequest</span>
<span class="sd">        state: the state returned by the AS</span>
<span class="sd">        **kwargs: other parameters as returned by the AS</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">code</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">acr_values</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="n">max_age</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make additional parameters available as attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: the attribute name</span>

<span class="sd">        Returns:</span>
<span class="sd">            the attribute value, or None if it isn&#39;t part of the returned attributes</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.CodeChallengeMethods" class="doc doc-heading">
          <code>CodeChallengeMethods</code>


<a href="#requests_oauth2client.CodeChallengeMethods" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>PKCE Code Challenge Methods.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CodeChallengeMethods</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;PKCE Code Challenge Methods.&quot;&quot;&quot;</span>

    <span class="n">plain</span> <span class="o">=</span> <span class="s2">&quot;plain&quot;</span>
    <span class="n">S256</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.PkceUtils" class="doc doc-heading">
          <code>PkceUtils</code>


<a href="#requests_oauth2client.PkceUtils" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Contains helper methods for PKCE, as described in RFC7636.</p>
<p>See <a href="https://tools.ietf.org/html/rfc7636">RFC7636</a>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PkceUtils</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains helper methods for PKCE, as described in RFC7636.</span>

<span class="sd">    See [RFC7636](https://tools.ietf.org/html/rfc7636).</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">code_verifier_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9_\-~.]{43,128}$&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A regex that matches valid code verifiers.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `code_verifier` ready to use for PKCE</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">96</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">derive_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Derive the `code_challenge` from a given `code_verifier`.</span>

<span class="sd">        Args:</span>
<span class="sd">            verifier: a code verifier</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `code_challenge` derived from the given verifier</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">verifier</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid code verifier, does not match </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="n">verifier</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;S256&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha256&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;plain&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">verifier</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported code_challenge_method&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier` and derive its `code_challenge`.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `(code_verifier, code_challenge)` tuple.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">verifier</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
        <span class="n">challenge</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">challenge</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a `code_verifier` against a `code_challenge`.</span>

<span class="sd">        Args:</span>
<span class="sd">            verifier: the `code_verifier`, exactly as submitted by the client on token request.</span>
<span class="sd">            challenge: the `code_challenge`, exactly as submitted by the client on authorization request.</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if verifier is valid, or `False` otherwise</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="o">==</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.PkceUtils.code_verifier_re" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">code_verifier_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;^[a-zA-Z0-9_</span><span class="se">\\</span><span class="s1">-~.]{43,128}$&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#requests_oauth2client.PkceUtils.code_verifier_re" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>A regex that matches valid code verifiers.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.PkceUtils.generate_code_verifier" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_code_verifier</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.PkceUtils.generate_code_verifier" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a valid <code>code_verifier</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>code_verifier</code> ready to use for PKCE</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `code_verifier` ready to use for PKCE</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">96</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.PkceUtils.derive_challenge" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.PkceUtils.derive_challenge" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Derive the <code>code_challenge</code> from a given <code>code_verifier</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>verifier</code></td>
          <td>
                <code>str | bytes</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a code verifier</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>code_challenge</code> derived from the given verifier</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">derive_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Derive the `code_challenge` from a given `code_verifier`.</span>

<span class="sd">    Args:</span>
<span class="sd">        verifier: a code verifier</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `code_challenge` derived from the given verifier</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">verifier</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid code verifier, does not match </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">msg</span><span class="p">,</span>
            <span class="n">verifier</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;S256&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha256&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;plain&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">verifier</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported code_challenge_method&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.PkceUtils.generate_code_verifier_and_challenge" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.PkceUtils.generate_code_verifier_and_challenge" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a valid <code>code_verifier</code> and derive its <code>code_challenge</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>(code_verifier, code_challenge)</code> tuple.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier` and derive its `code_challenge`.</span>

<span class="sd">    Args:</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `(code_verifier, code_challenge)` tuple.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verifier</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
    <span class="n">challenge</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.PkceUtils.validate_code_verifier" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_code_verifier</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.PkceUtils.validate_code_verifier" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Validate a <code>code_verifier</code> against a <code>code_challenge</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>verifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>code_verifier</code>, exactly as submitted by the client on token request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>challenge</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>code_challenge</code>, exactly as submitted by the client on authorization request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if verifier is valid, or <code>False</code> otherwise</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">validate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">challenge</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a `code_verifier` against a `code_challenge`.</span>

<span class="sd">    Args:</span>
<span class="sd">        verifier: the `code_verifier`, exactly as submitted by the client on token request.</span>
<span class="sd">        challenge: the `code_challenge`, exactly as submitted by the client on authorization request.</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if verifier is valid, or `False` otherwise</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="o">==</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.RequestParameterAuthorizationRequest" class="doc doc-heading">
          <code>RequestParameterAuthorizationRequest</code>


<a href="#requests_oauth2client.RequestParameterAuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request that includes a <code>request</code> JWT.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>request</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the request JWT</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for this request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request that includes a `request` JWT.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint uri</span>
<span class="sd">        client_id: the client_id</span>
<span class="sd">        request: the request JWT</span>
<span class="sd">        expires_at: the expiration date for this request</span>
<span class="sd">        kwargs: extra parameters to include in the request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">request</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">request</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl` instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.</span>

<span class="sd">        Returns:</span>
<span class="sd">             the Authorization Request URI</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.RequestParameterAuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.RequestParameterAuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code> instance.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.RequestParameterAuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.RequestParameterAuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.RequestUriParameterAuthorizationRequest" class="doc doc-heading">
          <code>RequestUriParameterAuthorizationRequest</code>


<a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request that includes a <code>request_uri</code> parameter.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>request_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the request_uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for this request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request that includes a `request_uri` parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint uri</span>
<span class="sd">        client_id: the client_id</span>
<span class="sd">        request_uri: the request_uri</span>
<span class="sd">        expires_at: the expiration date for this request</span>
<span class="sd">        kwargs: extra parameters to include in the request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">request_uri</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">request_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl` instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="s2">&quot;request_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_uri</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.RequestUriParameterAuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code> instance.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.RequestUriParameterAuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.RequestUriParameterAuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BackChannelAuthenticationPoolingJob" class="doc doc-heading">
          <code>BackChannelAuthenticationPoolingJob</code>


<a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.pooling.TokenEndpointPoolingJob" href="#requests_oauth2client.pooling.TokenEndpointPoolingJob">TokenEndpointPoolingJob</a></code></p>

  
      <p>A pooling job for the BackChannel Authentication flow.</p>
<p>This will poll the Token Endpoint until the user finishes with its authentication.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client that will be used to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>auth_req_id</code> as <code>str</code> or a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pooling interval to use. This overrides the one in <code>auth_req_id</code> if it is
a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of seconds to add to the pooling interval when the AS returns
a slow down request.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the token request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>auth=("client_id", "client_secret") ) pool_job = BackChannelAuthenticationPoolingJob(
client=client, auth_req_id="my_auth_req_id" )</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>token = None while token is None: token = pool_job() ```
</code></pre></div></td></tr></table></div>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationPoolingJob</span><span class="p">(</span><span class="n">TokenEndpointPoolingJob</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pooling job for the BackChannel Authentication flow.</span>

<span class="sd">    This will poll the Token Endpoint until the user finishes with its authentication.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client that will be used to pool the token endpoint.</span>
<span class="sd">        auth_req_id: an `auth_req_id` as `str` or a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        interval: The pooling interval to use. This overrides the one in `auth_req_id` if it is</span>
<span class="sd">            a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        slow_down_interval: Number of seconds to add to the pooling interval when the AS returns</span>
<span class="sd">            a slow down request.</span>
<span class="sd">        requests_kwargs: Additional parameters for the underlying calls to [requests.request][].</span>
<span class="sd">        **token_kwargs: Additional parameters for the token request.</span>

<span class="sd">    Usage: ```python client = OAuth2Client( token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">    auth=(&quot;client_id&quot;, &quot;client_secret&quot;) ) pool_job = BackChannelAuthenticationPoolingJob(</span>
<span class="sd">    client=client, auth_req_id=&quot;my_auth_req_id&quot; )</span>

<span class="sd">        token = None while token is None: token = pool_job() ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">)</span> <span class="ow">and</span> <span class="n">interval</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">interval</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">interval</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">slow_down_interval</span><span class="o">=</span><span class="n">slow_down_interval</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the CIBA token request.</span>

<span class="sd">        This actually calls [OAuth2Client.ciba(auth_req_id)] on `client`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ciba</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BackChannelAuthenticationPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>

<a href="#requests_oauth2client.BackChannelAuthenticationPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Implement the CIBA token request.</p>
<p>This actually calls [OAuth2Client.ciba(auth_req_id)] on <code>client</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the CIBA token request.</span>

<span class="sd">    This actually calls [OAuth2Client.ciba(auth_req_id)] on `client`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ciba</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BackChannelAuthenticationResponse" class="doc doc-heading">
          <code>BackChannelAuthenticationResponse</code>


<a href="#requests_oauth2client.BackChannelAuthenticationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent a BackChannel Authentication Response.</p>
<p>This contains all the parameters that are returned by the AS as a result of a BackChannel
Authentication Request, such as <code>auth_req_id</code> (required), and the optional <code>expires_at</code>,
<code>interval</code>, and/or any custom parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>auth_req_id</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the date when the <code>auth_req_id</code> expires.
Note that this request also accepts an <code>expires_in</code> parameter, in seconds.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Token Endpoint pooling interval, in seconds, as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>any additional custom parameters as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a BackChannel Authentication Response.</span>

<span class="sd">    This contains all the parameters that are returned by the AS as a result of a BackChannel</span>
<span class="sd">    Authentication Request, such as `auth_req_id` (required), and the optional `expires_at`,</span>
<span class="sd">    `interval`, and/or any custom parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_req_id: the `auth_req_id` as returned by the AS.</span>
<span class="sd">        expires_at: the date when the `auth_req_id` expires.</span>
<span class="sd">            Note that this request also accepts an `expires_in` parameter, in seconds.</span>
<span class="sd">        interval: the Token Endpoint pooling interval, in seconds, as returned by the AS.</span>
<span class="sd">        **kwargs: any additional custom parameters as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return `True` if the `auth_req_id` within this response is expired.</span>

<span class="sd">        Expiration is evaluated at the time of the call. If there is no &quot;expires_at&quot; hint (which is</span>
<span class="sd">        derived from the `expires_in` hint returned by the AS BackChannel Authentication endpoint),</span>
<span class="sd">        this will return `None`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the auth_req_id is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">            no `expires_in` hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return attributes from this `BackChannelAuthenticationResponse`.</span>

<span class="sd">        Allows accessing response parameters with `token_response.expires_in` or</span>
<span class="sd">        `token_response.any_custom_attribute`.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: a key</span>

<span class="sd">        Returns:</span>
<span class="sd">            the associated value in this token response</span>

<span class="sd">        Raises:</span>
<span class="sd">            AttributeError: if the attribute is not present in the response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;expires_in&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BackChannelAuthenticationResponse.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BackChannelAuthenticationResponse.is_expired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return <code>True</code> if the <code>auth_req_id</code> within this response is expired.</p>
<p>Expiration is evaluated at the time of the call. If there is no "expires_at" hint (which is
derived from the <code>expires_in</code> hint returned by the AS BackChannel Authentication endpoint),
this will return <code>None</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the auth_req_id is expired, <code>False</code> if it is still valid, <code>None</code> if there is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>no <code>expires_in</code> hint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return `True` if the `auth_req_id` within this response is expired.</span>

<span class="sd">    Expiration is evaluated at the time of the call. If there is no &quot;expires_at&quot; hint (which is</span>
<span class="sd">    derived from the `expires_in` hint returned by the AS BackChannel Authentication endpoint),</span>
<span class="sd">    this will return `None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the auth_req_id is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">        no `expires_in` hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.GrantType" class="doc doc-heading">
          <code>GrantType</code>


<a href="#requests_oauth2client.GrantType" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>An enum of standardized <code>grant_type</code> values.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">GrantType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An enum of standardized `grant_type` values.&quot;&quot;&quot;</span>

    <span class="n">CLIENT_CREDENTIALS</span> <span class="o">=</span> <span class="s2">&quot;client_credentials&quot;</span>
    <span class="n">AUTHORIZATION_CODE</span> <span class="o">=</span> <span class="s2">&quot;authorization_code&quot;</span>
    <span class="n">REFRESH_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;refresh_token&quot;</span>
    <span class="n">RESOURCE_OWNER_PASSWORD</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span>
    <span class="n">TOKEN_EXCHANGE</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:token-exchange&quot;</span>
    <span class="n">JWT_BEARER</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;</span>
    <span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span> <span class="o">=</span> <span class="s2">&quot;urn:openid:params:grant-type:ciba&quot;</span>
    <span class="n">DEVICE_CODE</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:device_code&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2Client" class="doc doc-heading">
          <code>OAuth2Client</code>


<a href="#requests_oauth2client.OAuth2Client" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>An OAuth 2.x Client, that can send requests to an OAuth 2.x Authorization Server.</p>
<p><code>OAuth2Client</code> is able to obtain tokens from the Token Endpoint using any of the standardised
Grant Types, and to communicate with the various backend endpoints like the Revocation,
Introspection, and UserInfo Endpoint.</p>
<p>To init an OAuth2Client, you only need the url to the Token Endpoint and the Credentials
(a client_id and one of a secret or private_key) that will be used to authenticate to that endpoint.
Other endpoint urls, such as the Authorization Endpoint, Revocation Endpoint, etc. can be passed as
parameter as well if you intend to use them.</p>
<p>This class is not intended to help with the end-user authentication or any request that goes in
a browser. For authentication requests, see
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a>. You
may use the method <code>authorization_request()</code> to generate <code>AuthorizationRequest</code>s with the
preconfigured <code>authorization_endpoint</code>, <code>client_id</code> and `redirect_uri' from this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Token Endpoint URI where this client will get access tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | tuple[str, <span title="jwskate.Jwk">Jwk</span>] | tuple[str, dict[str, <span title="typing.Any">Any</span>]] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication on the token endpoint.
Can be:</p>
<ul>
<li>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests.auth.AuthBase</a> instance (which will be used as-is)</li>
<li>a tuple of <code>(client_id, client_secret)</code> which will initialize an instance
of <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.ClientSecretPost">ClientSecretPost</a></li>
<li>a <code>(client_id, jwk)</code> to initialize
a <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.PrivateKeyJwt">PrivateKeyJwt</a>,</li>
<li>or a <code>client_id</code> which will
use <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.PublicApp">PublicApp</a> authentication.</li>
</ul>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private_key to use for client authentication (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>revocation_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Revocation Endpoint URI to use for revoking tokens</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>introspection_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Introspection Endpoint URI to use to get info about tokens</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>userinfo_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Userinfo Endpoint URI to use to get information about the user</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint URI, used for initializing Authorization Requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri for this client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>backchannel_authentication_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the BackChannel Authentication URI</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>device_authorization_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Device Authorization Endpoint URI to use to authorize devices</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>jwks_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWKS URI to use to obtain the AS public keys</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_challenge_method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>challenge method to use for PKCE (should always be 'S256')</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a requests Session to use when sending HTTP requests.
Useful if some extra parameters such as proxy or client certificate must be used
to connect to the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, don't verify the validity of the endpoint urls that are passed as parameter.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**extra_metadata</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional metadata for this client, unused by this class, but may be
used by subclasses. Those will be accessible with the <code>extra_metadata</code> attribute.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/token&quot;</span><span class="p">,</span>
    <span class="n">revocation_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/revoke&quot;</span><span class="p">,</span>
    <span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="o">=</span><span class="s2">&quot;client_secret&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># once initialized, a client can send requests to its configured endpoints</span>
<span class="n">cc_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my_scope&quot;</span><span class="p">)</span>
<span class="n">ac_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s2">&quot;my_code&quot;</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">revoke_access_token</span><span class="p">(</span><span class="n">cc_token</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An OAuth 2.x Client, that can send requests to an OAuth 2.x Authorization Server.</span>

<span class="sd">    `OAuth2Client` is able to obtain tokens from the Token Endpoint using any of the standardised</span>
<span class="sd">    Grant Types, and to communicate with the various backend endpoints like the Revocation,</span>
<span class="sd">    Introspection, and UserInfo Endpoint.</span>

<span class="sd">    To init an OAuth2Client, you only need the url to the Token Endpoint and the Credentials</span>
<span class="sd">    (a client_id and one of a secret or private_key) that will be used to authenticate to that endpoint.</span>
<span class="sd">    Other endpoint urls, such as the Authorization Endpoint, Revocation Endpoint, etc. can be passed as</span>
<span class="sd">    parameter as well if you intend to use them.</span>


<span class="sd">    This class is not intended to help with the end-user authentication or any request that goes in</span>
<span class="sd">    a browser. For authentication requests, see</span>
<span class="sd">    [AuthorizationRequest][requests_oauth2client.authorization_request.AuthorizationRequest]. You</span>
<span class="sd">    may use the method `authorization_request()` to generate `AuthorizationRequest`s with the</span>
<span class="sd">    preconfigured `authorization_endpoint`, `client_id` and `redirect_uri&#39; from this client.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_endpoint: the Token Endpoint URI where this client will get access tokens</span>
<span class="sd">        auth: the authentication handler to use for client authentication on the token endpoint.</span>
<span class="sd">            Can be:</span>

<span class="sd">            - a [requests.auth.AuthBase][] instance (which will be used as-is)</span>
<span class="sd">            - a tuple of `(client_id, client_secret)` which will initialize an instance</span>
<span class="sd">            of [ClientSecretPost][requests_oauth2client.client_authentication.ClientSecretPost]</span>
<span class="sd">            - a `(client_id, jwk)` to initialize</span>
<span class="sd">            a [PrivateKeyJwt][requests_oauth2client.client_authentication.PrivateKeyJwt],</span>
<span class="sd">            - or a `client_id` which will</span>
<span class="sd">            use [PublicApp][requests_oauth2client.client_authentication.PublicApp] authentication.</span>

<span class="sd">        client_id: client ID (use either this or `auth`)</span>
<span class="sd">        client_secret: client secret (use either this or `auth`)</span>
<span class="sd">        private_key: private_key to use for client authentication (use either this or `auth`)</span>
<span class="sd">        revocation_endpoint: the Revocation Endpoint URI to use for revoking tokens</span>
<span class="sd">        introspection_endpoint: the Introspection Endpoint URI to use to get info about tokens</span>
<span class="sd">        userinfo_endpoint: the Userinfo Endpoint URI to use to get information about the user</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint URI, used for initializing Authorization Requests</span>
<span class="sd">        redirect_uri: the redirect_uri for this client</span>
<span class="sd">        backchannel_authentication_endpoint: the BackChannel Authentication URI</span>
<span class="sd">        device_authorization_endpoint: the Device Authorization Endpoint URI to use to authorize devices</span>
<span class="sd">        jwks_uri: the JWKS URI to use to obtain the AS public keys</span>
<span class="sd">        code_challenge_method: challenge method to use for PKCE (should always be &#39;S256&#39;)</span>
<span class="sd">        session: a requests Session to use when sending HTTP requests.</span>
<span class="sd">            Useful if some extra parameters such as proxy or client certificate must be used</span>
<span class="sd">            to connect to the AS.</span>
<span class="sd">        testing: if `True`, don&#39;t verify the validity of the endpoint urls that are passed as parameter.</span>
<span class="sd">        **extra_metadata: additional metadata for this client, unused by this class, but may be</span>
<span class="sd">            used by subclasses. Those will be accessible with the `extra_metadata` attribute.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(</span>
<span class="sd">            token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">            revocation_endpoint=&quot;https://my.as.local/revoke&quot;,</span>
<span class="sd">            client_id=&quot;client_id&quot;,</span>
<span class="sd">            client_secret=&quot;client_secret&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        # once initialized, a client can send requests to its configured endpoints</span>
<span class="sd">        cc_token = client.client_credentials(scope=&quot;my_scope&quot;)</span>
<span class="sd">        ac_token = client.authorization_code(code=&quot;my_code&quot;)</span>
<span class="sd">        client.revoke_access_token(cc_token)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">converter</span><span class="o">=</span><span class="n">client_auth_factory</span><span class="p">)</span>
    <span class="n">token_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">revocation_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">introspection_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">userinfo_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">backchannel_authentication_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">device_authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">pushed_authorization_request_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">jwks_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">id_token_signed_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span>
    <span class="n">id_token_encrypted_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">id_token_decryption_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span>
    <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">)</span>
    <span class="n">extra_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">bearer_token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span>

    <span class="n">exception_classes</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;server_error&quot;</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
        <span class="s2">&quot;invalid_request&quot;</span><span class="p">:</span> <span class="n">InvalidRequest</span><span class="p">,</span>
        <span class="s2">&quot;invalid_client&quot;</span><span class="p">:</span> <span class="n">InvalidClient</span><span class="p">,</span>
        <span class="s2">&quot;invalid_scope&quot;</span><span class="p">:</span> <span class="n">InvalidScope</span><span class="p">,</span>
        <span class="s2">&quot;invalid_target&quot;</span><span class="p">:</span> <span class="n">InvalidTarget</span><span class="p">,</span>
        <span class="s2">&quot;invalid_grant&quot;</span><span class="p">:</span> <span class="n">InvalidGrant</span><span class="p">,</span>
        <span class="s2">&quot;access_denied&quot;</span><span class="p">:</span> <span class="n">AccessDenied</span><span class="p">,</span>
        <span class="s2">&quot;unauthorized_client&quot;</span><span class="p">:</span> <span class="n">UnauthorizedClient</span><span class="p">,</span>
        <span class="s2">&quot;authorization_pending&quot;</span><span class="p">:</span> <span class="n">AuthorizationPending</span><span class="p">,</span>
        <span class="s2">&quot;slow_down&quot;</span><span class="p">:</span> <span class="n">SlowDown</span><span class="p">,</span>
        <span class="s2">&quot;expired_token&quot;</span><span class="p">:</span> <span class="n">ExpiredToken</span><span class="p">,</span>
        <span class="s2">&quot;unsupported_token_type&quot;</span><span class="p">:</span> <span class="n">UnsupportedTokenType</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">backchannel_authentication_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">device_authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pushed_authorization_request_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_signed_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span><span class="p">,</span>
        <span class="n">id_token_encrypted_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_decryption_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">bearer_token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">extra_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;If the Authorization Server supports Issuer Identification, as specified by&quot;</span>
                <span class="s2">&quot; `authorization_response_iss_parameter_supported=True`, then you must specify&quot;</span>
                <span class="s2">&quot; the expected `issuer` value with parameter `issuer`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">auth</span> <span class="o">=</span> <span class="n">client_auth_factory</span><span class="p">(</span>
            <span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">default_auth_handler</span><span class="o">=</span><span class="n">ClientSecretPost</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">authorization_server_jwks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">authorization_server_jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">()</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">authorization_server_jwks</span><span class="p">,</span> <span class="n">JwkSet</span><span class="p">):</span>
            <span class="n">authorization_server_jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">authorization_server_jwks</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token_decryption_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">id_token_decryption_key</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">):</span>
            <span class="n">id_token_decryption_key</span> <span class="o">=</span> <span class="n">Jwk</span><span class="p">(</span><span class="n">id_token_decryption_key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token_decryption_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">alg</span><span class="p">:</span>
                <span class="n">id_token_encrypted_response_alg</span> <span class="o">=</span> <span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">alg</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;An ID Token decryption key has been provided but no decryption algorithm is defined.&quot;</span>
                    <span class="s2">&quot; You can either pass an `id_token_encrypted_response_alg` parameter with the alg identifier,&quot;</span>
                    <span class="s2">&quot; or include an `alg` attribute in the decryption key, if it is in Jwk format.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">session</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">backchannel_authentication_endpoint</span><span class="o">=</span><span class="n">backchannel_authentication_endpoint</span><span class="p">,</span>
            <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="n">device_authorization_endpoint</span><span class="p">,</span>
            <span class="n">pushed_authorization_request_endpoint</span><span class="o">=</span><span class="n">pushed_authorization_request_endpoint</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">id_token_signed_response_alg</span><span class="o">=</span><span class="n">id_token_signed_response_alg</span><span class="p">,</span>
            <span class="n">id_token_encrypted_response_alg</span><span class="o">=</span><span class="n">id_token_encrypted_response_alg</span><span class="p">,</span>
            <span class="n">id_token_decryption_key</span><span class="o">=</span><span class="n">id_token_decryption_key</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">bearer_token_class</span><span class="o">=</span><span class="n">bearer_token_class</span><span class="p">,</span>
            <span class="n">extra_metadata</span><span class="o">=</span><span class="n">extra_metadata</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@token_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@revocation_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@introspection_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@userinfo_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@backchannel_authentication_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@device_authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@pushed_authorization_request_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@jwks_uri</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">validate_endpoint_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that an endpoint URI is suitable for use.</span>

<span class="sd">        If you need to disable some checks (for AS testing purposes only!), provide a different</span>
<span class="sd">        method here.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">uri</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="nd">@issuer</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">validate_issuer_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that an Issuer identifier is suitable for use.</span>

<span class="sd">        This is the same check as an endpoint URI, but the path may be (and usually is) empty.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">uri</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Client ID.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="s2">&quot;client_id&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">client_id</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This client uses a custom authentication method without client_id.&quot;</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Client Secret.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">client_secret</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_jwks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A `JwkSet` containing the public keys for this client.</span>

<span class="sd">        Keys are:</span>

<span class="sd">        - the public key for client assertion signature verification (if using private_key_jwt)</span>
<span class="sd">        - the ID Token encryption key</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="n">PrivateKeyJwt</span><span class="p">):</span>
            <span class="n">jwks</span><span class="o">.</span><span class="n">add_jwk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">private_jwk</span><span class="o">.</span><span class="n">public_jwk</span><span class="p">()</span><span class="o">.</span><span class="n">with_usage_parameters</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token_decryption_key</span><span class="p">:</span>
            <span class="n">jwks</span><span class="o">.</span><span class="n">add_jwk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">public_jwk</span><span class="p">()</span><span class="o">.</span><span class="n">with_usage_parameters</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">jwks</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">on_success</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">T</span><span class="p">],</span>
        <span class="n">on_failure</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">T</span><span class="p">],</span>
        <span class="n">accept</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to one of the endpoints.</span>

<span class="sd">        This is a helper method that takes care of the following tasks:</span>

<span class="sd">        - make sure the endpoint as been configured</span>
<span class="sd">        - set `Accept: application/json` header</span>
<span class="sd">        - send the HTTP POST request, then</span>
<span class="sd">            - apply `on_success` to a successful response</span>
<span class="sd">            - or apply `on_failure` otherwise</span>
<span class="sd">        - return the result</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: name of the endpoint to use</span>
<span class="sd">            on_success: a callable to apply to successful responses</span>
<span class="sd">            on_failure: a callable to apply to error responses</span>
<span class="sd">            accept: the Accept header to include in the request</span>
<span class="sd">            method: the HTTP method to use</span>
<span class="sd">            **requests_kwargs: keyword arguments for the request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">requests_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">requests_kwargs</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">][</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">accept</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
            <span class="n">method</span><span class="p">,</span>
            <span class="n">endpoint_uri</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">on_success</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">on_failure</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint.</span>

<span class="sd">        Authentication will be added automatically based on the defined `auth` for this client.</span>

<span class="sd">        Args:</span>
<span class="sd">          data: parameters to send to the token endpoint. Items with a `None`</span>
<span class="sd">               or empty value will not be sent in the request.</span>
<span class="sd">          timeout: a timeout value for the call</span>
<span class="sd">          **requests_kwargs: additional parameters for requests.post()</span>

<span class="sd">        Returns:</span>
<span class="sd">            the token endpoint response, as</span>
<span class="sd">            [`BearerToken`][requests_oauth2client.tokens.BearerToken] instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;token_endpoint&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_token_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_token_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a Response returned by the Token Endpoint.</span>

<span class="sd">        Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] to parse</span>
<span class="sd">        responses returned by the Token Endpoint. Those responses contain an `access_token` and</span>
<span class="sd">        additional attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [`BearerToken`][requests_oauth2client.tokens.BearerToken] based on the response</span>
<span class="sd">            contents.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">token_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bearer_token_class</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">response_class_exc</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">token_error_exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">token_error_exc</span> <span class="kn">from</span> <span class="nn">response_class_exc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">token_response</span>

    <span class="k">def</span> <span class="nf">on_token_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `token_request()`.</span>

<span class="sd">        Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] when the</span>
<span class="sd">        Token Endpoint returns an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            nothing, and raises an exception instead. But a subclass may return a</span>
<span class="sd">            [`BearerToken`][requests_oauth2client.tokens.BearerToken] to implement a default</span>
<span class="sd">            behaviour if needed.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidTokenResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">client_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the `client_credentials` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            scope: the scope to send with the request. Can be a str, or an iterable of str.</span>
<span class="sd">                to pass that way include `scope`, `audience`, `resource`, etc.</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`. Common parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a TokenResponse</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported scope value&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_CREDENTIALS</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">authorization_code</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `authorization_code` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">             code: an authorization code or an `AuthorizationResponse` to exchange for tokens</span>
<span class="sd">             validate: if `True`, validate the received ID Token (this works only if `code` is an AuthorizationResponse)</span>
<span class="sd">             requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">             **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `code`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
            <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">)</span>
            <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">)</span>
            <span class="n">azr</span> <span class="o">=</span> <span class="n">code</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">code</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">AUTHORIZATION_CODE</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">validate</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">id_token</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">azr</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `refresh_token` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh_token: a refresh_token, as a string, or as a `BearerToken`.</span>
<span class="sd">                That `BearerToken` must have a `refresh_token`.</span>
<span class="sd">            requests_kwargs: additional parameters for the call to `requests`</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint,</span>
<span class="sd">                alongside `grant_type`, `refresh_token`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This BearerToken doesn&#39;t have a refresh_token&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">device_code</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the Device Code grant.</span>

<span class="sd">        The grant_type is `urn:ietf:params:oauth:grant-type:device_code`. This needs a Device Code,</span>
<span class="sd">        or a `DeviceAuthorizationResponse` as parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            device_code: a device code, or a `DeviceAuthorizationResponse`</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `device_code`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This DeviceAuthorizationResponse doesn&#39;t have a device_code&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">DEVICE_CODE</span><span class="p">,</span>
            <span class="n">device_code</span><span class="o">=</span><span class="n">device_code</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ciba</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a CIBA request to the Token Endpoint.</span>

<span class="sd">        A CIBA request is a Token Request using the `urn:openid:params:grant-type:ciba` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_req_id: an authentication request ID, as returned by the AS</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `auth_req_id`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This `BackChannelAuthenticationResponse` doesn&#39;t have an `auth_req_id`&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span><span class="p">,</span>
            <span class="n">auth_req_id</span><span class="o">=</span><span class="n">auth_req_id</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">token_exchange</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">subject_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span><span class="p">,</span>
        <span class="n">subject_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">actor_token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">actor_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requested_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Token Exchange request.</span>

<span class="sd">        A Token Exchange request is actually a request to the Token Endpoint with a grant_type</span>
<span class="sd">        `urn:ietf:params:oauth:grant-type:token-exchange`.</span>

<span class="sd">        Args:</span>
<span class="sd">            subject_token: the subject token to exchange for a new token.</span>
<span class="sd">            subject_token_type: a token type identifier for the subject_token, mandatory if it cannot be guessed based</span>
<span class="sd">                on `type(subject_token)`.</span>
<span class="sd">            actor_token: the actor token to include in the request, if any.</span>
<span class="sd">            actor_token_type: a token type identifier for the actor_token, mandatory if it cannot be guessed based</span>
<span class="sd">                on `type(actor_token)`.</span>
<span class="sd">            requested_token_type: a token type identifier for the requested token.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">subject_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">subject_token_type</span><span class="p">,</span> <span class="n">subject_token</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;subject_token&#39; you provided. Please specify a &#39;subject_token_type&#39;.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">actor_token</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">actor_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">actor_token_type</span><span class="p">,</span> <span class="n">actor_token</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;actor_token&#39; you provided. Please specify an &#39;actor_token_type&#39;.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">TOKEN_EXCHANGE</span><span class="p">,</span>
            <span class="n">subject_token</span><span class="o">=</span><span class="n">subject_token</span><span class="p">,</span>
            <span class="n">subject_token_type</span><span class="o">=</span><span class="n">subject_token_type</span><span class="p">,</span>
            <span class="n">actor_token</span><span class="o">=</span><span class="n">actor_token</span><span class="p">,</span>
            <span class="n">actor_token_type</span><span class="o">=</span><span class="n">actor_token_type</span><span class="p">,</span>
            <span class="n">requested_token_type</span><span class="o">=</span><span class="n">requested_token_type</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">jwt_bearer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">assertion</span><span class="p">:</span> <span class="n">Jwt</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request using a JWT as authorization grant.</span>

<span class="sd">        This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</span>

<span class="sd">        Args:</span>
<span class="sd">            assertion: a JWT (as an instance of `jwskate.Jwt` or as a `str`) to use as authorization grant.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">Jwt</span><span class="p">):</span>
            <span class="n">assertion</span> <span class="o">=</span> <span class="n">Jwt</span><span class="p">(</span><span class="n">assertion</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">JWT_BEARER</span><span class="p">,</span>
            <span class="n">assertion</span><span class="o">=</span><span class="n">assertion</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resource_owner_password</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request using the Resource Owner Password Grant.</span>

<span class="sd">        This Grant Type is deprecated and should only be used when there is no other choice.</span>

<span class="sd">        Args:</span>
<span class="sd">            username: the resource owner user name</span>
<span class="sd">            password: the resource owner password</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">RESOURCE_OWNER_PASSWORD</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">authorization_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an Authorization Request for this client.</span>

<span class="sd">        Args:</span>
<span class="sd">            scope: the `scope` to use</span>
<span class="sd">            response_type: the `response_type` to use</span>
<span class="sd">            redirect_uri: the `redirect_uri` to include in the request. By default,</span>
<span class="sd">                the `redirect_uri` defined at init time is used.</span>
<span class="sd">            state: the `state` parameter to use. Leave default to generate a random value.</span>
<span class="sd">            nonce: a `nonce`. Leave default to generate a random value.</span>
<span class="sd">            code_verifier: the PKCE `code_verifier` to use. Leave default to generate a random value.</span>
<span class="sd">            **kwargs: additional parameters to include in the auth request</span>

<span class="sd">        Returns:</span>
<span class="sd">            an AuthorizationRequest with the supplied parameters</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>

        <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">redirect_uri</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;No &#39;redirect_uri&#39; defined for this client. You must either pass a redirect_uri&quot;</span>
                <span class="s2">&quot; as parameter to this method, or include a redirect_uri when initializing your&quot;</span>
                <span class="s2">&quot; OAuth2Client.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response_type</span> <span class="o">!=</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only response_type=code is supported.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">AuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">pushed_authorization_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_request</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Pushed Authorization Request.</span>

<span class="sd">        This sends a request to the Pushed Authorization Request Endpoint, and returns a</span>
<span class="sd">        `RequestUriParameterAuthorizationRequest` initialized with the AS response.</span>

<span class="sd">        Args:</span>
<span class="sd">            authorization_request: the authorization request to send</span>
<span class="sd">            requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">            the `RequestUriParameterAuthorizationRequest` initialized based on the AS response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;pushed_authorization_request_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">authorization_request</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_pushed_authorization_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_pushed_authorization_request_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_pushed_authorization_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `pushed_authorization_request()`.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the `requests.Response` returned by the PAR endpoint</span>

<span class="sd">        Returns:</span>
<span class="sd">            a RequestUriParameterAuthorizationRequest instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">request_uri</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request_uri&quot;</span><span class="p">)</span>
        <span class="n">expires_in</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_in&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
            <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_pushed_authorization_request_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error Handler for Pushed Authorization Endpoint errors.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the HTTP response as returned by the AS PAR endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a RequestUriParameterAuthorizationRequest, if the error is recoverable</span>

<span class="sd">        Raises:</span>
<span class="sd">            EndpointError: a subclass of this error depending on the error returned by the AS</span>
<span class="sd">            InvalidPushedAuthorizationResponse: if the returned response is not following the</span>
<span class="sd">            specifications UnknownTokenEndpointError: for unknown/unhandled errors</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">userinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Call the UserInfo endpoint.</span>

<span class="sd">        This sends a request to the UserInfo endpoint, with the specified access_token, and returns</span>
<span class="sd">        the parsed result.</span>

<span class="sd">        Args:</span>
<span class="sd">            access_token: the access token to use</span>

<span class="sd">        Returns:</span>
<span class="sd">            the [Response][requests.Response] returned by the userinfo endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">BearerAuth</span><span class="p">(</span><span class="n">access_token</span><span class="p">),</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_userinfo_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_userinfo_error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_userinfo_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `userinfo()`.</span>

<span class="sd">        Invoked by [userinfo()][requests_oauth2client.client.OAuth2Client.userinfo] to parse the</span>
<span class="sd">        response from the UserInfo endpoint, this will extract and return its JSON content.</span>

<span class="sd">        Args:</span>
<span class="sd">            resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the parsed JSON content from this response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_userinfo_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse UserInfo error response.</span>

<span class="sd">        Args:</span>
<span class="sd">            resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            nothing, raises exception instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_token_type</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get standardized token type identifiers.</span>

<span class="sd">        Return a standardized token type identifier, based on a short `token_type` hint and/or a</span>
<span class="sd">        token value.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_type: a token_type hint, as `str`. May be &quot;access_token&quot;, &quot;refresh_token&quot;</span>
<span class="sd">                or &quot;id_token&quot;</span>
<span class="sd">            token: a token value, as an instance of `BearerToken` or IdToken, or as a `str`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the token_type as defined in the Token Exchange RFC8693.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">token_type</span> <span class="ow">or</span> <span class="n">token</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine type of an empty token without a token_type hint&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">token_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the type of provided token when it is a bare str. Please specify a token_type.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unexpected type of token, please provide a string or a BearerToken or an IdToken.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not a BearerToken or a string representation of it.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh_token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:refresh_token&quot;</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="s2">&quot;id_token&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not an IdToken or a string representation of it.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;saml1&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;saml2&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:jwt&quot;</span><span class="p">,</span>
            <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_type</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_access_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke an access token.</span>

<span class="sd">        Args:</span>
<span class="sd">            access_token: the access token to revoke</span>
<span class="sd">            requests_kwargs: additional parameters for the underlying requests.post() call</span>
<span class="sd">            **revoke_kwargs: additional parameters to pass to the revocation endpoint</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
            <span class="n">access_token</span><span class="p">,</span>
            <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_refresh_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke a refresh token.</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh_token: the refresh token to revoke.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the revocation endpoint.</span>
<span class="sd">            **revoke_kwargs: additional parameters to pass to the revocation endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the revocation request is successful, `False` if this client has no configured</span>
<span class="sd">            revocation endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
            <span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Token Revocation request.</span>

<span class="sd">        By default, authentication will be the same than the one used for the Token Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the token to revoke.</span>
<span class="sd">            token_type_hint: a token_type_hint to send to the revocation endpoint.</span>
<span class="sd">            requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">            **revoke_kwargs: additional parameters to send to the revocation endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the revocation succeeds, `False` if no revocation endpoint is present or a</span>
<span class="sd">            non-standardised error is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">revoke_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_revocation_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_revocation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `revoke_token()`.</span>

<span class="sd">        Invoked by [revoke_token()][requests_oauth2client.client.OAuth2Client.revoke_token] when the</span>
<span class="sd">        revocation endpoint returns an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] as returned by the Revocation Endpoint</span>

<span class="sd">        Returns:</span>
<span class="sd">            `False` to signal that an error occurred. May raise exceptions instead depending on the</span>
<span class="sd">            revocation response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">RevocationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">introspect_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Introspection Endpoint.</span>

<span class="sd">        Parameter `token` can be:</span>

<span class="sd">        - a `str`</span>
<span class="sd">        - a `BearerToken` instance</span>

<span class="sd">        You may pass any arbitrary `token` and `token_type_hint` values as `str`. Those will</span>
<span class="sd">        be included in the request, as-is.</span>
<span class="sd">        If `token` is a `BearerToken`, then `token_type_hint` must be either:</span>

<span class="sd">        - `None`: the access_token will be instrospected and no token_type_hint will be included</span>
<span class="sd">        in the request</span>
<span class="sd">        - `access_token`: same as `None`, but the token_type_hint will be included</span>
<span class="sd">        - or `refresh_token`: only available if a Refresh Token is present in the BearerToken.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the token to instrospect</span>
<span class="sd">            token_type_hint: the `token_type_hint` to include in the request.</span>
<span class="sd">            requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">            **introspect_kwargs: additional parameters to send to the introspection endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the response as returned by the Introspection Endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token_type_hint</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">access_token</span>
            <span class="k">elif</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;Invalid `token_type_hint`. To test arbitrary `token_type_hint` values,&quot;</span>
                    <span class="s2">&quot; you must provide `token` as a `str`.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">introspect_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_introspection_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_introspection_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_introspection_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse Token Introspection Responses received by `introspect_token()`.</span>

<span class="sd">        Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">        to parse the returned response. This decodes the JSON content if possible, otherwise it</span>
<span class="sd">        returns the response as a string.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] as returned by the Introspection Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the decoded JSON content, or a `str` with the content.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

    <span class="k">def</span> <span class="nf">on_introspection_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `introspect_token()`.</span>

<span class="sd">        Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">        to parse the returned response in the case an error is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response as returned by the Introspection Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises exceptions. A subclass can return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">IntrospectionError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnknownIntrospectionError</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">backchannel_authentication_request</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_notification_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">login_hint_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">login_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">binding_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requested_expiry</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a CIBA Authentication Request.</span>

<span class="sd">        Args:</span>
<span class="sd">             scope: the scope to include in the request.</span>
<span class="sd">             client_notification_token: the Client Notification Token to include in the request.</span>
<span class="sd">             acr_values: the acr values to include in the request.</span>
<span class="sd">             login_hint_token: the Login Hint Token to include in the request.</span>
<span class="sd">             id_token_hint: the ID Token Hint to include in the request.</span>
<span class="sd">             login_hint: the Login Hint to include in the request.</span>
<span class="sd">             binding_message: the Binding Message to include in the request.</span>
<span class="sd">             user_code: the User Code to include in the request</span>
<span class="sd">             requested_expiry: the Requested Expiry, in seconds, to include in the request.</span>
<span class="sd">             private_jwk: the JWK to use to sign the request (optional)</span>
<span class="sd">             alg: the alg to use to sign the request, if the provided JWK does not include an &quot;alg&quot; parameter.</span>
<span class="sd">             requests_kwargs: additional parameters for</span>
<span class="sd">             **ciba_kwargs: additional parameters to include in the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a BackChannelAuthenticationResponse as returned by AS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">or</span> <span class="n">login_hint_token</span> <span class="ow">or</span> <span class="n">id_token_hint</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;One of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">login_hint</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `scope` value&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">acr_values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `acr_values`&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">ciba_kwargs</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">client_notification_token</span><span class="o">=</span><span class="n">client_notification_token</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">login_hint_token</span><span class="o">=</span><span class="n">login_hint_token</span><span class="p">,</span>
            <span class="n">id_token_hint</span><span class="o">=</span><span class="n">id_token_hint</span><span class="p">,</span>
            <span class="n">login_hint</span><span class="o">=</span><span class="n">login_hint</span><span class="p">,</span>
            <span class="n">binding_message</span><span class="o">=</span><span class="n">binding_message</span><span class="p">,</span>
            <span class="n">user_code</span><span class="o">=</span><span class="n">user_code</span><span class="p">,</span>
            <span class="n">requested_expiry</span><span class="o">=</span><span class="n">requested_expiry</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">private_jwk</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">))}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;backchannel_authentication_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_backchannel_authentication_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_backchannel_authentication_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_backchannel_authentication_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a response received by `backchannel_authentication_request()`.</span>

<span class="sd">        Invoked by</span>
<span class="sd">        [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">        to parse the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BackChannelAuthenticationResponse`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="k">def</span> <span class="nf">on_backchannel_authentication_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `backchannel_authentication_request()`.</span>

<span class="sd">        Invoked by</span>
<span class="sd">        [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">        to parse the response returned by the BackChannel Authentication Endpoint, when it is an</span>
<span class="sd">        error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises an exception. But a subclass can return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">BackChannelAuthenticationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">authorize_device</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Device Authorization Request.</span>

<span class="sd">        Args:</span>
<span class="sd">            **data: additional data to send to the Device Authorization Endpoint</span>
<span class="sd">            requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Device Authorization Response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;device_authorization_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_device_authorization_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_device_authorization_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_device_authorization_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a Device Authorization Response received by `authorize_device()`.</span>

<span class="sd">        Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">        to parse the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `DeviceAuthorizationResponse` as returned by AS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">device_authorization_response</span> <span class="o">=</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">device_authorization_response</span>

    <span class="k">def</span> <span class="nf">on_device_authorization_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `authorize_device()`.</span>

<span class="sd">        Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">        to parse the response returned by the Device Authorization Endpoint, when that response is</span>
<span class="sd">        an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises an Exception. But a subclass may return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">DeviceAuthorizationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">update_authorization_server_public_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the cached AS public keys by retrieving them from its `jwks_uri`.</span>

<span class="sd">        Public keys are returned by this method, as a `jwskate.JwkSet`. They are also</span>
<span class="sd">        available in attribute `authorization_server_jwks`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the retrieved public keys</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if no `jwks_uri` is configured</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="n">jwks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;jwks_uri&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">(),</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">jwks</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_discovery_endpoint</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client based on Authorization Server Metadata.</span>

<span class="sd">        This will retrieve the standardised metadata document available at `url`, and will extract</span>
<span class="sd">        all Endpoint Uris from that document, will fetch the current public keys from its</span>
<span class="sd">        `jwks_uri`, then will initialise an OAuth2Client based on those endpoints.</span>

<span class="sd">        Args:</span>
<span class="sd">             url: the url where the server metadata will be retrieved</span>
<span class="sd">             auth: the authentication handler to use for client authentication</span>
<span class="sd">             client_id: client ID</span>
<span class="sd">             client_secret: client secret to use to authenticate the client</span>
<span class="sd">             private_key: private key to sign client assertions</span>
<span class="sd">             session: a `requests.Session` to use to retrieve the document and initialise the client with</span>
<span class="sd">             issuer: if an issuer is given, check that it matches the one from the retrieved document</span>
<span class="sd">             testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">             **kwargs: additional keyword parameters to pass to OAuth2Client</span>

<span class="sd">        Returns:</span>
<span class="sd">            an OAuth2Client with endpoint initialised based on the obtained metadata</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if neither `url` nor `issuer` are suitable urls</span>
<span class="sd">            requests.HTTPError: if an error happens while fetching the documents</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Please specify at least one of `issuer` or `url`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="n">discovery</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">jwks_uri</span><span class="p">:</span>
            <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_discovery_document</span><span class="p">(</span>
            <span class="n">discovery</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">jwks</span><span class="p">,</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_discovery_document</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">discovery</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">https</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client, based on the server metadata from `discovery`.</span>

<span class="sd">        Args:</span>
<span class="sd">             discovery: a dict of server metadata, in the same format as retrieved from a discovery endpoint.</span>
<span class="sd">             issuer: if an issuer is given, check that it matches the one mentioned in the document</span>
<span class="sd">             auth: the authentication handler to use for client authentication</span>
<span class="sd">             client_id: client ID</span>
<span class="sd">             client_secret: client secret to use to authenticate the client</span>
<span class="sd">             private_key: private key to sign client assertions</span>
<span class="sd">             authorization_server_jwks: the current authorization server JWKS keys</span>
<span class="sd">             session: a requests Session to use to retrieve the document and initialise the client with</span>
<span class="sd">             https: (deprecated) if `True`, validates that urls in the discovery document use the https scheme</span>
<span class="sd">             testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">             **kwargs: additional args that will be passed to OAuth2Client</span>

<span class="sd">        Returns:</span>
<span class="sd">            an `OAuth2Client`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">https</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;The https parameter is deprecated.&quot;</span>
                <span class="s2">&quot; To disable endpoint uri validation, set `testing=True` when initializing your OAuth2Client.&quot;</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">testing</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">issuer</span> <span class="ow">and</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Mismatching issuer value in discovery document: &quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="n">issuer</span><span class="p">,</span>
                <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">issuer</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span>

        <span class="n">token_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_endpoint&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">token_endpoint</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;token_endpoint not found in that discovery document&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>
        <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">)</span>
        <span class="n">introspection_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">)</span>
        <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">)</span>
        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">jwks_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="n">https</span><span class="p">)</span>
        <span class="n">authorization_response_iss_parameter_supported</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;authorization_response_iss_parameter_supported&quot;</span><span class="p">,</span> <span class="kc">False</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow using `OAuth2Client` as a context-manager.</span>

<span class="sd">        The Authorization Server public keys are retrieved on `__enter__`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_authorization_server_public_keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># noqa: D105</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_require_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that a required endpoint url is set.&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No &#39;</span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">&#39; defined for this client. Please provide the URL for that&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; endpoint when initializing your </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.OAuth2Client.client_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.client_id" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Client ID.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.OAuth2Client.client_secret" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.client_secret" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Client Secret.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.OAuth2Client.client_jwks" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_jwks</span><span class="p">:</span> <span class="n">JwkSet</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.client_jwks" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>A <code>JwkSet</code> containing the public keys for this client.</p>
<p>Keys are:</p>
<ul>
<li>the public key for client assertion signature verification (if using private_key_jwt)</li>
<li>the ID Token encryption key</li>
</ul>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.validate_endpoint_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.validate_endpoint_uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Validate that an endpoint URI is suitable for use.</p>
<p>If you need to disable some checks (for AS testing purposes only!), provide a different
method here.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@token_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@revocation_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@introspection_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@userinfo_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@backchannel_authentication_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@device_authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@pushed_authorization_request_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@jwks_uri</span><span class="o">.</span><span class="n">validator</span>
<span class="k">def</span> <span class="nf">validate_endpoint_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that an endpoint URI is suitable for use.</span>

<span class="sd">    If you need to disable some checks (for AS testing purposes only!), provide a different</span>
<span class="sd">    method here.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">uri</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.validate_issuer_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.validate_issuer_uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Validate that an Issuer identifier is suitable for use.</p>
<p>This is the same check as an endpoint URI, but the path may be (and usually is) empty.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@issuer</span><span class="o">.</span><span class="n">validator</span>
<span class="k">def</span> <span class="nf">validate_issuer_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that an Issuer identifier is suitable for use.</span>

<span class="sd">    This is the same check as an endpoint URI, but the path may be (and usually is) empty.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">uri</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.token_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint.</p>
<p>Authentication will be added automatically based on the defined <code>auth</code> for this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>parameters to send to the token endpoint. Items with a <code>None</code>
   or empty value will not be sent in the request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a timeout value for the call</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>**requests_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for requests.post()</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token endpoint response, as</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> instance.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint.</span>

<span class="sd">    Authentication will be added automatically based on the defined `auth` for this client.</span>

<span class="sd">    Args:</span>
<span class="sd">      data: parameters to send to the token endpoint. Items with a `None`</span>
<span class="sd">           or empty value will not be sent in the request.</span>
<span class="sd">      timeout: a timeout value for the call</span>
<span class="sd">      **requests_kwargs: additional parameters for requests.post()</span>

<span class="sd">    Returns:</span>
<span class="sd">        the token endpoint response, as</span>
<span class="sd">        [`BearerToken`][requests_oauth2client.tokens.BearerToken] instance.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;token_endpoint&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_token_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_token_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_token_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_token_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse a Response returned by the Token Endpoint.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.token_request">token_request</a> to parse
responses returned by the Token Endpoint. Those responses contain an <code>access_token</code> and
additional attributes.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the Token Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> based on the response</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>contents.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_token_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a Response returned by the Token Endpoint.</span>

<span class="sd">    Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] to parse</span>
<span class="sd">    responses returned by the Token Endpoint. Those responses contain an `access_token` and</span>
<span class="sd">    additional attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [`BearerToken`][requests_oauth2client.tokens.BearerToken] based on the response</span>
<span class="sd">        contents.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">token_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bearer_token_class</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">response_class_exc</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">token_error_exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">token_error_exc</span> <span class="kn">from</span> <span class="nn">response_class_exc</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">token_response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_token_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_token_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>token_request()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.token_request">token_request</a> when the
Token Endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the Token Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>nothing, and raises an exception instead. But a subclass may return a</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> to implement a default</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>behaviour if needed.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_token_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `token_request()`.</span>

<span class="sd">    Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] when the</span>
<span class="sd">    Token Endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        nothing, and raises an exception instead. But a subclass may return a</span>
<span class="sd">        [`BearerToken`][requests_oauth2client.tokens.BearerToken] to implement a default</span>
<span class="sd">        behaviour if needed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidTokenResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.client_credentials" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_credentials</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.client_credentials" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint using the <code>client_credentials</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>str | <span title="typing.Iterable">Iterable</span>[str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to send with the request. Can be a str, or an iterable of str.
to pass that way include <code>scope</code>, <code>audience</code>, <code>resource</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>. Common parameters</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a TokenResponse</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_credentials</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the `client_credentials` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: the scope to send with the request. Can be a str, or an iterable of str.</span>
<span class="sd">            to pass that way include `scope`, `audience`, `resource`, etc.</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`. Common parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a TokenResponse</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">scope</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported scope value&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_CREDENTIALS</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.authorization_code" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.authorization_code" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint with the <code>authorization_code</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an authorization code or an <code>AuthorizationResponse</code> to exchange for tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>validate</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, validate the received ID Token (this works only if <code>code</code> is an AuthorizationResponse)</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>code</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_code</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `authorization_code` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">         code: an authorization code or an `AuthorizationResponse` to exchange for tokens</span>
<span class="sd">         validate: if `True`, validate the received ID Token (this works only if `code` is an AuthorizationResponse)</span>
<span class="sd">         requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">         **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `code`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
        <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">)</span>
        <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">)</span>
        <span class="n">azr</span> <span class="o">=</span> <span class="n">code</span>
        <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">code</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">AUTHORIZATION_CODE</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">validate</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">id_token</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">azr</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.refresh_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.refresh_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint with the <code>refresh_token</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a refresh_token, as a string, or as a <code>BearerToken</code>.
That <code>BearerToken</code> must have a <code>refresh_token</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to <code>requests</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint,
alongside <code>grant_type</code>, <code>refresh_token</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `refresh_token` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        refresh_token: a refresh_token, as a string, or as a `BearerToken`.</span>
<span class="sd">            That `BearerToken` must have a `refresh_token`.</span>
<span class="sd">        requests_kwargs: additional parameters for the call to `requests`</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint,</span>
<span class="sd">            alongside `grant_type`, `refresh_token`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This BearerToken doesn&#39;t have a refresh_token&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.device_code" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">device_code</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.device_code" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint using the Device Code grant.</p>
<p>The grant_type is <code>urn:ietf:params:oauth:grant-type:device_code</code>. This needs a Device Code,
or a <code>DeviceAuthorizationResponse</code> as parameter.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a device code, or a <code>DeviceAuthorizationResponse</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>device_code</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">device_code</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the Device Code grant.</span>

<span class="sd">    The grant_type is `urn:ietf:params:oauth:grant-type:device_code`. This needs a Device Code,</span>
<span class="sd">    or a `DeviceAuthorizationResponse` as parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_code: a device code, or a `DeviceAuthorizationResponse`</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `device_code`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This DeviceAuthorizationResponse doesn&#39;t have a device_code&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">DEVICE_CODE</span><span class="p">,</span>
        <span class="n">device_code</span><span class="o">=</span><span class="n">device_code</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.ciba" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">ciba</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.ciba" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a CIBA request to the Token Endpoint.</p>
<p>A CIBA request is a Token Request using the <code>urn:openid:params:grant-type:ciba</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an authentication request ID, as returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>auth_req_id</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ciba</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a CIBA request to the Token Endpoint.</span>

<span class="sd">    A CIBA request is a Token Request using the `urn:openid:params:grant-type:ciba` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_req_id: an authentication request ID, as returned by the AS</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `auth_req_id`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This `BackChannelAuthenticationResponse` doesn&#39;t have an `auth_req_id`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="o">=</span><span class="n">auth_req_id</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.token_exchange" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_exchange</span><span class="p">(</span><span class="n">subject_token</span><span class="p">,</span> <span class="n">subject_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actor_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actor_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requested_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.token_exchange" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a Token Exchange request.</p>
<p>A Token Exchange request is actually a request to the Token Endpoint with a grant_type
<code>urn:ietf:params:oauth:grant-type:token-exchange</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>subject_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the subject token to exchange for a new token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>subject_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the subject_token, mandatory if it cannot be guessed based
on <code>type(subject_token)</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>actor_token</code></td>
          <td>
                <code>None | str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the actor token to include in the request, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>actor_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the actor_token, mandatory if it cannot be guessed based
on <code>type(actor_token)</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requested_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the requested token.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_exchange</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">subject_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span><span class="p">,</span>
    <span class="n">subject_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">actor_token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">actor_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requested_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Token Exchange request.</span>

<span class="sd">    A Token Exchange request is actually a request to the Token Endpoint with a grant_type</span>
<span class="sd">    `urn:ietf:params:oauth:grant-type:token-exchange`.</span>

<span class="sd">    Args:</span>
<span class="sd">        subject_token: the subject token to exchange for a new token.</span>
<span class="sd">        subject_token_type: a token type identifier for the subject_token, mandatory if it cannot be guessed based</span>
<span class="sd">            on `type(subject_token)`.</span>
<span class="sd">        actor_token: the actor token to include in the request, if any.</span>
<span class="sd">        actor_token_type: a token type identifier for the actor_token, mandatory if it cannot be guessed based</span>
<span class="sd">            on `type(actor_token)`.</span>
<span class="sd">        requested_token_type: a token type identifier for the requested token.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">subject_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">subject_token_type</span><span class="p">,</span> <span class="n">subject_token</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;subject_token&#39; you provided. Please specify a &#39;subject_token_type&#39;.&quot;</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">actor_token</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">actor_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">actor_token_type</span><span class="p">,</span> <span class="n">actor_token</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;actor_token&#39; you provided. Please specify an &#39;actor_token_type&#39;.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">TOKEN_EXCHANGE</span><span class="p">,</span>
        <span class="n">subject_token</span><span class="o">=</span><span class="n">subject_token</span><span class="p">,</span>
        <span class="n">subject_token_type</span><span class="o">=</span><span class="n">subject_token_type</span><span class="p">,</span>
        <span class="n">actor_token</span><span class="o">=</span><span class="n">actor_token</span><span class="p">,</span>
        <span class="n">actor_token_type</span><span class="o">=</span><span class="n">actor_token_type</span><span class="p">,</span>
        <span class="n">requested_token_type</span><span class="o">=</span><span class="n">requested_token_type</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.jwt_bearer" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">jwt_bearer</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.jwt_bearer" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request using a JWT as authorization grant.</p>
<p>This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>assertion</code></td>
          <td>
                <code><span title="jwskate.Jwt">Jwt</span> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a JWT (as an instance of <code>jwskate.Jwt</code> or as a <code>str</code>) to use as authorization grant.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">jwt_bearer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">assertion</span><span class="p">:</span> <span class="n">Jwt</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request using a JWT as authorization grant.</span>

<span class="sd">    This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</span>

<span class="sd">    Args:</span>
<span class="sd">        assertion: a JWT (as an instance of `jwskate.Jwt` or as a `str`) to use as authorization grant.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">Jwt</span><span class="p">):</span>
        <span class="n">assertion</span> <span class="o">=</span> <span class="n">Jwt</span><span class="p">(</span><span class="n">assertion</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">JWT_BEARER</span><span class="p">,</span>
        <span class="n">assertion</span><span class="o">=</span><span class="n">assertion</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.resource_owner_password" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">resource_owner_password</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.resource_owner_password" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request using the Resource Owner Password Grant.</p>
<p>This Grant Type is deprecated and should only be used when there is no other choice.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>username</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resource owner user name</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>password</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resource owner password</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resource_owner_password</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request using the Resource Owner Password Grant.</span>

<span class="sd">    This Grant Type is deprecated and should only be used when there is no other choice.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: the resource owner user name</span>
<span class="sd">        password: the resource owner password</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">RESOURCE_OWNER_PASSWORD</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.authorization_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_request</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s1">&#39;openid&#39;</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=...</span><span class="p">,</span> <span class="n">nonce</span><span class="o">=...</span><span class="p">,</span> <span class="n">code_verifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.authorization_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate an Authorization Request for this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>scope</code> to use</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>response_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>response_type</code> to use</p>
            </div>
          </td>
          <td>
                <code>&#39;code&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>redirect_uri</code> to include in the request. By default,
the <code>redirect_uri</code> defined at init time is used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>state</code> parameter to use. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>nonce</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>nonce</code>. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the PKCE <code>code_verifier</code> to use. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the auth request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest with the supplied parameters</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
    <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate an Authorization Request for this client.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: the `scope` to use</span>
<span class="sd">        response_type: the `response_type` to use</span>
<span class="sd">        redirect_uri: the `redirect_uri` to include in the request. By default,</span>
<span class="sd">            the `redirect_uri` defined at init time is used.</span>
<span class="sd">        state: the `state` parameter to use. Leave default to generate a random value.</span>
<span class="sd">        nonce: a `nonce`. Leave default to generate a random value.</span>
<span class="sd">        code_verifier: the PKCE `code_verifier` to use. Leave default to generate a random value.</span>
<span class="sd">        **kwargs: additional parameters to include in the auth request</span>

<span class="sd">    Returns:</span>
<span class="sd">        an AuthorizationRequest with the supplied parameters</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>

    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">redirect_uri</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;No &#39;redirect_uri&#39; defined for this client. You must either pass a redirect_uri&quot;</span>
            <span class="s2">&quot; as parameter to this method, or include a redirect_uri when initializing your&quot;</span>
            <span class="s2">&quot; OAuth2Client.&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">response_type</span> <span class="o">!=</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only response_type=code is supported.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">AuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
        <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_challenge_method</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.pushed_authorization_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">pushed_authorization_request</span><span class="p">(</span><span class="n">authorization_request</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.pushed_authorization_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a Pushed Authorization Request.</p>
<p>This sends a request to the Pushed Authorization Request Endpoint, and returns a
<code>RequestUriParameterAuthorizationRequest</code> initialized with the AS response.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_request</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authorization request to send</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>RequestUriParameterAuthorizationRequest</code> initialized based on the AS response</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pushed_authorization_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">authorization_request</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Pushed Authorization Request.</span>

<span class="sd">    This sends a request to the Pushed Authorization Request Endpoint, and returns a</span>
<span class="sd">    `RequestUriParameterAuthorizationRequest` initialized with the AS response.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_request: the authorization request to send</span>
<span class="sd">        requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the `RequestUriParameterAuthorizationRequest` initialized based on the AS response</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;pushed_authorization_request_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">authorization_request</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_pushed_authorization_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_pushed_authorization_request_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_pushed_authorization_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_pushed_authorization_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_pushed_authorization_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse the response obtained by <code>pushed_authorization_request()</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>requests.Response</code> returned by the PAR endpoint</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a RequestUriParameterAuthorizationRequest instance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_pushed_authorization_response</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `pushed_authorization_request()`.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the `requests.Response` returned by the PAR endpoint</span>

<span class="sd">    Returns:</span>
<span class="sd">        a RequestUriParameterAuthorizationRequest instance</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">request_uri</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request_uri&quot;</span><span class="p">)</span>
    <span class="n">expires_in</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_in&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_pushed_authorization_request_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_pushed_authorization_request_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_pushed_authorization_request_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error Handler for Pushed Authorization Endpoint errors.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP response as returned by the AS PAR endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a RequestUriParameterAuthorizationRequest, if the error is recoverable</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a subclass of this error depending on the error returned by the AS</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" href="#requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse">InvalidPushedAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the returned response is not following the</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>specifications UnknownTokenEndpointError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>for unknown/unhandled errors</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_pushed_authorization_request_error</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error Handler for Pushed Authorization Endpoint errors.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the HTTP response as returned by the AS PAR endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a RequestUriParameterAuthorizationRequest, if the error is recoverable</span>

<span class="sd">    Raises:</span>
<span class="sd">        EndpointError: a subclass of this error depending on the error returned by the AS</span>
<span class="sd">        InvalidPushedAuthorizationResponse: if the returned response is not following the</span>
<span class="sd">        specifications UnknownTokenEndpointError: for unknown/unhandled errors</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.userinfo" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">userinfo</span><span class="p">(</span><span class="n">access_token</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.userinfo" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Call the UserInfo endpoint.</p>
<p>This sends a request to the UserInfo endpoint, with the specified access_token, and returns
the parsed result.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the access token to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the userinfo endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">userinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Call the UserInfo endpoint.</span>

<span class="sd">    This sends a request to the UserInfo endpoint, with the specified access_token, and returns</span>
<span class="sd">    the parsed result.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: the access token to use</span>

<span class="sd">    Returns:</span>
<span class="sd">        the [Response][requests.Response] returned by the userinfo endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">BearerAuth</span><span class="p">(</span><span class="n">access_token</span><span class="p">),</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_userinfo_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_userinfo_error</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_userinfo_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_userinfo_response</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_userinfo_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse the response obtained by <code>userinfo()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.userinfo">userinfo()</a> to parse the
response from the UserInfo endpoint, this will extract and return its JSON content.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>resp</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned from the UserInfo endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the parsed JSON content from this response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_userinfo_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `userinfo()`.</span>

<span class="sd">    Invoked by [userinfo()][requests_oauth2client.client.OAuth2Client.userinfo] to parse the</span>
<span class="sd">    response from the UserInfo endpoint, this will extract and return its JSON content.</span>

<span class="sd">    Args:</span>
<span class="sd">        resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the parsed JSON content from this response.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_userinfo_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_userinfo_error</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_userinfo_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse UserInfo error response.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>resp</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned from the UserInfo endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>nothing, raises exception instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_userinfo_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse UserInfo error response.</span>

<span class="sd">    Args:</span>
<span class="sd">        resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        nothing, raises exception instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.get_token_type" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_token_type</span><span class="p">(</span><span class="n">token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.get_token_type" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Get standardized token type identifiers.</p>
<p>Return a standardized token type identifier, based on a short <code>token_type</code> hint and/or a
token value.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token_type hint, as <code>str</code>. May be "access_token", "refresh_token"
or "id_token"</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token value, as an instance of <code>BearerToken</code> or IdToken, or as a <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token_type as defined in the Token Exchange RFC8693.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_token_type</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get standardized token type identifiers.</span>

<span class="sd">    Return a standardized token type identifier, based on a short `token_type` hint and/or a</span>
<span class="sd">    token value.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_type: a token_type hint, as `str`. May be &quot;access_token&quot;, &quot;refresh_token&quot;</span>
<span class="sd">            or &quot;id_token&quot;</span>
<span class="sd">        token: a token value, as an instance of `BearerToken` or IdToken, or as a `str`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the token_type as defined in the Token Exchange RFC8693.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">token_type</span> <span class="ow">or</span> <span class="n">token</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine type of an empty token without a token_type hint&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">token_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the type of provided token when it is a bare str. Please specify a token_type.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unexpected type of token, please provide a string or a BearerToken or an IdToken.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not a BearerToken or a string representation of it.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh_token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:refresh_token&quot;</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="s2">&quot;id_token&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not an IdToken or a string representation of it.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;saml1&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;saml2&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:jwt&quot;</span><span class="p">,</span>
        <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_type</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.revoke_access_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.revoke_access_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Revocation Endpoint to revoke an access token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the access token to revoke</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the underlying requests.post() call</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span>
<span class="normal">997</span>
<span class="normal">998</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_access_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke an access token.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: the access token to revoke</span>
<span class="sd">        requests_kwargs: additional parameters for the underlying requests.post() call</span>
<span class="sd">        **revoke_kwargs: additional parameters to pass to the revocation endpoint</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
        <span class="n">access_token</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.revoke_refresh_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.revoke_refresh_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Revocation Endpoint to revoke a refresh token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the refresh token to revoke.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the revocation request is successful, <code>False</code> if this client has no configured</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>revocation endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_refresh_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke a refresh token.</span>

<span class="sd">    Args:</span>
<span class="sd">        refresh_token: the refresh token to revoke.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the revocation endpoint.</span>
<span class="sd">        **revoke_kwargs: additional parameters to pass to the revocation endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the revocation request is successful, `False` if this client has no configured</span>
<span class="sd">        revocation endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
        <span class="n">refresh_token</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.revoke_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.revoke_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a Token Revocation request.</p>
<p>By default, authentication will be the same than the one used for the Token Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token to revoke.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_type_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token_type_hint to send to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to the underling call to requests.post()</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to send to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the revocation succeeds, <code>False</code> if no revocation endpoint is present or a</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>non-standardised error is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Token Revocation request.</span>

<span class="sd">    By default, authentication will be the same than the one used for the Token Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the token to revoke.</span>
<span class="sd">        token_type_hint: a token_type_hint to send to the revocation endpoint.</span>
<span class="sd">        requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">        **revoke_kwargs: additional parameters to send to the revocation endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the revocation succeeds, `False` if no revocation endpoint is present or a</span>
<span class="sd">        non-standardised error is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">revoke_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_revocation_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_revocation_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_revocation_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_revocation_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>revoke_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.revoke_token">revoke_token()</a> when the
revocation endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> as returned by the Revocation Endpoint</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>False</code> to signal that an error occurred. May raise exceptions instead depending on the</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>revocation response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_revocation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `revoke_token()`.</span>

<span class="sd">    Invoked by [revoke_token()][requests_oauth2client.client.OAuth2Client.revoke_token] when the</span>
<span class="sd">    revocation endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] as returned by the Revocation Endpoint</span>

<span class="sd">    Returns:</span>
<span class="sd">        `False` to signal that an error occurred. May raise exceptions instead depending on the</span>
<span class="sd">        revocation response.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">RevocationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.introspect_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">introspect_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.introspect_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Introspection Endpoint.</p>
<p>Parameter <code>token</code> can be:</p>
<ul>
<li>a <code>str</code></li>
<li>a <code>BearerToken</code> instance</li>
</ul>
<p>You may pass any arbitrary <code>token</code> and <code>token_type_hint</code> values as <code>str</code>. Those will
be included in the request, as-is.
If <code>token</code> is a <code>BearerToken</code>, then <code>token_type_hint</code> must be either:</p>
<ul>
<li><code>None</code>: the access_token will be instrospected and no token_type_hint will be included
in the request</li>
<li><code>access_token</code>: same as <code>None</code>, but the token_type_hint will be included</li>
<li>or <code>refresh_token</code>: only available if a Refresh Token is present in the BearerToken.</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token to instrospect</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_type_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>token_type_hint</code> to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to the underling call to requests.post()</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**introspect_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to send to the introspection endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response as returned by the Introspection Endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">introspect_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Introspection Endpoint.</span>

<span class="sd">    Parameter `token` can be:</span>

<span class="sd">    - a `str`</span>
<span class="sd">    - a `BearerToken` instance</span>

<span class="sd">    You may pass any arbitrary `token` and `token_type_hint` values as `str`. Those will</span>
<span class="sd">    be included in the request, as-is.</span>
<span class="sd">    If `token` is a `BearerToken`, then `token_type_hint` must be either:</span>

<span class="sd">    - `None`: the access_token will be instrospected and no token_type_hint will be included</span>
<span class="sd">    in the request</span>
<span class="sd">    - `access_token`: same as `None`, but the token_type_hint will be included</span>
<span class="sd">    - or `refresh_token`: only available if a Refresh Token is present in the BearerToken.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the token to instrospect</span>
<span class="sd">        token_type_hint: the `token_type_hint` to include in the request.</span>
<span class="sd">        requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">        **introspect_kwargs: additional parameters to send to the introspection endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the response as returned by the Introspection Endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token_type_hint</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">access_token</span>
        <span class="k">elif</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Invalid `token_type_hint`. To test arbitrary `token_type_hint` values,&quot;</span>
                <span class="s2">&quot; you must provide `token` as a `str`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">introspect_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_introspection_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_introspection_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_introspection_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_introspection_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_introspection_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse Token Introspection Responses received by <code>introspect_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.introspect_token">introspect_token()</a>
to parse the returned response. This decodes the JSON content if possible, otherwise it
returns the response as a string.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> as returned by the Introspection Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the decoded JSON content, or a <code>str</code> with the content.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_introspection_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse Token Introspection Responses received by `introspect_token()`.</span>

<span class="sd">    Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">    to parse the returned response. This decodes the JSON content if possible, otherwise it</span>
<span class="sd">    returns the response as a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] as returned by the Introspection Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the decoded JSON content, or a `str` with the content.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_introspection_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_introspection_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_introspection_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>introspect_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.introspect_token">introspect_token()</a>
to parse the returned response in the case an error is returned.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response as returned by the Introspection Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises exceptions. A subclass can return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_introspection_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `introspect_token()`.</span>

<span class="sd">    Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">    to parse the returned response in the case an error is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response as returned by the Introspection Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises exceptions. A subclass can return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">IntrospectionError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnknownIntrospectionError</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.backchannel_authentication_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">backchannel_authentication_request</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">&#39;openid&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_notification_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">acr_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">login_hint_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_token_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">login_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">binding_message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_code</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requested_expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.backchannel_authentication_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a CIBA Authentication Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to include in the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>client_notification_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client Notification Token to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>acr_values</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the acr values to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>login_hint_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Login Hint Token to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>id_token_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID Token Hint to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>login_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Login Hint to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>binding_message</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Binding Message to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>user_code</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the User Code to include in the request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requested_expiry</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Requested Expiry, in seconds, to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request (optional)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided JWK does not include an "alg" parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**ciba_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BackChannelAuthenticationResponse as returned by AS</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">backchannel_authentication_request</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_notification_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">login_hint_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_token_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">login_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">binding_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requested_expiry</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a CIBA Authentication Request.</span>

<span class="sd">    Args:</span>
<span class="sd">         scope: the scope to include in the request.</span>
<span class="sd">         client_notification_token: the Client Notification Token to include in the request.</span>
<span class="sd">         acr_values: the acr values to include in the request.</span>
<span class="sd">         login_hint_token: the Login Hint Token to include in the request.</span>
<span class="sd">         id_token_hint: the ID Token Hint to include in the request.</span>
<span class="sd">         login_hint: the Login Hint to include in the request.</span>
<span class="sd">         binding_message: the Binding Message to include in the request.</span>
<span class="sd">         user_code: the User Code to include in the request</span>
<span class="sd">         requested_expiry: the Requested Expiry, in seconds, to include in the request.</span>
<span class="sd">         private_jwk: the JWK to use to sign the request (optional)</span>
<span class="sd">         alg: the alg to use to sign the request, if the provided JWK does not include an &quot;alg&quot; parameter.</span>
<span class="sd">         requests_kwargs: additional parameters for</span>
<span class="sd">         **ciba_kwargs: additional parameters to include in the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a BackChannelAuthenticationResponse as returned by AS</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">or</span> <span class="n">login_hint_token</span> <span class="ow">or</span> <span class="n">id_token_hint</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;One of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">login_hint</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `scope` value&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `acr_values`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">ciba_kwargs</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">client_notification_token</span><span class="o">=</span><span class="n">client_notification_token</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
        <span class="n">login_hint_token</span><span class="o">=</span><span class="n">login_hint_token</span><span class="p">,</span>
        <span class="n">id_token_hint</span><span class="o">=</span><span class="n">id_token_hint</span><span class="p">,</span>
        <span class="n">login_hint</span><span class="o">=</span><span class="n">login_hint</span><span class="p">,</span>
        <span class="n">binding_message</span><span class="o">=</span><span class="n">binding_message</span><span class="p">,</span>
        <span class="n">user_code</span><span class="o">=</span><span class="n">user_code</span><span class="p">,</span>
        <span class="n">requested_expiry</span><span class="o">=</span><span class="n">requested_expiry</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">private_jwk</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">))}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;backchannel_authentication_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_backchannel_authentication_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_backchannel_authentication_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_backchannel_authentication_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_backchannel_authentication_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_backchannel_authentication_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse a response received by <code>backchannel_authentication_request()</code>.</p>
<p>Invoked by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request">backchannel_authentication_request()</a>
to parse the response returned by the BackChannel Authentication Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the BackChannel Authentication Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BackChannelAuthenticationResponse</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_backchannel_authentication_response</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a response received by `backchannel_authentication_request()`.</span>

<span class="sd">    Invoked by</span>
<span class="sd">    [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">    to parse the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BackChannelAuthenticationResponse`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_backchannel_authentication_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_backchannel_authentication_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_backchannel_authentication_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>backchannel_authentication_request()</code>.</p>
<p>Invoked by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request">backchannel_authentication_request()</a>
to parse the response returned by the BackChannel Authentication Endpoint, when it is an
error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the BackChannel Authentication Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises an exception. But a subclass can return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_backchannel_authentication_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `backchannel_authentication_request()`.</span>

<span class="sd">    Invoked by</span>
<span class="sd">    [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">    to parse the response returned by the BackChannel Authentication Endpoint, when it is an</span>
<span class="sd">    error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises an exception. But a subclass can return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">BackChannelAuthenticationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.authorize_device" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorize_device</span><span class="p">(</span><span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.authorize_device" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Send a Device Authorization Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**data</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional data to send to the Device Authorization Endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Device Authorization Response</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorize_device</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Device Authorization Request.</span>

<span class="sd">    Args:</span>
<span class="sd">        **data: additional data to send to the Device Authorization Endpoint</span>
<span class="sd">        requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Device Authorization Response</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;device_authorization_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_device_authorization_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_device_authorization_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.parse_device_authorization_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_device_authorization_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.parse_device_authorization_response" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Parse a Device Authorization Response received by <code>authorize_device()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.authorize_device">authorize_device()</a>
to parse the response returned by the Device Authorization Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the Device Authorization Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>DeviceAuthorizationResponse</code> as returned by AS</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_device_authorization_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a Device Authorization Response received by `authorize_device()`.</span>

<span class="sd">    Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">    to parse the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `DeviceAuthorizationResponse` as returned by AS</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device_authorization_response</span> <span class="o">=</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">device_authorization_response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.on_device_authorization_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_device_authorization_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.on_device_authorization_error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>authorize_device()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.authorize_device">authorize_device()</a>
to parse the response returned by the Device Authorization Endpoint, when that response is
an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the Device Authorization Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises an Exception. But a subclass may return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_device_authorization_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `authorize_device()`.</span>

<span class="sd">    Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">    to parse the response returned by the Device Authorization Endpoint, when that response is</span>
<span class="sd">    an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises an Exception. But a subclass may return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">DeviceAuthorizationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.update_authorization_server_public_keys" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">update_authorization_server_public_keys</span><span class="p">(</span><span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.OAuth2Client.update_authorization_server_public_keys" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Update the cached AS public keys by retrieving them from its <code>jwks_uri</code>.</p>
<p>Public keys are returned by this method, as a <code>jwskate.JwkSet</code>. They are also
available in attribute <code>authorization_server_jwks</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.JwkSet">JwkSet</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the retrieved public keys</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if no <code>jwks_uri</code> is configured</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_authorization_server_public_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the cached AS public keys by retrieving them from its `jwks_uri`.</span>

<span class="sd">    Public keys are returned by this method, as a `jwskate.JwkSet`. They are also</span>
<span class="sd">    available in attribute `authorization_server_jwks`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the retrieved public keys</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if no `jwks_uri` is configured</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="n">jwks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;jwks_uri&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">(),</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">jwks</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.from_discovery_endpoint" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_discovery_endpoint</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">issuer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">testing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.from_discovery_endpoint" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client based on Authorization Server Metadata.</p>
<p>This will retrieve the standardised metadata document available at <code>url</code>, and will extract
all Endpoint Uris from that document, will fetch the current public keys from its
<code>jwks_uri</code>, then will initialise an OAuth2Client based on those endpoints.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the url where the server metadata will be retrieved</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret to use to authenticate the client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private key to sign client assertions</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>requests.Session</code> to use to retrieve the document and initialise the client with</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an issuer is given, check that it matches the one from the retrieved document</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if True, don't try to validate the endpoint urls that are part of the document</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional keyword parameters to pass to OAuth2Client</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client with endpoint initialised based on the obtained metadata</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if neither <code>url</code> nor <code>issuer</code> are suitable urls</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an error happens while fetching the documents</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_discovery_endpoint</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client based on Authorization Server Metadata.</span>

<span class="sd">    This will retrieve the standardised metadata document available at `url`, and will extract</span>
<span class="sd">    all Endpoint Uris from that document, will fetch the current public keys from its</span>
<span class="sd">    `jwks_uri`, then will initialise an OAuth2Client based on those endpoints.</span>

<span class="sd">    Args:</span>
<span class="sd">         url: the url where the server metadata will be retrieved</span>
<span class="sd">         auth: the authentication handler to use for client authentication</span>
<span class="sd">         client_id: client ID</span>
<span class="sd">         client_secret: client secret to use to authenticate the client</span>
<span class="sd">         private_key: private key to sign client assertions</span>
<span class="sd">         session: a `requests.Session` to use to retrieve the document and initialise the client with</span>
<span class="sd">         issuer: if an issuer is given, check that it matches the one from the retrieved document</span>
<span class="sd">         testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">         **kwargs: additional keyword parameters to pass to OAuth2Client</span>

<span class="sd">    Returns:</span>
<span class="sd">        an OAuth2Client with endpoint initialised based on the obtained metadata</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if neither `url` nor `issuer` are suitable urls</span>
<span class="sd">        requests.HTTPError: if an error happens while fetching the documents</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Please specify at least one of `issuer` or `url`&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
    <span class="n">discovery</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jwks_uri</span><span class="p">:</span>
        <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_discovery_document</span><span class="p">(</span>
        <span class="n">discovery</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">jwks</span><span class="p">,</span>
        <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.OAuth2Client.from_discovery_document" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_discovery_document</span><span class="p">(</span><span class="n">discovery</span><span class="p">,</span> <span class="n">issuer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">testing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Client.from_discovery_document" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client, based on the server metadata from <code>discovery</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>discovery</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a dict of server metadata, in the same format as retrieved from a discovery endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an issuer is given, check that it matches the one mentioned in the document</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret to use to authenticate the client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private key to sign client assertions</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>authorization_server_jwks</code></td>
          <td>
                <code><span title="jwskate.JwkSet">JwkSet</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the current authorization server JWKS keys</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a requests Session to use to retrieve the document and initialise the client with</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>https</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>(deprecated) if <code>True</code>, validates that urls in the discovery document use the https scheme</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if True, don't try to validate the endpoint urls that are part of the document</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional args that will be passed to OAuth2Client</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>OAuth2Client</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_discovery_document</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">discovery</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">https</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client, based on the server metadata from `discovery`.</span>

<span class="sd">    Args:</span>
<span class="sd">         discovery: a dict of server metadata, in the same format as retrieved from a discovery endpoint.</span>
<span class="sd">         issuer: if an issuer is given, check that it matches the one mentioned in the document</span>
<span class="sd">         auth: the authentication handler to use for client authentication</span>
<span class="sd">         client_id: client ID</span>
<span class="sd">         client_secret: client secret to use to authenticate the client</span>
<span class="sd">         private_key: private key to sign client assertions</span>
<span class="sd">         authorization_server_jwks: the current authorization server JWKS keys</span>
<span class="sd">         session: a requests Session to use to retrieve the document and initialise the client with</span>
<span class="sd">         https: (deprecated) if `True`, validates that urls in the discovery document use the https scheme</span>
<span class="sd">         testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">         **kwargs: additional args that will be passed to OAuth2Client</span>

<span class="sd">    Returns:</span>
<span class="sd">        an `OAuth2Client`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">https</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;The https parameter is deprecated.&quot;</span>
            <span class="s2">&quot; To disable endpoint uri validation, set `testing=True` when initializing your OAuth2Client.&quot;</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">testing</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">issuer</span> <span class="ow">and</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">issuer</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Mismatching issuer value in discovery document: &quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">msg</span><span class="p">,</span>
            <span class="n">issuer</span><span class="p">,</span>
            <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span>

    <span class="n">token_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_endpoint&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">token_endpoint</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;token_endpoint not found in that discovery document&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>
    <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">)</span>
    <span class="n">introspection_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">)</span>
    <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">)</span>
    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jwks_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="n">https</span><span class="p">)</span>
    <span class="n">authorization_response_iss_parameter_supported</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;authorization_response_iss_parameter_supported&quot;</span><span class="p">,</span> <span class="kc">False</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
        <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BaseClientAuthenticationMethod" class="doc doc-heading">
          <code>BaseClientAuthenticationMethod</code>


<a href="#requests_oauth2client.BaseClientAuthenticationMethod" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code></p>

  
      <p>Base class for all Client Authentication methods. This extends [requests.auth.AuthBase].</p>
<p>This base class only checks that requests are suitable to add Client Authentication parameters
to, and doesn't modify the request.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BaseClientAuthenticationMethod</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all Client Authentication methods. This extends [requests.auth.AuthBase].</span>

<span class="sd">    This base class only checks that requests are suitable to add Client Authentication parameters</span>
<span class="sd">    to, and doesn&#39;t modify the request.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the request is suitable for Client Authentication.</span>

<span class="sd">        It checks:</span>

<span class="sd">        * that the method is `POST`</span>
<span class="sd">        * that the Content-Type is &quot;application/x-www-form-urlencoded&quot; or None</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][], unmodified</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the request is not suitable for OAuth 2.0 Client Authentication</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">!=</span> <span class="s2">&quot;POST&quot;</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This request is not suitable for OAuth 2.0 Client Authentication&quot;</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ClientAssertionAuthenticationMethod" class="doc doc-heading">
          <code>ClientAssertionAuthenticationMethod</code>


<a href="#requests_oauth2client.ClientAssertionAuthenticationMethod" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Base class for assertion-based client authentication methods.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientAssertionAuthenticationMethod</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for assertion-based client authentication methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the client_id to use</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alg</span> <span class="o">=</span> <span class="n">alg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">=</span> <span class="n">lifetime</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span> <span class="o">=</span> <span class="n">jti_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aud</span> <span class="o">=</span> <span class="n">aud</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion for a specific audience.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the `aud` claim of the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion, as `str`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a `client_assertion` field in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added `client_assertion` field.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">audience</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aud</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span>
        <span class="k">if</span> <span class="n">audience</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No url defined for this request. This should never happen...&quot;</span>  <span class="c1"># pragma: no cover</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">body</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">client_assertion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_assertion&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">client_assertion</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_assertion_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">b</span><span class="s2">&quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;</span><span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ClientAssertionAuthenticationMethod.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ClientAssertionAuthenticationMethod.client_assertion" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a Client Assertion for a specific audience.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the <code>aud</code> claim of the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion, as <code>str</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion for a specific audience.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the `aud` claim of the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion, as `str`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ClientSecretBasic" class="doc doc-heading">
          <code>ClientSecretBasic</code>


<a href="#requests_oauth2client.ClientSecretBasic" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_basic</code> authentication.</p>
<p>With this method, the client sends its Client ID and Secret, in the Authorization header, with
the "Basic" scheme, in each authenticated request to the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_secret</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretBasic</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_basic` authentication.</span>

<span class="sd">    With this method, the client sends its Client ID and Secret, in the Authorization header, with</span>
<span class="sd">    the &quot;Basic&quot; scheme, in each authenticated request to the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: `client_id` to use.</span>
<span class="sd">        client_secret: `client_secret` to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the appropriate `Authorization` header in each request.</span>

<span class="sd">        The Authorization header is formatted as such: `Authorization: Basic</span>
<span class="sd">        BASE64(&#39;&lt;client_id:client_secret&gt;&#39;)`</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added Authorization header.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">b64encoded_credentials</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Basic </span><span class="si">{</span><span class="n">b64encoded_credentials</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ClientSecretJwt" class="doc doc-heading">
          <code>ClientSecretJwt</code>


<a href="#requests_oauth2client.ClientSecretJwt" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod">ClientAssertionAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_jwt</code> client authentication method.</p>
<p>With this method, the client generates and signs a client assertion that is symmetrically
signed with its Client Secret. The assertion is then sent to the AS in a <code>client_assertion</code>
field with each authenticated request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_secret</code> to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>&#39;HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>lambda: <span title="uuid.uuid4">uuid4</span>()</code>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretJwt</span><span class="p">(</span><span class="n">ClientAssertionAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_jwt` client authentication method.</span>

<span class="sd">    With this method, the client generates and signs a client assertion that is symmetrically</span>
<span class="sd">    signed with its Client Secret. The assertion is then sent to the AS in a `client_assertion`</span>
<span class="sd">    field with each authenticated request.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the `client_id` to use.</span>
<span class="sd">        client_secret: the `client_secret` to use to sign generated Client Assertions.</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">uuid4</span><span class="p">(),</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">jti_gen</span><span class="p">,</span> <span class="n">aud</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a symmetrically signed Client Assertion.</span>

<span class="sd">        Assertion is signed with the `client_secret` as key and the `alg` passed at init time.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion, as `str`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
        <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

        <span class="n">jwk</span> <span class="o">=</span> <span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

        <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
                <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
                <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
                <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.ClientSecretJwt.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.ClientSecretJwt.client_assertion" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a symmetrically signed Client Assertion.</p>
<p>Assertion is signed with the <code>client_secret</code> as key and the <code>alg</code> passed at init time.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion, as <code>str</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a symmetrically signed Client Assertion.</span>

<span class="sd">    Assertion is signed with the `client_secret` as key and the `alg` passed at init time.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion, as `str`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
    <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
    <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

    <span class="n">jwk</span> <span class="o">=</span> <span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

    <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
            <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
            <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
            <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ClientSecretPost" class="doc doc-heading">
          <code>ClientSecretPost</code>


<a href="#requests_oauth2client.ClientSecretPost" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_post</code> client authentication method.</p>
<p>With this method, the client inserts its client_id and client_secret in each authenticated
 request to the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_secret</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretPost</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_post` client authentication method.</span>

<span class="sd">     With this method, the client inserts its client_id and client_secret in each authenticated</span>
<span class="sd">     request to the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: `client_id` to use.</span>
<span class="sd">        client_secret: `client_secret` to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the `client_id` and `client_secret` parameters in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added client credentials fields.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">))</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_secret&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.PrivateKeyJwt" class="doc doc-heading">
          <code>PrivateKeyJwt</code>


<a href="#requests_oauth2client.PrivateKeyJwt" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod">ClientAssertionAuthenticationMethod</a></code></p>

  
      <p>Implement <code>private_key_jwt</code> client authentication method.</p>
<p>With this method, the client generates and sends a client_assertion, that is asymmetrically
signed with a private key, on each direct request to the Authorization Server.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the private JWK to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code><span title="jwskate.SignatureAlgs.RS256">RS256</span></code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>lambda: <span title="uuid.uuid4">uuid4</span>()</code>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.k</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PrivateKeyJwt</span><span class="p">(</span><span class="n">ClientAssertionAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `private_key_jwt` client authentication method.</span>

<span class="sd">    With this method, the client generates and sends a client_assertion, that is asymmetrically</span>
<span class="sd">    signed with a private key, on each direct request to the Authorization Server.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the `client_id` to use.</span>
<span class="sd">        private_jwk: the private JWK to use to sign generated Client Assertions.</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.k</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">uuid4</span><span class="p">(),</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">):</span>
            <span class="n">private_jwk</span> <span class="o">=</span> <span class="n">Jwk</span><span class="p">(</span><span class="n">private_jwk</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">is_private</span> <span class="ow">or</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">is_symmetric</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Private Key JWT client authentication method uses asymmetric signing thus requires a private key.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">alg</span> <span class="o">=</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">alg</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">alg</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;An asymmetric signing alg is required, either as part of the private JWK, or passed as parameter.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">kid</span> <span class="o">=</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kid</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Asymmetric signing requires the private JWK to have a Key ID (kid).&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">jti_gen</span><span class="p">,</span> <span class="n">aud</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span> <span class="o">=</span> <span class="n">private_jwk</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion, asymmetrically signed with `private_jwk` as key.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
        <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

        <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
                <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
                <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
                <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.PrivateKeyJwt.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.PrivateKeyJwt.client_assertion" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Generate a Client Assertion, asymmetrically signed with <code>private_jwk</code> as key.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion, asymmetrically signed with `private_jwk` as key.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
    <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
    <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

    <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
            <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
            <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
            <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.PublicApp" class="doc doc-heading">
          <code>PublicApp</code>


<a href="#requests_oauth2client.PublicApp" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement the <code>none</code> authentication method for public apps.</p>
<p>This scheme is used for Public Clients, which do not have any secret credentials. Those only
send their client_id to the Authorization Server.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PublicApp</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the `none` authentication method for public apps.</span>

<span class="sd">    This scheme is used for Public Clients, which do not have any secret credentials. Those only</span>
<span class="sd">    send their client_id to the Authorization Server.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the client_id to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the `client_id` field in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added `client_id` field.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">body</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.DeviceAuthorizationPoolingJob" class="doc doc-heading">
          <code>DeviceAuthorizationPoolingJob</code>


<a href="#requests_oauth2client.DeviceAuthorizationPoolingJob" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.pooling.TokenEndpointPoolingJob" href="#requests_oauth2client.pooling.TokenEndpointPoolingJob">TokenEndpointPoolingJob</a></code></p>

  
      <p>A Token Endpoint pooling job for the Device Authorization Flow.</p>
<p>This periodically checks if the user has finished with his authorization in a Device
Authorization flow.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client that will be used to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>device_code</code> as <code>str</code> or a <code>DeviceAuthorizationResponse</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pooling interval to use. This overrides the one in <code>auth_req_id</code> if it is
a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of seconds to add to the pooling interval when the AS returns
a slow-down request.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the token request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>auth=("client_id", "client_secret") ) pool_job = DeviceAuthorizationPoolingJob(client=client,
device_code="my_device_code")</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>token = None while token is None: token = pool_job() ```
</code></pre></div></td></tr></table></div>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationPoolingJob</span><span class="p">(</span><span class="n">TokenEndpointPoolingJob</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Token Endpoint pooling job for the Device Authorization Flow.</span>

<span class="sd">    This periodically checks if the user has finished with his authorization in a Device</span>
<span class="sd">    Authorization flow.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client that will be used to pool the token endpoint.</span>
<span class="sd">        device_code: a `device_code` as `str` or a `DeviceAuthorizationResponse`.</span>
<span class="sd">        interval: The pooling interval to use. This overrides the one in `auth_req_id` if it is</span>
<span class="sd">            a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        slow_down_interval: Number of seconds to add to the pooling interval when the AS returns</span>
<span class="sd">            a slow-down request.</span>
<span class="sd">        requests_kwargs: Additional parameters for the underlying calls to [requests.request][].</span>
<span class="sd">        **token_kwargs: Additional parameters for the token request.</span>

<span class="sd">    Usage: ```python client = OAuth2Client( token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">    auth=(&quot;client_id&quot;, &quot;client_secret&quot;) ) pool_job = DeviceAuthorizationPoolingJob(client=client,</span>
<span class="sd">    device_code=&quot;my_device_code&quot;)</span>

<span class="sd">        token = None while token is None: token = pool_job() ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">slow_down_interval</span><span class="o">=</span><span class="n">slow_down_interval</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Device Code token request.</span>

<span class="sd">        This actually calls [OAuth2Client.device_code(device_code)] on `client`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">device_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.DeviceAuthorizationPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>

<a href="#requests_oauth2client.DeviceAuthorizationPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Implement the Device Code token request.</p>
<p>This actually calls [OAuth2Client.device_code(device_code)] on <code>client</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the Device Code token request.</span>

<span class="sd">    This actually calls [OAuth2Client.device_code(device_code)] on `client`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">device_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.DeviceAuthorizationResponse" class="doc doc-heading">
          <code>DeviceAuthorizationResponse</code>


<a href="#requests_oauth2client.DeviceAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>Represent a response returned by the device Authorization Endpoint.</p>
<p>All parameters are those returned by the AS as response to a Device Authorization Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>user_code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>verification_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>verification_uri_complete</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for the device_code.
Also accepts an <code>expires_in</code> parameter, as a number of seconds in the future.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the pooling <code>interval</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a response returned by the device Authorization Endpoint.</span>

<span class="sd">    All parameters are those returned by the AS as response to a Device Authorization Request.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_code: the `device_code` as returned by the AS.</span>
<span class="sd">        user_code: the `device_code` as returned by the AS.</span>
<span class="sd">        verification_uri: the `device_code` as returned by the AS.</span>
<span class="sd">        verification_uri_complete: the `device_code` as returned by the AS.</span>
<span class="sd">        expires_at: the expiration date for the device_code.</span>
<span class="sd">            Also accepts an `expires_in` parameter, as a number of seconds in the future.</span>
<span class="sd">        interval: the pooling `interval` as returned by the AS.</span>
<span class="sd">        **kwargs: additional parameters as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verification_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verification_uri_complete</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_code</span> <span class="o">=</span> <span class="n">user_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verification_uri</span> <span class="o">=</span> <span class="n">verification_uri</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verification_uri_complete</span> <span class="o">=</span> <span class="n">verification_uri_complete</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the `device_code` within this response is expired.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the device_code is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">            no `expires_in` hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.DeviceAuthorizationResponse.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.DeviceAuthorizationResponse.is_expired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Check if the <code>device_code</code> within this response is expired.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the device_code is expired, <code>False</code> if it is still valid, <code>None</code> if there is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>no <code>expires_in</code> hint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the `device_code` within this response is expired.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the device_code is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">        no `expires_in` hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AccessDenied" class="doc doc-heading">
          <code>AccessDenied</code>


<a href="#requests_oauth2client.AccessDenied" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the Authorization Server returns <code>error = access_denied</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccessDenied</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Server returns `error = access_denied`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AccountSelectionRequired" class="doc doc-heading">
          <code>AccountSelectionRequired</code>


<a href="#requests_oauth2client.AccountSelectionRequired" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = account_selection_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccountSelectionRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = account_selection_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AuthorizationPending" class="doc doc-heading">
          <code>AuthorizationPending</code>


<a href="#requests_oauth2client.AuthorizationPending" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = authorization_pending</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationPending</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = authorization_pending`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.AuthorizationResponseError" class="doc doc-heading">
          <code>AuthorizationResponseError</code>


<a href="#requests_oauth2client.AuthorizationResponseError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Base class for error responses returned by the Authorization endpoint.</p>
<p>An <code>AuthorizationResponseError</code> contains the error message, description and uri that are
returned by the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>error</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error</code> identifier as returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_description</code> as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_uri</code> as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationResponseError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for error responses returned by the Authorization endpoint.</span>

<span class="sd">    An `AuthorizationResponseError` contains the error message, description and uri that are</span>
<span class="sd">    returned by the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        error: the `error` identifier as returned by the AS</span>
<span class="sd">        description: the `error_description` as returned by the AS</span>
<span class="sd">        uri: the `error_uri` as returned by the AS</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BackChannelAuthenticationError" class="doc doc-heading">
          <code>BackChannelAuthenticationError</code>


<a href="#requests_oauth2client.BackChannelAuthenticationError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for errors returned by the BackChannel Authentication endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for errors returned by the BackChannel Authentication endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ConsentRequired" class="doc doc-heading">
          <code>ConsentRequired</code>


<a href="#requests_oauth2client.ConsentRequired" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = consent_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ConsentRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = consent_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.DeviceAuthorizationError" class="doc doc-heading">
          <code>DeviceAuthorizationError</code>


<a href="#requests_oauth2client.DeviceAuthorizationError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Device Authorization Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Device Authorization Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.EndpointError" class="doc doc-heading">
          <code>EndpointError</code>


<a href="#requests_oauth2client.EndpointError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Base class for exceptions raised from backend endpoint errors.</p>
<p>This contains the error message, description and uri that are returned by the AS in the OAuth
2.0 standardised way.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the raw requests.PreparedResponse containing the error.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>error</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error</code> identifier as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_description</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_uri</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EndpointError</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for exceptions raised from backend endpoint errors.</span>

<span class="sd">    This contains the error message, description and uri that are returned by the AS in the OAuth</span>
<span class="sd">    2.0 standardised way.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the raw requests.PreparedResponse containing the error.</span>
<span class="sd">        error: the `error` identifier as returned by the AS.</span>
<span class="sd">        description: the `error_description` as returned by the AS.</span>
<span class="sd">        uri: the `error_uri` as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ExpiredAccessToken" class="doc doc-heading">
          <code>ExpiredAccessToken</code>


<a href="#requests_oauth2client.ExpiredAccessToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>RuntimeError</code></p>

  
      <p>Raised when an expired access token is used.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredAccessToken</span><span class="p">(</span><span class="ne">RuntimeError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an expired access token is used.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ExpiredIdToken" class="doc doc-heading">
          <code>ExpiredIdToken</code>


<a href="#requests_oauth2client.ExpiredIdToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token is expired.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredIdToken</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token is expired.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ExpiredToken" class="doc doc-heading">
          <code>ExpiredToken</code>


<a href="#requests_oauth2client.ExpiredToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = expired_token</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredToken</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = expired_token`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InteractionRequired" class="doc doc-heading">
          <code>InteractionRequired</code>


<a href="#requests_oauth2client.InteractionRequired" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.AuthorizationResponseError" href="#requests_oauth2client.exceptions.AuthorizationResponseError">AuthorizationResponseError</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = interaction_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InteractionRequired</span><span class="p">(</span><span class="n">AuthorizationResponseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = interaction_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.IntrospectionError" class="doc doc-heading">
          <code>IntrospectionError</code>


<a href="#requests_oauth2client.IntrospectionError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Introspection Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IntrospectionError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Introspection Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidAuthResponse" class="doc doc-heading">
          <code>InvalidAuthResponse</code>


<a href="#requests_oauth2client.InvalidAuthResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Raised when the Authorization Endpoint returns an invalid response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidAuthResponse</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns an invalid response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidBackChannelAuthenticationResponse" class="doc doc-heading">
          <code>InvalidBackChannelAuthenticationResponse</code>


<a href="#requests_oauth2client.InvalidBackChannelAuthenticationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the BackChannel Authentication endpoint returns a non-standard response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the BackChannel Authentication endpoint returns a non-standard response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidClient" class="doc doc-heading">
          <code>InvalidClient</code>


<a href="#requests_oauth2client.InvalidClient" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_client</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidClient</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_client`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidDeviceAuthorizationResponse" class="doc doc-heading">
          <code>InvalidDeviceAuthorizationResponse</code>


<a href="#requests_oauth2client.InvalidDeviceAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Device Authorization Endpoint returns a non-standard error response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Device Authorization Endpoint returns a non-standard error response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidGrant" class="doc doc-heading">
          <code>InvalidGrant</code>


<a href="#requests_oauth2client.InvalidGrant" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_grant</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidGrant</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_grant`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidIdToken" class="doc doc-heading">
          <code>InvalidIdToken</code>


<a href="#requests_oauth2client.InvalidIdToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="jwskate.InvalidJwt">InvalidJwt</span></code></p>

  
      <p>Raised when trying to validate an invalid ID Token value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidIdToken</span><span class="p">(</span><span class="n">InvalidJwt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when trying to validate an invalid ID Token value.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidPushedAuthorizationResponse" class="doc doc-heading">
          <code>InvalidPushedAuthorizationResponse</code>


<a href="#requests_oauth2client.InvalidPushedAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Pushed Authorization Endpoint returns an error.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Pushed Authorization Endpoint returns an error.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidRequest" class="doc doc-heading">
          <code>InvalidRequest</code>


<a href="#requests_oauth2client.InvalidRequest" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_request</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidRequest</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_request`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidScope" class="doc doc-heading">
          <code>InvalidScope</code>


<a href="#requests_oauth2client.InvalidScope" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_scope</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidScope</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_scope`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidTarget" class="doc doc-heading">
          <code>InvalidTarget</code>


<a href="#requests_oauth2client.InvalidTarget" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_target</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidTarget</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_target`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.InvalidTokenResponse" class="doc doc-heading">
          <code>InvalidTokenResponse</code>


<a href="#requests_oauth2client.InvalidTokenResponse" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Token Endpoint returns a non-standard response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidTokenResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns a non-standard response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.LoginRequired" class="doc doc-heading">
          <code>LoginRequired</code>


<a href="#requests_oauth2client.LoginRequired" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = login_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LoginRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = login_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingAcr" class="doc doc-heading">
          <code>MismatchingAcr</code>


<a href="#requests_oauth2client.MismatchingAcr" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token doesn't contain one of the requested ACR Values.</p>
<p>This happens when the authorization request includes an <code>acr_values</code> parameter but the returned
ID Token includes a different value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAcr</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token doesn&#39;t contain one of the requested ACR Values.</span>

<span class="sd">    This happens when the authorization request includes an `acr_values` parameter but the returned</span>
<span class="sd">    ID Token includes a different value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingAudience" class="doc doc-heading">
          <code>MismatchingAudience</code>


<a href="#requests_oauth2client.MismatchingAudience" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the ID Token audience does not include the requesting Client ID.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAudience</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the ID Token audience does not include the requesting Client ID.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingAzp" class="doc doc-heading">
          <code>MismatchingAzp</code>


<a href="#requests_oauth2client.MismatchingAzp" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the ID Token Authorized Presenter (azp) claim is not the Client ID.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAzp</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the ID Token Authorized Presenter (azp) claim is not the Client ID.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingIdTokenAlg" class="doc doc-heading">
          <code>MismatchingIdTokenAlg</code>


<a href="#requests_oauth2client.MismatchingIdTokenAlg" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token is signed with an unexpected alg.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token is signed with an unexpected alg.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingIssuer" class="doc doc-heading">
          <code>MismatchingIssuer</code>


<a href="#requests_oauth2client.MismatchingIssuer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised on mismatching <code>iss</code> value.</p>
<p>This happens when the Authorization Endpoints returns an 'iss' that doesn't match the expected
value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingIssuer</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `iss` value.</span>

<span class="sd">    This happens when the Authorization Endpoints returns an &#39;iss&#39; that doesn&#39;t match the expected</span>
<span class="sd">    value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingNonce" class="doc doc-heading">
          <code>MismatchingNonce</code>


<a href="#requests_oauth2client.MismatchingNonce" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised on mismatching <code>nonce</code> value in an ID Token.</p>
<p>This happens when the authorization request includes a <code>nonce</code> but the returned ID Token include
a different value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingNonce</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `nonce` value in an ID Token.</span>

<span class="sd">    This happens when the authorization request includes a `nonce` but the returned ID Token include</span>
<span class="sd">    a different value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MismatchingState" class="doc doc-heading">
          <code>MismatchingState</code>


<a href="#requests_oauth2client.MismatchingState" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised on mismatching <code>state</code> value.</p>
<p>This happens when the Authorization Endpoints returns a 'state' parameter that doesn't match the
value passed in the Authorization Request.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingState</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `state` value.</span>

<span class="sd">    This happens when the Authorization Endpoints returns a &#39;state&#39; parameter that doesn&#39;t match the</span>
<span class="sd">    value passed in the Authorization Request.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MissingAuthCode" class="doc doc-heading">
          <code>MissingAuthCode</code>


<a href="#requests_oauth2client.MissingAuthCode" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return the mandatory <code>code</code>.</p>
<p>This happens when the Authorization Endpoint does not return an error, but does not return an
authorization <code>code</code> either.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingAuthCode</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return the mandatory `code`.</span>

<span class="sd">    This happens when the Authorization Endpoint does not return an error, but does not return an</span>
<span class="sd">    authorization `code` either.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MissingIdToken" class="doc doc-heading">
          <code>MissingIdToken</code>


<a href="#requests_oauth2client.MissingIdToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return a mandatory ID Token.</p>
<p>This happens when the Authorization Endpoint does not return an error, but does not return an ID
Token either.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingIdToken</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return a mandatory ID Token.</span>

<span class="sd">    This happens when the Authorization Endpoint does not return an error, but does not return an ID</span>
<span class="sd">    Token either.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.MissingIssuer" class="doc doc-heading">
          <code>MissingIssuer</code>


<a href="#requests_oauth2client.MissingIssuer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return an <code>iss</code> parameter as expected.</p>
<p>The Authorization Server advertises its support with a flag
<code>authorization_response_iss_parameter_supported</code> in its discovery document. If it is set to
<code>true</code>, it must include an <code>iss</code> parameter in its authorization responses, containing its issuer
identifier.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingIssuer</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return an `iss` parameter as expected.</span>

<span class="sd">    The Authorization Server advertises its support with a flag</span>
<span class="sd">    `authorization_response_iss_parameter_supported` in its discovery document. If it is set to</span>
<span class="sd">    `true`, it must include an `iss` parameter in its authorization responses, containing its issuer</span>
<span class="sd">    identifier.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.OAuth2Error" class="doc doc-heading">
          <code>OAuth2Error</code>


<a href="#requests_oauth2client.OAuth2Error" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Base class for Exceptions raised when a backend endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP response containing the error</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2Error</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Exceptions raised when a backend endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the HTTP response containing the error</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">response</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The request leading to the error.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.OAuth2Error.request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.OAuth2Error.request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>The request leading to the error.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.RevocationError" class="doc doc-heading">
          <code>RevocationError</code>


<a href="#requests_oauth2client.RevocationError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Revocation Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">RevocationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Revocation Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.ServerError" class="doc doc-heading">
          <code>ServerError</code>


<a href="#requests_oauth2client.ServerError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the token endpoint returns <code>error = server_error</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ServerError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the token endpoint returns `error = server_error`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.SessionSelectionRequired" class="doc doc-heading">
          <code>SessionSelectionRequired</code>


<a href="#requests_oauth2client.SessionSelectionRequired" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = session_selection_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SessionSelectionRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = session_selection_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.SlowDown" class="doc doc-heading">
          <code>SlowDown</code>


<a href="#requests_oauth2client.SlowDown" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = slow_down</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SlowDown</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = slow_down`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.TokenEndpointError" class="doc doc-heading">
          <code>TokenEndpointError</code>


<a href="#requests_oauth2client.TokenEndpointError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for errors that are specific to the token endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TokenEndpointError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for errors that are specific to the token endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.UnauthorizedClient" class="doc doc-heading">
          <code>UnauthorizedClient</code>


<a href="#requests_oauth2client.UnauthorizedClient" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the Authorization Server returns <code>error = unauthorized_client</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnauthorizedClient</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Server returns `error = unauthorized_client`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.UnknownIntrospectionError" class="doc doc-heading">
          <code>UnknownIntrospectionError</code>


<a href="#requests_oauth2client.UnknownIntrospectionError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Introspection Endpoint returns a non-standard error.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnknownIntrospectionError</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Introspection Endpoint returns a non-standard error.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.UnknownTokenEndpointError" class="doc doc-heading">
          <code>UnknownTokenEndpointError</code>


<a href="#requests_oauth2client.UnknownTokenEndpointError" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when an otherwise unknown error is returned by the token endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnknownTokenEndpointError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an otherwise unknown error is returned by the token endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.UnsupportedTokenType" class="doc doc-heading">
          <code>UnsupportedTokenType</code>


<a href="#requests_oauth2client.UnsupportedTokenType" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.RevocationError" href="#requests_oauth2client.exceptions.RevocationError">RevocationError</a></code></p>

  
      <p>Raised when the Revocation endpoint returns <code>error = unsupported_token_type</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnsupportedTokenType</span><span class="p">(</span><span class="n">RevocationError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Revocation endpoint returns `error = unsupported_token_type`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.TokenEndpointPoolingJob" class="doc doc-heading">
          <code>TokenEndpointPoolingJob</code>


<a href="#requests_oauth2client.TokenEndpointPoolingJob" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="abc.ABC">ABC</span></code></p>

  
      <p>Base class for Token Endpoint pooling jobs.</p>
<p>This is used for decoupled flows like CIBA or Device Authorization.</p>
<p>This class must be subclassed to implement actual BackChannel flows. This needs an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> that will be used to pool the token
endpoint. The initial pooling <code>interval</code> is configurable.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> that will be used
to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>initial pooling interval, in seconds. If <code>None</code>, default to <code>5</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>when a <a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.SlowDown">SlowDown</a> is
received, this number of seconds will be added to the pooling interval.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/pooling.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TokenEndpointPoolingJob</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Token Endpoint pooling jobs.</span>

<span class="sd">    This is used for decoupled flows like CIBA or Device Authorization.</span>

<span class="sd">    This class must be subclassed to implement actual BackChannel flows. This needs an</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] that will be used to pool the token</span>
<span class="sd">    endpoint. The initial pooling `interval` is configurable.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] that will be used</span>
<span class="sd">            to pool the token endpoint.</span>
<span class="sd">        interval: initial pooling interval, in seconds. If `None`, default to `5`.</span>
<span class="sd">        slow_down_interval: when a [SlowDown][requests_oauth2client.exceptions.SlowDown] is</span>
<span class="sd">            received, this number of seconds will be added to the pooling interval.</span>
<span class="sd">        requests_kwargs: additional parameters for the underlying calls to [requests.request][]</span>
<span class="sd">        **token_kwargs: additional parameters for the token request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span> <span class="ow">or</span> <span class="mi">5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slow_down_interval</span> <span class="o">=</span> <span class="n">slow_down_interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span> <span class="o">=</span> <span class="n">token_kwargs</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wrap the actual Token Endpoint call with a pooling interval.</span>

<span class="sd">        Everytime this method is called, it will wait for the entire duration of the pooling</span>
<span class="sd">        interval before calling</span>
<span class="sd">        [token_request()][requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request]. So</span>
<span class="sd">        you can call it immediately after initiating the BackChannel flow, and it will wait before</span>
<span class="sd">        initiating the first call.</span>

<span class="sd">        This implements the logic to handle</span>
<span class="sd">        [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] or</span>
<span class="sd">        [SlowDown][requests_oauth2client.exceptions.SlowDown] requests by the AS.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken] if the AS returns one, or</span>
<span class="sd">            `None` if the Authorization is still pending.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">SlowDown</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">slow_down_interval</span>
        <span class="k">except</span> <span class="n">AuthorizationPending</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method for the token endpoint call.</span>

<span class="sd">        This must be implemented by subclasses. This method must Must raise</span>
<span class="sd">        [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] to retry after</span>
<span class="sd">        the pooling interval, or [SlowDown][requests_oauth2client.exceptions.SlowDown] to increase</span>
<span class="sd">        the pooling interval by `slow_down_interval` seconds.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.TokenEndpointPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#requests_oauth2client.TokenEndpointPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Abstract method for the token endpoint call.</p>
<p>This must be implemented by subclasses. This method must Must raise
<a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.AuthorizationPending">AuthorizationPending</a> to retry after
the pooling interval, or <a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.SlowDown">SlowDown</a> to increase
the pooling interval by <code>slow_down_interval</code> seconds.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/pooling.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract method for the token endpoint call.</span>

<span class="sd">    This must be implemented by subclasses. This method must Must raise</span>
<span class="sd">    [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] to retry after</span>
<span class="sd">    the pooling interval, or [SlowDown][requests_oauth2client.exceptions.SlowDown] to increase</span>
<span class="sd">    the pooling interval by `slow_down_interval` seconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BearerToken" class="doc doc-heading">
          <code>BearerToken</code>


<a href="#requests_oauth2client.BearerToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.AccessToken" href="#requests_oauth2client.tokens.AccessToken">AccessToken</a></code></p>

  
      <p>Represents a Bearer Token as returned by a Token Endpoint.</p>
<p>This is a wrapper around a Bearer Token and associated parameters, such as expiration date and
refresh token, as returned by an OAuth 2.x or OIDC 1.0 Token Endpoint.</p>
<p>All parameters are as returned by a Token Endpoint. The token expiration date can be passed as
datetime in the <code>expires_at</code> parameter, or an <code>expires_in</code> parameter, as number of seconds in
the future, can be passed instead.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>access_token</code>, as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an expiration date. This method also accepts an <code>expires_in</code> hint as
returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>scope</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>refresh_token</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>token_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>token_type</code>, as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code><span title="requests_oauth2client.tokens.BearerToken.TOKEN_TYPE">TOKEN_TYPE</span></code>
          </td>
        </tr>
        <tr>
          <td><code>id_token</code></td>
          <td>
                <code>str | bytes | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a> | <span title="jwskate.JweCompact">JweCompact</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>id_token</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">BearerToken</span><span class="p">(</span><span class="n">AccessToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a Bearer Token as returned by a Token Endpoint.</span>

<span class="sd">    This is a wrapper around a Bearer Token and associated parameters, such as expiration date and</span>
<span class="sd">    refresh token, as returned by an OAuth 2.x or OIDC 1.0 Token Endpoint.</span>

<span class="sd">    All parameters are as returned by a Token Endpoint. The token expiration date can be passed as</span>
<span class="sd">    datetime in the `expires_at` parameter, or an `expires_in` parameter, as number of seconds in</span>
<span class="sd">    the future, can be passed instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: an `access_token`, as returned by the AS.</span>
<span class="sd">        expires_at: an expiration date. This method also accepts an `expires_in` hint as</span>
<span class="sd">            returned by the AS, if any.</span>
<span class="sd">        scope: a `scope`, as returned by the AS, if any.</span>
<span class="sd">        refresh_token: a `refresh_token`, as returned by the AS, if any.</span>
<span class="sd">        token_type: a `token_type`, as returned by the AS.</span>
<span class="sd">        id_token: an `id_token`, as returned by the AS, if any.</span>
<span class="sd">        **kwargs: additional parameters as returned by the AS, if any.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TOKEN_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AccessTokenType</span><span class="o">.</span><span class="n">BEARER</span><span class="o">.</span><span class="n">value</span>

    <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">TOKEN_TYPE</span>
    <span class="n">id_token</span><span class="p">:</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">TOKEN_TYPE</span><span class="p">,</span>
        <span class="n">id_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">token_type</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_TYPE</span><span class="o">.</span><span class="n">title</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Token Type is not &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_TYPE</span><span class="si">}</span><span class="s2">&#39;!&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>
        <span class="n">id_token_jwt</span><span class="p">:</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">id_token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">InvalidJwt</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">InvalidJwe</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is invalid because it is  neither a JWT or a JWE.&quot;</span>
                    <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">id_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type</span><span class="o">=</span><span class="n">token_type</span><span class="p">,</span>
            <span class="n">id_token</span><span class="o">=</span><span class="n">id_token_jwt</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the access token is expired.</span>

<span class="sd">        Args:</span>
<span class="sd">            leeway: If the token expires in the next given number of seconds,</span>
<span class="sd">                then consider it expired already.</span>

<span class="sd">        Returns:</span>
<span class="sd">            One of:</span>

<span class="sd">            - `True` if the access token is expired</span>
<span class="sd">            - `False` if it is still valid</span>
<span class="sd">            - `None` if there is no expires_in hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">authorization_header</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the appropriate Authorization Header value for this token.</span>

<span class="sd">        The value is formatted correctly according to RFC6750.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the value to use in an HTTP Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>  <span class="c1"># noqa: C901, PLR0915</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that a token response is valid, and return the ID Token.</span>

<span class="sd">        This will validate the id_token as described in [OIDC 1.0</span>
<span class="sd">        $3.1.3.7](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span>

<span class="sd">        If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingIdToken</span><span class="p">()</span>

        <span class="n">raw_id_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted while it should be clear-text&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is clear-text while it should be encrypted&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">):</span>
            <span class="n">enc_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_decryption_key</span>
            <span class="k">if</span> <span class="n">enc_jwk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted but client does not have a decryption key&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="n">nested_id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">enc_jwk</span><span class="p">)</span>
            <span class="n">id_token</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">nested_id_token</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;alg&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;ID Token does not contain an `alg` parameter to specify the signature&quot;</span>
                <span class="s2">&quot; algorithm, and no algorithm has been configured for the client (using param&quot;</span>
                <span class="s2">&quot; id_token_signed_response_alg`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">)</span>

        <span class="n">id_token_alg</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAudience</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;azp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">azp</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAzp</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">azp</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ExpiredIdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">nonce</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingNonce</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">acr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAcr</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">acr</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="n">hash_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># method used to calculate at_hash, s_hash, etc.</span>

        <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_SYMMETRIC</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is symmetrically signed but this client does not have a Client Secret.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">),</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_ASYMMETRIC</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but the Authorization Server JWKS is not available.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;ID Token does not contain a Key ID (kid) to specify the asymmetric key &quot;</span>
                    <span class="s2">&quot;to use for signature verification.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">verification_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">get_jwk_by_kid</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;ID Token is asymmetrically signed but its Key ID &#39;</span><span class="si">{</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;is not part of the Authorization Server JWKS.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">verification_jwk</span><span class="o">.</span><span class="n">supported_signing_algorithms</span><span class="p">():</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but its algorithm is not supported by the verification key.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>

            <span class="n">hash_function</span> <span class="o">=</span> <span class="n">IdToken</span><span class="o">.</span><span class="n">hash_method</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">id_token_alg</span><span class="p">)</span>

        <span class="n">at_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;at_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">at_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expected_at_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_at_hash</span> <span class="o">!=</span> <span class="n">at_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;at_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_at_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">at_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">c_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;c_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expected_c_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_c_hash</span> <span class="o">!=</span> <span class="n">c_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;c_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_c_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">c_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">s_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;s_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">s_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token has a &#39;s_hash&#39; claim but no state was included in the request.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">expected_s_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_s_hash</span> <span class="o">!=</span> <span class="n">s_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;s_hash&#39; value (expected &#39;</span><span class="si">{</span><span class="n">expected_s_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">s_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">auth_time</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">auth_time</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;A `max_age` parameter was included in the authorization request, &quot;</span>
                    <span class="s2">&quot;but the ID Token does not contain an `auth_time` claim.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
            <span class="n">auth_age</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">auth_time</span>
            <span class="k">if</span> <span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span> <span class="o">&gt;</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="o">+</span> <span class="mi">60</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;User authentication happened too long ago. The `auth_time` parameter from&quot;</span>
                    <span class="s2">&quot; the ID Token indicate that the last Authentication Time was at&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">auth_time</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span><span class="si">}</span><span class="s2"> sec ago), but the authorization request&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; `max_age` parameter specified that it must be maximum </span><span class="si">{</span><span class="n">azr</span><span class="o">.</span><span class="n">max_age</span><span class="si">}</span><span class="s2"> sec&quot;</span>
                    <span class="s2">&quot; ago.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_type</span><span class="p">,</span>
            <span class="n">id_token</span><span class="o">=</span><span class="n">id_token</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the access token value, as a string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the access token string</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span>

    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a dict of parameters.</span>

<span class="sd">        That is suitable for serialization or to init another BearerToken.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">expires_in</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Number of seconds until expiration.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return custom attributes from this BearerToken.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: a key</span>

<span class="sd">        Returns:</span>
<span class="sd">            the associated value in this token response</span>

<span class="sd">        Raises:</span>
<span class="sd">            AttributeError: if the attribute is not found in this response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.BearerToken.expires_in" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.BearerToken.expires_in" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Number of seconds until expiration.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerToken.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BearerToken.is_expired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Check if the access token is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the token expires in the next given number of seconds,
then consider it expired already.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>One of:</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>True</code> if the access token is expired</li>
</ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>False</code> if it is still valid</li>
</ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>None</code> if there is no expires_in hint.</li>
</ul>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the access token is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        leeway: If the token expires in the next given number of seconds,</span>
<span class="sd">            then consider it expired already.</span>

<span class="sd">    Returns:</span>
<span class="sd">        One of:</span>

<span class="sd">        - `True` if the access token is expired</span>
<span class="sd">        - `False` if it is still valid</span>
<span class="sd">        - `None` if there is no expires_in hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerToken.authorization_header" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_header</span><span class="p">()</span></code>

<a href="#requests_oauth2client.BearerToken.authorization_header" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the appropriate Authorization Header value for this token.</p>
<p>The value is formatted correctly according to RFC6750.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the value to use in an HTTP Authorization Header</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_header</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the appropriate Authorization Header value for this token.</span>

<span class="sd">    The value is formatted correctly according to RFC6750.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the value to use in an HTTP Authorization Header</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerToken.validate_id_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_id_token</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BearerToken.validate_id_token" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Validate that a token response is valid, and return the ID Token.</p>
<p>This will validate the id_token as described in <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">OIDC 1.0
$3.1.3.7</a>.</p>
<p>If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>  <span class="c1"># noqa: C901, PLR0915</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that a token response is valid, and return the ID Token.</span>

<span class="sd">    This will validate the id_token as described in [OIDC 1.0</span>
<span class="sd">    $3.1.3.7](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span>

<span class="sd">    If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingIdToken</span><span class="p">()</span>

    <span class="n">raw_id_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted while it should be clear-text&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is clear-text while it should be encrypted&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">):</span>
        <span class="n">enc_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_decryption_key</span>
        <span class="k">if</span> <span class="n">enc_jwk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted but client does not have a decryption key&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">nested_id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">enc_jwk</span><span class="p">)</span>
        <span class="n">id_token</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">nested_id_token</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;alg&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;ID Token does not contain an `alg` parameter to specify the signature&quot;</span>
            <span class="s2">&quot; algorithm, and no algorithm has been configured for the client (using param&quot;</span>
            <span class="s2">&quot; id_token_signed_response_alg`.&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">)</span>

    <span class="n">id_token_alg</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAudience</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;azp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">azp</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAzp</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">azp</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">ExpiredIdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">nonce</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingNonce</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">acr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAcr</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">acr</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">)</span>

    <span class="n">hash_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># method used to calculate at_hash, s_hash, etc.</span>

    <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_SYMMETRIC</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is symmetrically signed but this client does not have a Client Secret.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">),</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_ASYMMETRIC</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but the Authorization Server JWKS is not available.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;ID Token does not contain a Key ID (kid) to specify the asymmetric key &quot;</span>
                <span class="s2">&quot;to use for signature verification.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">verification_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">get_jwk_by_kid</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ID Token is asymmetrically signed but its Key ID &#39;</span><span class="si">{</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="s2">&quot;is not part of the Authorization Server JWKS.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">verification_jwk</span><span class="o">.</span><span class="n">supported_signing_algorithms</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but its algorithm is not supported by the verification key.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>

        <span class="n">hash_function</span> <span class="o">=</span> <span class="n">IdToken</span><span class="o">.</span><span class="n">hash_method</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">id_token_alg</span><span class="p">)</span>

    <span class="n">at_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;at_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">at_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expected_at_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_at_hash</span> <span class="o">!=</span> <span class="n">at_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;at_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_at_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">at_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">c_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;c_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">c_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expected_c_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_c_hash</span> <span class="o">!=</span> <span class="n">c_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;c_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_c_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">c_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">s_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;s_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">s_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token has a &#39;s_hash&#39; claim but no state was included in the request.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">expected_s_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_s_hash</span> <span class="o">!=</span> <span class="n">s_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;s_hash&#39; value (expected &#39;</span><span class="si">{</span><span class="n">expected_s_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">s_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">auth_time</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">auth_time</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;A `max_age` parameter was included in the authorization request, &quot;</span>
                <span class="s2">&quot;but the ID Token does not contain an `auth_time` claim.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="n">auth_age</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">auth_time</span>
        <span class="k">if</span> <span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span> <span class="o">&gt;</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="o">+</span> <span class="mi">60</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;User authentication happened too long ago. The `auth_time` parameter from&quot;</span>
                <span class="s2">&quot; the ID Token indicate that the last Authentication Time was at&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">auth_time</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span><span class="si">}</span><span class="s2"> sec ago), but the authorization request&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; `max_age` parameter specified that it must be maximum </span><span class="si">{</span><span class="n">azr</span><span class="o">.</span><span class="n">max_age</span><span class="si">}</span><span class="s2"> sec&quot;</span>
                <span class="s2">&quot; ago.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
        <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span>
        <span class="n">token_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_type</span><span class="p">,</span>
        <span class="n">id_token</span><span class="o">=</span><span class="n">id_token</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerToken.as_dict" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">as_dict</span><span class="p">()</span></code>

<a href="#requests_oauth2client.BearerToken.as_dict" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return a dict of parameters.</p>
<p>That is suitable for serialization or to init another BearerToken.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dict of parameters.</span>

<span class="sd">    That is suitable for serialization or to init another BearerToken.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
    <span class="n">d</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.BearerTokenSerializer" class="doc doc-heading">
          <code>BearerTokenSerializer</code>


<a href="#requests_oauth2client.BearerTokenSerializer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>A helper class to serialize Token Response returned by an AS.</p>
<p>This may be used to store BearerTokens in session or cookies.</p>
<p>It needs a <code>dumper</code> and a <code>loader</code> functions that will respectively serialize and deserialize
BearerTokens. Default implementations are provided with use gzip and base64url on the serialized
JSON representation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dumper</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>], str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to serialize a token into a <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>loader</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[str], <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to deserialize a serialized token representation.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BearerTokenSerializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A helper class to serialize Token Response returned by an AS.</span>

<span class="sd">    This may be used to store BearerTokens in session or cookies.</span>

<span class="sd">    It needs a `dumper` and a `loader` functions that will respectively serialize and deserialize</span>
<span class="sd">    BearerTokens. Default implementations are provided with use gzip and base64url on the serialized</span>
<span class="sd">    JSON representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        dumper: a function to serialize a token into a `str`.</span>
<span class="sd">        loader: a function to deserialize a serialized token representation.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dumper</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">BearerToken</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">loader</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">BearerToken</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span> <span class="o">=</span> <span class="n">dumper</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_dumper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">loader</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_loader</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize a token as JSON, then compress with deflate, then encodes as base64url.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the `BearerToken` to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">as_dict</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a BearerToken.</span>

<span class="sd">        This does the opposite operations than `default_dumper`.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized token</span>
<span class="sd">            token_class: class to use to deserialize the Token</span>

<span class="sd">        Returns:</span>
<span class="sd">            a BearerToken</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
        <span class="n">expires_at</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expires_at</span><span class="p">:</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;expires_at&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">expires_at</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token_class</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given token for easier storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: a BearerToken to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized token, as a str</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized token.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized token</span>

<span class="sd">        Returns:</span>
<span class="sd">            the deserialized token</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerTokenSerializer.default_dumper" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.BearerTokenSerializer.default_dumper" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Serialize a token as JSON, then compress with deflate, then encodes as base64url.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>BearerToken</code> to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized value</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize a token as JSON, then compress with deflate, then encodes as base64url.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the `BearerToken` to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized value</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">as_dict</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerTokenSerializer.default_loader" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">token_class</span><span class="o">=</span><span class="n">BearerToken</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BearerTokenSerializer.default_loader" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Deserialize a BearerToken.</p>
<p>This does the opposite operations than <code>default_dumper</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_class</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>class to use to deserialize the Token</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BearerToken</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a BearerToken.</span>

<span class="sd">    This does the opposite operations than `default_dumper`.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized token</span>
<span class="sd">        token_class: class to use to deserialize the Token</span>

<span class="sd">    Returns:</span>
<span class="sd">        a BearerToken</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
    <span class="n">expires_at</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expires_at</span><span class="p">:</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;expires_at&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">expires_at</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token_class</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerTokenSerializer.dumps" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">dumps</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BearerTokenSerializer.dumps" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Serialize and compress a given token for easier storage.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BearerToken to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token, as a str</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given token for easier storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: a BearerToken to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized token, as a str</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.BearerTokenSerializer.loads" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">loads</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span></code>

<a href="#requests_oauth2client.BearerTokenSerializer.loads" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Deserialize a serialized token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the deserialized token</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized token.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized token</span>

<span class="sd">    Returns:</span>
<span class="sd">        the deserialized token</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h3 id="requests_oauth2client.IdToken" class="doc doc-heading">
          <code>IdToken</code>


<a href="#requests_oauth2client.IdToken" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="jwskate.SignedJwt">SignedJwt</span></code></p>

  
      <p>Represent an ID Token.</p>
<p>An ID Token is actually a Signed JWT. If the ID Token is encrypted, it must be decoded
beforehand.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IdToken</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SignedJwt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an ID Token.</span>

<span class="sd">    An ID Token is actually a Signed JWT. If the ID Token is encrypted, it must be decoded</span>
<span class="sd">    beforehand.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">auth_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The last user authentication time.&quot;&quot;&quot;</span>
        <span class="n">auth_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">claims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auth_time&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">auth_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp_to_datetime</span><span class="p">(</span><span class="n">auth_time</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This ID Token doesn&#39;t have an `auth_time` attribute.&quot;</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">Jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: the ID token signature verification public key</span>
<span class="sd">            alg: the ID token signature algorithm</span>

<span class="sd">        Returns:</span>
<span class="sd">            a callable that takes a string as input and produces a valid hash as a str output</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">alg_class</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">select_alg_class</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">SIGNATURE_ALGORITHMS</span><span class="p">,</span> <span class="n">jwk_alg</span><span class="o">=</span><span class="n">key</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alg_class</span> <span class="o">==</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">EdDsa</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed25519&quot;</span><span class="p">:</span>

                <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha512&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed448&quot;</span><span class="p">:</span>

                <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;shake256&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">hash_alg</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">name</span>
            <span class="n">hash_size</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">digest_size</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">hash_alg</span><span class="p">)[:</span> <span class="n">hash_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">hash_method</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="requests_oauth2client.IdToken.auth_time" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">auth_time</span><span class="p">:</span> <span class="n">datetime</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.IdToken.auth_time" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>The last user authentication time.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.IdToken.hash_method" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">hash_method</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.IdToken.hash_method" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID token signature verification public key</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID token signature algorithm</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Callable">Callable</span>[[str], str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a callable that takes a string as input and produces a valid hash as a str output</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">Jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: the ID token signature verification public key</span>
<span class="sd">        alg: the ID token signature algorithm</span>

<span class="sd">    Returns:</span>
<span class="sd">        a callable that takes a string as input and produces a valid hash as a str output</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alg_class</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">select_alg_class</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">SIGNATURE_ALGORITHMS</span><span class="p">,</span> <span class="n">jwk_alg</span><span class="o">=</span><span class="n">key</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">alg_class</span> <span class="o">==</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">EdDsa</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed25519&quot;</span><span class="p">:</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha512&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed448&quot;</span><span class="p">:</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;shake256&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">hash_alg</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">name</span>
        <span class="n">hash_size</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">digest_size</span>

        <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">hash_alg</span><span class="p">)[:</span> <span class="n">hash_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">hash_method</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h3 id="requests_oauth2client.oauth2_discovery_document_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">oauth2_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span></code>

<a href="#requests_oauth2client.oauth2_discovery_document_url" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Construct the standardised OAuth 2.0 discovery document url for a given <code>issuer</code>.</p>
<p>Based an <code>issuer</code> identifier, returns the standardised URL where the OAuth20 server metadata can
be retrieved.</p>
<p>The returned URL is built as specified in
<a href="https://datatracker.ietf.org/doc/html/rfc8414">RFC8414</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth20 Authentication Server <code>issuer</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the standardised discovery document URL. Note that no attempt to fetch this document is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>made.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">oauth2_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Construct the standardised OAuth 2.0 discovery document url for a given `issuer`.</span>

<span class="sd">    Based an `issuer` identifier, returns the standardised URL where the OAuth20 server metadata can</span>
<span class="sd">    be retrieved.</span>

<span class="sd">    The returned URL is built as specified in</span>
<span class="sd">    [RFC8414](https://datatracker.ietf.org/doc/html/rfc8414).</span>

<span class="sd">    Args:</span>
<span class="sd">        issuer: an OAuth20 Authentication Server `issuer`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the standardised discovery document URL. Note that no attempt to fetch this document is</span>
<span class="sd">        made.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">well_known_uri</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="s2">&quot;oauth-authorization-server&quot;</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="requests_oauth2client.oidc_discovery_document_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span></code>

<a href="#requests_oauth2client.oidc_discovery_document_url" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Construct the OIDC discovery document url for a given <code>issuer</code>.</p>
<p>Given an <code>issuer</code> identifier, return the standardised URL where the OIDC discovery document can
be retrieved.</p>
<p>The returned URL is biuilt as specified in <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID Connect Discovery
1.0</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OIDC Authentication Server <code>issuer</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the standardised discovery document URL. Note that no attempt to fetch this document is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>made.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Construct the OIDC discovery document url for a given `issuer`.</span>

<span class="sd">    Given an `issuer` identifier, return the standardised URL where the OIDC discovery document can</span>
<span class="sd">    be retrieved.</span>

<span class="sd">    The returned URL is biuilt as specified in [OpenID Connect Discovery</span>
<span class="sd">    1.0](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Args:</span>
<span class="sd">        issuer: an OIDC Authentication Server `issuer`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the standardised discovery document URL. Note that no attempt to fetch this document is</span>
<span class="sd">        made.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">well_known_uri</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="s2">&quot;openid-configuration&quot;</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="requests_oauth2client.well_known_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">well_known_uri</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#requests_oauth2client.well_known_uri" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Return the location of a well-known document on an origin url.</p>
<p>See <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC8615</a> and <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OIDC
Discovery</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>origin</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>origin to use to build the well-known uri.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>document name to use to build the well-known uri.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>at_root</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, assume the well-known document is at root level (as defined in <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC8615</a>).
If <code>False</code>, assume the well-known location is per-directory, as defined in <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID
Connect Discovery
1.0</a>.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the well-know uri, relative to origin, where the well-known document named <code>name</code> should be</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">well_known_uri</span><span class="p">(</span><span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">at_root</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the location of a well-known document on an origin url.</span>

<span class="sd">    See [RFC8615](https://datatracker.ietf.org/doc/html/rfc8615) and [OIDC</span>
<span class="sd">    Discovery](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Args:</span>
<span class="sd">        origin: origin to use to build the well-known uri.</span>
<span class="sd">        name: document name to use to build the well-known uri.</span>
<span class="sd">        at_root: if `True`, assume the well-known document is at root level (as defined in [RFC8615](https://datatracker.ietf.org/doc/html/rfc8615)).</span>
<span class="sd">            If `False`, assume the well-known location is per-directory, as defined in [OpenID</span>
<span class="sd">            Connect Discovery</span>
<span class="sd">            1.0](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Returns:</span>
<span class="sd">        the well-know uri, relative to origin, where the well-known document named `name` should be</span>
<span class="sd">        found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">at_root</span><span class="p">:</span>
        <span class="n">url</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.well-known&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">url</span><span class="o">.</span><span class="n">path</span> <span class="o">/</span> <span class="n">name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">url</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.well-known&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.api_client" class="doc doc-heading">
          <code>api_client</code>


<a href="#requests_oauth2client.api_client" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p><code>ApiClient</code> main module.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.api_client.ApiClient" class="doc doc-heading">
          <code>ApiClient</code>


<a href="#requests_oauth2client.api_client.ApiClient" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>A Wrapper around <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">requests.Session</a> with extra features for REST API calls.</p>
<p>Additional features compared to using a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">requests.Session</a> directly:</p>
<ul>
<li>You must set a root url at creation time, which then allows passing relative urls at request time.</li>
<li>It may also raise exceptions instead of returning error responses.</li>
<li>You can also pass additional kwargs at init time, which will be used to configure the
<a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a>, instead of setting them later.</li>
<li>for parameters passed as <code>json</code>, <code>params</code> or <code>data</code>, values that are <code>None</code> can be
automatically discarded from the request</li>
<li>boolean values in <code>data</code> or <code>params</code> fields can be serialized to values that are suitable
for the target API, like <code>"true"</code>  or <code>"false"</code>, or <code>"1"</code> / <code>"0"</code>, instead of the default
values <code>"True"</code> or <code>"False"</code>.</li>
</ul>
<p><code>base_url</code> will serve as root for relative urls passed to
<a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>,
<a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.get">ApiClient.get()</a>, etc.</p>
<p>An <code>HTTPError</code> will be raised everytime an API call returns an error code (&gt;= 400), unless
you set <code>raise_for_status</code> to <code>False</code>. Additional parameters passed at init time, including
<code>auth</code> will be used to configure the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a>.</p>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_oauth2client</span> <span class="kn">import</span> <span class="n">ApiClient</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/myid&quot;</span><span class="p">)</span>  <span class="c1"># this will send a GET request</span>
<span class="c1"># to https://myapi.local/resource/myid</span>

<span class="c1"># you can pass an underlying requests.Session at init time</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">session</span><span class="o">.</span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost:3128&quot;</span><span class="p">}</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span><span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

<span class="c1"># or you can let ApiClient init its own session and provide additional configuration</span>
<span class="c1"># parameters:</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">ApiClient</span><span class="p">(</span>
    <span class="s2">&quot;https://myapi.local/resource&quot;</span><span class="p">,</span>
    <span class="n">proxies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost:3128&quot;</span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>base_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the base api url, that is the root for all the target API endpoints.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests.auth.AuthBase</a> to use as authentication handler.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the default timeout, in seconds, to use for each request from this <code>ApiClient</code>.
Can be set to <code>None</code> to disable timeout.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, exceptions will be raised everytime a request returns an
error code (&gt;= 400).</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>none_fields</code></td>
          <td>
                <code><span title="typing_extensions.Literal">Literal</span>[&#39;include&#39;, &#39;exclude&#39;, &#39;empty&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>what to do with parameters with value <code>None</code> in <code>data</code> or <code>json</code> fields.</p>
<ul>
<li>if <code>"exclude"</code> (default), fields whose values are <code>None</code> are not included in the request.</li>
<li>if <code>"include"</code>, they are included with string value <code>None</code>. Note that this is
the default behavior of <code>requests</code>.</li>
<li>if "empty", they are included with an empty value (as an empty string).</li>
</ul>
            </div>
          </td>
          <td>
                <code>&#39;exclude&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>bool_fields</code></td>
          <td>
                <code>tuple[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a tuple of (true_value, false_value). Fields from <code>data</code> or <code>params</code> with
a boolean value (<code>True</code> or <code>False</code>) will be serialized to the corresponding value.
This can be useful since some APIs expect a <code>'true'</code> or <code>'false'</code> value as boolean,
and <code>requests</code> serializes <code>True</code> to <code>'True'</code> and <code>False</code> to <code>'False'</code>.
Set it to <code>None</code> to restore default requests behaviour.</p>
            </div>
          </td>
          <td>
                <code>(&#39;true&#39;, &#39;false&#39;)</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a preconfigured <code>requests.Session</code> to use with this <code>ApiClient</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**session_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to configure the underlying <code>requests.Session</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ApiClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Wrapper around [requests.Session][] with extra features for REST API calls.</span>

<span class="sd">    Additional features compared to using a [requests.Session][] directly:</span>

<span class="sd">    - You must set a root url at creation time, which then allows passing relative urls at request time.</span>
<span class="sd">    - It may also raise exceptions instead of returning error responses.</span>
<span class="sd">    - You can also pass additional kwargs at init time, which will be used to configure the</span>
<span class="sd">    [Session][requests.Session], instead of setting them later.</span>
<span class="sd">    - for parameters passed as `json`, `params` or `data`, values that are `None` can be</span>
<span class="sd">    automatically discarded from the request</span>
<span class="sd">    - boolean values in `data` or `params` fields can be serialized to values that are suitable</span>
<span class="sd">    for the target API, like `&quot;true&quot;`  or `&quot;false&quot;`, or `&quot;1&quot;` / `&quot;0&quot;`, instead of the default</span>
<span class="sd">    values `&quot;True&quot;` or `&quot;False&quot;`.</span>

<span class="sd">    `base_url` will serve as root for relative urls passed to</span>
<span class="sd">    [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request],</span>
<span class="sd">    [ApiClient.get()][requests_oauth2client.api_client.ApiClient.get], etc.</span>

<span class="sd">    An `HTTPError` will be raised everytime an API call returns an error code (&gt;= 400), unless</span>
<span class="sd">    you set `raise_for_status` to `False`. Additional parameters passed at init time, including</span>
<span class="sd">    `auth` will be used to configure the [Session][requests.Session].</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        from requests_oauth2client import ApiClient</span>

<span class="sd">        api = ApiClient(&quot;https://myapi.local/resource&quot;, timeout=10)</span>
<span class="sd">        resp = api.get(&quot;/myid&quot;)  # this will send a GET request</span>
<span class="sd">        # to https://myapi.local/resource/myid</span>

<span class="sd">        # you can pass an underlying requests.Session at init time</span>
<span class="sd">        session = requests.Session()</span>
<span class="sd">        session.proxies = {&quot;https&quot;: &quot;https://localhost:3128&quot;}</span>
<span class="sd">        api = ApiClient(&quot;https://myapi.local/resource&quot;, session=session)</span>

<span class="sd">        # or you can let ApiClient init its own session and provide additional configuration</span>
<span class="sd">        # parameters:</span>
<span class="sd">        api = ApiClient(</span>
<span class="sd">            &quot;https://myapi.local/resource&quot;,</span>
<span class="sd">            proxies={&quot;https&quot;: &quot;https://localhost:3128&quot;},</span>
<span class="sd">        )</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        base_url: the base api url, that is the root for all the target API endpoints.</span>
<span class="sd">        auth: the [requests.auth.AuthBase][] to use as authentication handler.</span>
<span class="sd">        timeout: the default timeout, in seconds, to use for each request from this `ApiClient`.</span>
<span class="sd">            Can be set to `None` to disable timeout.</span>
<span class="sd">        raise_for_status: if `True`, exceptions will be raised everytime a request returns an</span>
<span class="sd">            error code (&gt;= 400).</span>
<span class="sd">        none_fields: what to do with parameters with value `None` in `data` or `json` fields.</span>

<span class="sd">            - if `&quot;exclude&quot;` (default), fields whose values are `None` are not included in the request.</span>
<span class="sd">            - if `&quot;include&quot;`, they are included with string value `None`. Note that this is</span>
<span class="sd">            the default behavior of `requests`.</span>
<span class="sd">            - if &quot;empty&quot;, they are included with an empty value (as an empty string).</span>
<span class="sd">        bool_fields: a tuple of (true_value, false_value). Fields from `data` or `params` with</span>
<span class="sd">            a boolean value (`True` or `False`) will be serialized to the corresponding value.</span>
<span class="sd">            This can be useful since some APIs expect a `&#39;true&#39;` or `&#39;false&#39;` value as boolean,</span>
<span class="sd">            and `requests` serializes `True` to `&#39;True&#39;` and `False` to `&#39;False&#39;`.</span>
<span class="sd">            Set it to `None` to restore default requests behaviour.</span>
<span class="sd">        session: a preconfigured `requests.Session` to use with this `ApiClient`.</span>
<span class="sd">        **session_kwargs: additional kwargs to configure the underlying `requests.Session`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exclude&quot;</span>
    <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span>
        <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">),</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">session_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">session_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bool_fields</span> <span class="o">=</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="n">base_url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span>
            <span class="n">none_fields</span><span class="o">=</span><span class="n">none_fields</span><span class="p">,</span>
            <span class="n">bool_fields</span><span class="o">=</span><span class="n">bool_fields</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">request</span><span class="p">(</span>  <span class="c1"># noqa: C901, PLR0913, D417</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
            <span class="o">|</span> <span class="nb">str</span>
            <span class="o">|</span> <span class="nb">bytes</span>
            <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
            <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
            <span class="o">|</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
            <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cookies</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">RequestsCookieJar</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">files</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">IO</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
            <span class="o">|</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span>
            <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">],</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">]</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">allow_redirects</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">proxies</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">hooks</span><span class="p">:</span> <span class="kc">None</span>
        <span class="o">|</span> <span class="p">(</span>
            <span class="n">MutableMapping</span><span class="p">[</span>
                <span class="nb">str</span><span class="p">,</span>
                <span class="p">(</span><span class="n">Iterable</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]),</span>
            <span class="p">]</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">verify</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">json</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overridden `request` method with extra features.</span>

<span class="sd">        Features added compared to plain request():</span>

<span class="sd">        - takes a relative path instead of a full url, which will be appended to the</span>
<span class="sd">          base_url</span>
<span class="sd">        - it can raise an exception when the API returns a non-success status code</span>
<span class="sd">        - allow_redirects is False by default (since API usually don&#39;t use redirects)</span>
<span class="sd">        - `data` or `json` fields with value `None` can either be included or excluded from the</span>
<span class="sd">          request</span>
<span class="sd">        - boolean fields can be serialized to `&#39;true&#39;` or `&#39;false&#39;` instead of `&#39;True&#39;` and</span>
<span class="sd">          `&#39;False&#39;`</span>

<span class="sd">        Args:</span>
<span class="sd">          method: the HTTP method to use</span>
<span class="sd">          url: the url where the request will be sent to. Can be a path, as str ;</span>
<span class="sd">            that path will be joined to the configured API url. Can also be an iterable of path</span>
<span class="sd">            segments, that will be joined to the root url.</span>
<span class="sd">          raise_for_status: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>
<span class="sd">          none_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>
<span class="sd">          bool_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">            but this will be applied for this request only.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [requests.Response][] as returned by requests</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">none_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">none_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span>

        <span class="k">if</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;exclude&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;empty&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">bool_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span>

        <span class="k">if</span> <span class="n">bool_fields</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">true_value</span><span class="p">,</span> <span class="n">false_value</span> <span class="o">=</span> <span class="n">bool_fields</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid value for &#39;bool_fields&#39;. Must be a 2 value tuple, with (true_value, false_value).&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                    <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                    <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                        <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>

        <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
            <span class="n">method</span><span class="p">,</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span>
            <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">allow_redirects</span><span class="o">=</span><span class="n">allow_redirects</span><span class="p">,</span>
            <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
            <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span>
            <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
            <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
            <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">raise_for_status</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">raise_for_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span>
        <span class="k">if</span> <span class="n">raise_for_status</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">to_absolute_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relative_url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a relative url to an absolute url.</span>

<span class="sd">        Given a `relative_url`, return the matching absolute url, based on the `base_url` that is</span>
<span class="sd">        configured for this API.</span>

<span class="sd">        The result of this method is different from a standard `urljoin()`, because a relative_url</span>
<span class="sd">        that starts with a &quot;/&quot; will not override the path from the base url. You can also pass an</span>
<span class="sd">        iterable of path parts as relative url, which will be properly joined with &quot;/&quot;. Those parts</span>
<span class="sd">        may be `str` (which will be urlencoded) or `bytes` (which will be decoded as UTF-8 first) or</span>
<span class="sd">        any other type (which will be converted to `str` first, using the `str() function`). See the</span>
<span class="sd">        table below for example results which would exhibit most cases:</span>

<span class="sd">        | base_url | relative_url | result_url |</span>
<span class="sd">        |---------------------------|-----------------------------|-------------------------------------------|</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | b&quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | None | &quot;https://myhost.com/root&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; |  (&quot;user&quot;, 1, &quot;resource&quot;) | &quot;https://myhost.com/root/user/1/resource&quot; |</span>
<span class="sd">        | &quot;https://myhost.com/root&quot; | &quot;https://otherhost.org/foo&quot; | ValueError |</span>

<span class="sd">        Args:</span>
<span class="sd">          relative_url: a relative url</span>

<span class="sd">        Returns:</span>
<span class="sd">          the resulting absolute url</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">relative_url</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                            <span class="p">[</span><span class="n">urlencode</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">part</span><span class="p">))</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">url</span> <span class="k">if</span> <span class="n">part</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="s2">&quot;Unexpected url type, please pass a relative path as string or&quot;</span>
                            <span class="s2">&quot; bytes, or an iterable of string-able objects&quot;</span>
                        <span class="p">)</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                            <span class="n">msg</span><span class="p">,</span>
                            <span class="nb">type</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
                        <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

                <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;url must be relative to root_url&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                <span class="n">url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span>

        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unable to determine an absolute url.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a GET request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">            url: a url where the request will be sent.</span>
<span class="sd">            raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">            **kwargs: Optional arguments that [request()][requests.request] takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a POST request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: an url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">patch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a PATCH request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: an url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PATCH&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a PUT request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: a url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: additional kwargs for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a DELETE request. Return a [Response][requests.Response] object.</span>

<span class="sd">        The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">        parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">        Args:</span>
<span class="sd">          url: a url where the request will be sent.</span>
<span class="sd">          raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">          **kwargs: additional kwargs for `requests.request()`.</span>

<span class="sd">        Returns:</span>
<span class="sd">          a [Response][requests.Response] object.</span>

<span class="sd">        Raises:</span>
<span class="sd">          requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow access sub resources with an attribute-based syntax.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: a subpath</span>

<span class="sd">        Returns:</span>
<span class="sd">            a new ApiClient initialised on the new base url</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client import ApiClient</span>

<span class="sd">            api = ApiClient(&quot;https://myapi.local&quot;)</span>
<span class="sd">            resource1 = api.resource1.get()  # GET https://myapi.local/resource1</span>
<span class="sd">            resource2 = api.resource2.get()  # GET https://myapi.local/resource2</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow access to sub resources with a subscription-based syntax.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: a subpath</span>

<span class="sd">        Returns:</span>
<span class="sd">            a new ApiClient initialised on the new base url</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client import ApiClient</span>

<span class="sd">            api = ApiClient(&quot;https://myapi.local&quot;)</span>
<span class="sd">            resource1 = api[&quot;resource1&quot;].get()  # GET https://myapi.local/resource1</span>
<span class="sd">            resource2 = api[&quot;resource2&quot;].get()  # GET https://myapi.local/resource2</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_base_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
            <span class="n">new_base_uri</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">,</span>
            <span class="n">none_fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span><span class="p">,</span>
            <span class="n">bool_fields</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">raise_for_status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow `ApiClient` to act as a context manager.</span>

<span class="sd">        You can then use an `ApiClient` instance in a `with` clause, the same way as</span>
<span class="sd">        `requests.Session`. The underlying request.Session will be closed on exit.</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            with ApiClient(&quot;https://myapi.com/path&quot;) as client:</span>
<span class="sd">                resp = client.get(&quot;resource&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the underlying requests.Session on exit.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">none_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bool_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Overridden <code>request</code> method with extra features.</p>
<p>Features added compared to plain request():</p>
<ul>
<li>takes a relative path instead of a full url, which will be appended to the
  base_url</li>
<li>it can raise an exception when the API returns a non-success status code</li>
<li>allow_redirects is False by default (since API usually don't use redirects)</li>
<li><code>data</code> or <code>json</code> fields with value <code>None</code> can either be included or excluded from the
  request</li>
<li>boolean fields can be serialized to <code>'true'</code> or <code>'false'</code> instead of <code>'True'</code> and
  <code>'False'</code></li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP method to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the url where the request will be sent to. Can be a path, as str ;
that path will be joined to the configured API url. Can also be an iterable of path
segments, that will be joined to the root url.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>none_fields</code></td>
          <td>
                <code><span title="typing_extensions.Literal">Literal</span>[&#39;include&#39;, &#39;exclude&#39;, &#39;empty&#39;] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>bool_fields</code></td>
          <td>
                <code>tuple[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>like the parameter of the same name from <code>ApiClient.__init__</code>,
but this will be applied for this request only.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">requests.Response</a> as returned by requests</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">request</span><span class="p">(</span>  <span class="c1"># noqa: C901, PLR0913, D417</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
        <span class="o">|</span> <span class="nb">str</span>
        <span class="o">|</span> <span class="nb">bytes</span>
        <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
        <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
        <span class="o">|</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
        <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">headers</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cookies</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">RequestsCookieJar</span> <span class="o">|</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">files</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">IO</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="kc">None</span>
        <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
        <span class="o">|</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span>
        <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">],</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">allow_redirects</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">proxies</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">hooks</span><span class="p">:</span> <span class="kc">None</span>
    <span class="o">|</span> <span class="p">(</span>
        <span class="n">MutableMapping</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Iterable</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">Any</span><span class="p">]),</span>
        <span class="p">]</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">verify</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">json</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">none_fields</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;empty&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">bool_fields</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Overridden `request` method with extra features.</span>

<span class="sd">    Features added compared to plain request():</span>

<span class="sd">    - takes a relative path instead of a full url, which will be appended to the</span>
<span class="sd">      base_url</span>
<span class="sd">    - it can raise an exception when the API returns a non-success status code</span>
<span class="sd">    - allow_redirects is False by default (since API usually don&#39;t use redirects)</span>
<span class="sd">    - `data` or `json` fields with value `None` can either be included or excluded from the</span>
<span class="sd">      request</span>
<span class="sd">    - boolean fields can be serialized to `&#39;true&#39;` or `&#39;false&#39;` instead of `&#39;True&#39;` and</span>
<span class="sd">      `&#39;False&#39;`</span>

<span class="sd">    Args:</span>
<span class="sd">      method: the HTTP method to use</span>
<span class="sd">      url: the url where the request will be sent to. Can be a path, as str ;</span>
<span class="sd">        that path will be joined to the configured API url. Can also be an iterable of path</span>
<span class="sd">        segments, that will be joined to the root url.</span>
<span class="sd">      raise_for_status: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>
<span class="sd">      none_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>
<span class="sd">      bool_fields: like the parameter of the same name from `ApiClient.__init__`,</span>
<span class="sd">        but this will be applied for this request only.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [requests.Response][] as returned by requests</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">none_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">none_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">none_fields</span>

    <span class="k">if</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;exclude&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">none_fields</span> <span class="o">==</span> <span class="s2">&quot;empty&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">if</span> <span class="n">bool_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">bool_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bool_fields</span>

    <span class="k">if</span> <span class="n">bool_fields</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">true_value</span><span class="p">,</span> <span class="n">false_value</span> <span class="o">=</span> <span class="n">bool_fields</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid value for &#39;bool_fields&#39;. Must be a 2 value tuple, with (true_value, false_value).&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">MutableMapping</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">true_value</span>
                <span class="k">elif</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">false_value</span>

    <span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
        <span class="n">method</span><span class="p">,</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
        <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">,</span>
        <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">allow_redirects</span><span class="o">=</span><span class="n">allow_redirects</span><span class="p">,</span>
        <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
        <span class="n">hooks</span><span class="o">=</span><span class="n">hooks</span><span class="p">,</span>
        <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
        <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
        <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">raise_for_status</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">raise_for_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_for_status</span>
    <span class="k">if</span> <span class="n">raise_for_status</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.to_absolute_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_absolute_url</span><span class="p">(</span><span class="n">relative_url</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.to_absolute_url" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Convert a relative url to an absolute url.</p>
<p>Given a <code>relative_url</code>, return the matching absolute url, based on the <code>base_url</code> that is
configured for this API.</p>
<p>The result of this method is different from a standard <code>urljoin()</code>, because a relative_url
that starts with a "/" will not override the path from the base url. You can also pass an
iterable of path parts as relative url, which will be properly joined with "/". Those parts
may be <code>str</code> (which will be urlencoded) or <code>bytes</code> (which will be decoded as UTF-8 first) or
any other type (which will be converted to <code>str</code> first, using the <code>str() function</code>). See the
table below for example results which would exhibit most cases:</p>
<table>
<thead>
<tr>
<th>base_url</th>
<th>relative_url</th>
<th>result_url</th>
</tr>
</thead>
<tbody>
<tr>
<td>"https://myhost.com/root"</td>
<td>"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>b"/path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"path"</td>
<td>"https://myhost.com/root/path"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>None</td>
<td>"https://myhost.com/root"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>("user", 1, "resource")</td>
<td>"https://myhost.com/root/user/1/resource"</td>
</tr>
<tr>
<td>"https://myhost.com/root"</td>
<td>"https://otherhost.org/foo"</td>
<td>ValueError</td>
</tr>
</tbody>
</table>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>relative_url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a relative url</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resulting absolute url</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_absolute_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relative_url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a relative url to an absolute url.</span>

<span class="sd">    Given a `relative_url`, return the matching absolute url, based on the `base_url` that is</span>
<span class="sd">    configured for this API.</span>

<span class="sd">    The result of this method is different from a standard `urljoin()`, because a relative_url</span>
<span class="sd">    that starts with a &quot;/&quot; will not override the path from the base url. You can also pass an</span>
<span class="sd">    iterable of path parts as relative url, which will be properly joined with &quot;/&quot;. Those parts</span>
<span class="sd">    may be `str` (which will be urlencoded) or `bytes` (which will be decoded as UTF-8 first) or</span>
<span class="sd">    any other type (which will be converted to `str` first, using the `str() function`). See the</span>
<span class="sd">    table below for example results which would exhibit most cases:</span>

<span class="sd">    | base_url | relative_url | result_url |</span>
<span class="sd">    |---------------------------|-----------------------------|-------------------------------------------|</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | b&quot;/path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;path&quot; | &quot;https://myhost.com/root/path&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | None | &quot;https://myhost.com/root&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; |  (&quot;user&quot;, 1, &quot;resource&quot;) | &quot;https://myhost.com/root/user/1/resource&quot; |</span>
<span class="sd">    | &quot;https://myhost.com/root&quot; | &quot;https://otherhost.org/foo&quot; | ValueError |</span>

<span class="sd">    Args:</span>
<span class="sd">      relative_url: a relative url</span>

<span class="sd">    Returns:</span>
<span class="sd">      the resulting absolute url</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">relative_url</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">urlencode</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">part</span><span class="p">))</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">url</span> <span class="k">if</span> <span class="n">part</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;Unexpected url type, please pass a relative path as string or&quot;</span>
                        <span class="s2">&quot; bytes, or an iterable of string-able objects&quot;</span>
                    <span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="n">msg</span><span class="p">,</span>
                        <span class="nb">type</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;url must be relative to root_url&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span>

    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unable to determine an absolute url.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.get" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.get" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a GET request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>None | str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes | int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">request()</a> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a GET request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">        url: a url where the request will be sent.</span>
<span class="sd">        raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">        **kwargs: Optional arguments that [request()][requests.request] takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.post" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.post" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a POST request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <code>request</code> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a POST request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: an url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.patch" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">patch</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.patch" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a PATCH request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional arguments that <code>request</code> takes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">patch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a PATCH request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: an url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: Optional arguments that ``request`` takes.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PATCH&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.put" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.put" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a PUT request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a PUT request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: a url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: additional kwargs for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.api_client.ApiClient.delete" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.api_client.ApiClient.delete" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a DELETE request. Return a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
<p>The passed <code>url</code> may be relative to the url passed at initialization time. It takes the same
parameters as <a class="autorefs autorefs-internal" href="#requests_oauth2client.api_client.ApiClient.request">ApiClient.request()</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | bytes | <span title="typing.Iterable">Iterable</span>[str | bytes] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a url where the request will be sent.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>raise_for_status</code></td>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>overrides the <code>raises_for_status</code> parameter passed at initialization time.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs for <code>requests.request()</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>raises_for_status</code> is <code>True</code> and an error response is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/api_client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">raise_for_status</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a DELETE request. Return a [Response][requests.Response] object.</span>

<span class="sd">    The passed `url` may be relative to the url passed at initialization time. It takes the same</span>
<span class="sd">    parameters as [ApiClient.request()][requests_oauth2client.api_client.ApiClient.request].</span>

<span class="sd">    Args:</span>
<span class="sd">      url: a url where the request will be sent.</span>
<span class="sd">      raise_for_status: overrides the `raises_for_status` parameter passed at initialization time.</span>
<span class="sd">      **kwargs: additional kwargs for `requests.request()`.</span>

<span class="sd">    Returns:</span>
<span class="sd">      a [Response][requests.Response] object.</span>

<span class="sd">    Raises:</span>
<span class="sd">      requests.HTTPError: if `raises_for_status` is `True` and an error response is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="n">raise_for_status</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.auth" class="doc doc-heading">
          <code>auth</code>


<a href="#requests_oauth2client.auth" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module contains <code>requests</code>-compatible Auth Handlers that implement OAuth 2.0.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.BearerAuth" class="doc doc-heading">
          <code>BearerAuth</code>


<a href="#requests_oauth2client.auth.BearerAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code></p>

  
      <p>An Auth Handler that includes a Bearer Token in API calls, as defined in <a href="https://datatracker.ietf.org/doc/html/rfc6750#section-2.1">RFC6750$2.1</a>.</p>
<p>As a prerequisite to using this <code>AuthBase</code>, you have to obtain an access token manually.
You most likely don't want to do that by yourself, but instead use an instance of
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to do that for you.
See the others Auth Handlers in this module, which will automatically obtain
access tokens from an OAuth 2.x server.</p>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">auth</span> <span class="o">=</span> <span class="n">BearerAuth</span><span class="p">(</span><span class="s2">&quot;my_access_token&quot;</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://my.api.local/resource&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>The HTTP request will look like:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>GET /resource HTTP/1.1
Host: my.api.local
Authorization: Bearer my_access_token
</code></pre></div></td></tr></table></div></p>
</details>


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> or a string
to use as token for this Auth Handler. If <code>None</code>, this Auth Handler is a no-op.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BearerAuth</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An Auth Handler that includes a Bearer Token in API calls, as defined in [RFC6750$2.1].</span>

<span class="sd">    As a prerequisite to using this `AuthBase`, you have to obtain an access token manually.</span>
<span class="sd">    You most likely don&#39;t want to do that by yourself, but instead use an instance of</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] to do that for you.</span>
<span class="sd">    See the others Auth Handlers in this module, which will automatically obtain</span>
<span class="sd">    access tokens from an OAuth 2.x server.</span>

<span class="sd">    [RFC6750$2.1]: https://datatracker.ietf.org/doc/html/rfc6750#section-2.1</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        auth = BearerAuth(&quot;my_access_token&quot;)</span>
<span class="sd">        resp = requests.get(&quot;https://my.api.local/resource&quot;, auth=auth)</span>
<span class="sd">        ```</span>

<span class="sd">        The HTTP request will look like:</span>
<span class="sd">        ```</span>
<span class="sd">        GET /resource HTTP/1.1</span>
<span class="sd">        Host: my.api.local</span>
<span class="sd">        Authorization: Bearer my_access_token</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        token: a [BearerToken][requests_oauth2client.tokens.BearerToken] or a string</span>
<span class="sd">            to use as token for this Auth Handler. If `None`, this Auth Handler is a no-op.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>  <span class="c1"># type: ignore[assignment] # until https://github.com/python/mypy/issues/3004 is fixed</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the [BearerToken] that is used for authorization against the API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the configured [BearerToken][requests_oauth2client.tokens.BearerToken] used with this</span>
<span class="sd">            AuthHandler.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>

    <span class="nd">@token</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the access token used with this AuthHandler.</span>

<span class="sd">        Accepts a [BearerToken][requests_oauth2client.tokens.BearerToken] or an access token as</span>
<span class="sd">        `str`.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: an access token to use for this Auth Handler</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">token</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the usage of Bearer Tokens in requests.</span>

<span class="sd">        This will add a properly formatted `Authorization: Bearer &lt;token&gt;` header in the request.</span>

<span class="sd">        If the configured token is an instance of BearerToken with an expires_at attribute, raises</span>
<span class="sd">        [ExpiredAccessToken][requests_oauth2client.exceptions.ExpiredAccessToken] once the access</span>
<span class="sd">        token is expired.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [PreparedRequest][requests.PreparedRequest]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [PreparedRequest][requests.PreparedRequest] with an Access Token added in</span>
<span class="sd">            Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">request</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ExpiredAccessToken</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">authorization_header</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.auth.BearerAuth.token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#requests_oauth2client.auth.BearerAuth.token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the [BearerToken] that is used for authorization against the API.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the configured <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> used with this</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>AuthHandler.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" class="doc doc-heading">
          <code>BaseOAuth2RenewableTokenAuth</code>


<a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BearerAuth" href="#requests_oauth2client.auth.BearerAuth">BearerAuth</a></code></p>

  
      <p>Base class for BearerToken-based Auth Handlers, with an obtainable or renewable token.</p>
<p>In addition to adding a properly formatted <code>Authorization</code> header, this will obtain a new token
once the current token is expired. Expiration is detected based on the <code>expires_in</code> hint
returned by the AS. A configurable <code>leeway</code>, in number of seconds, will make sure that a new
token is obtained some seconds before the actual expiration is reached. This may help in
situations where the client, AS and RS have slightly offset clocks.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an initial Access Token, if you have one already. In most cases, leave <code>None</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>expiration leeway, in number of seconds</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to include in token requests</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOAuth2RenewableTokenAuth</span><span class="p">(</span><span class="n">BearerAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for BearerToken-based Auth Handlers, with an obtainable or renewable token.</span>

<span class="sd">    In addition to adding a properly formatted `Authorization` header, this will obtain a new token</span>
<span class="sd">    once the current token is expired. Expiration is detected based on the `expires_in` hint</span>
<span class="sd">    returned by the AS. A configurable `leeway`, in number of seconds, will make sure that a new</span>
<span class="sd">    token is obtained some seconds before the actual expiration is reached. This may help in</span>
<span class="sd">    situations where the client, AS and RS have slightly offset clocks.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client</span>
<span class="sd">        token: an initial Access Token, if you have one already. In most cases, leave `None`.</span>
<span class="sd">        leeway: expiration leeway, in number of seconds</span>
<span class="sd">        token_kwargs: additional kwargs to include in token requests</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leeway</span> <span class="o">=</span> <span class="n">leeway</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span> <span class="o">=</span> <span class="n">token_kwargs</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leeway</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">renew_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new Bearer Token.</span>

<span class="sd">        Subclasses should implement this.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">forget_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Forget the current token, forcing a renewal on the next HTTP request.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Obtain a new Bearer Token.</p>
<p>Subclasses should implement this.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new Bearer Token.</span>

<span class="sd">    Subclasses should implement this.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.forget_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">forget_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth.forget_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Forget the current token, forcing a renewal on the next HTTP request.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">forget_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Forget the current token, forcing a renewal on the next HTTP request.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.OAuth2ClientCredentialsAuth" class="doc doc-heading">
          <code>OAuth2ClientCredentialsAuth</code>


<a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>An Auth Handler for the Client Credentials grant.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests AuthBase</a> automatically gets Access Tokens from an OAuth
2.0 Token Endpoint with the Client Credentials grant, and will get a new one once the current
one is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra kw parameters to pass to the Token Endpoint. May include <code>scope</code>, <code>resource</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span><span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/token&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">))</span>
<span class="n">oauth2cc</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my_scope&quot;</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;https://my.api.local/resource&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">oauth2cc</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An Auth Handler for the Client Credentials grant.</span>

<span class="sd">    This [requests AuthBase][requests.auth.AuthBase] automatically gets Access Tokens from an OAuth</span>
<span class="sd">    2.0 Token Endpoint with the Client Credentials grant, and will get a new one once the current</span>
<span class="sd">    one is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        **token_kwargs: extra kw parameters to pass to the Token Endpoint. May include `scope`, `resource`, etc.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        oauth2cc = OAuth2ClientCredentialsAuth(client, scope=&quot;my_scope&quot;)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=oauth2cc)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new token for use within this Auth Handler.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.OAuth2ClientCredentialsAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Obtain a new token for use within this Auth Handler.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new token for use within this Auth Handler.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.OAuth2AccessTokenAuth" class="doc doc-heading">
          <code>OAuth2AccessTokenAuth</code>


<a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>Authentication Handler for OAuth 2.0 Access Tokens and (optional) Refresh Tokens.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation uses an access token as
Bearer token, and can automatically refresh it when expired, if a refresh token is available.</p>
<p>Token can be a simple <code>str</code> containing a raw access token value, or a
<a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> that can contain a refresh_token. If a
refresh_token and an expiration date are available, this Auth Handler will automatically refresh
the access token once it is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to refresh tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a access token that has been previously obtained</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
token = BearerToken(
    access_token="access_token", expires_in=600, refresh_token="refresh_token"
)  # obtain a BearerToken any way you see fit, including a refresh token
oauth2at_auth = OAuth2ClientCredentialsAuth(client, token, scope="my_scope")
resp = requests.post("https://my.api.local/resource", auth=oauth2at_auth)
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2AccessTokenAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for OAuth 2.0 Access Tokens and (optional) Refresh Tokens.</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation uses an access token as</span>
<span class="sd">    Bearer token, and can automatically refresh it when expired, if a refresh token is available.</span>

<span class="sd">    Token can be a simple `str` containing a raw access token value, or a</span>
<span class="sd">    [BearerToken][requests_oauth2client.tokens.BearerToken] that can contain a refresh_token. If a</span>
<span class="sd">    refresh_token and an expiration date are available, this Auth Handler will automatically refresh</span>
<span class="sd">    the access token once it is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to refresh tokens.</span>
<span class="sd">        token: a access token that has been previously obtained</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        token = BearerToken(</span>
<span class="sd">            access_token=&quot;access_token&quot;, expires_in=600, refresh_token=&quot;refresh_token&quot;</span>
<span class="sd">        )  # obtain a BearerToken any way you see fit, including a refresh token</span>
<span class="sd">        oauth2at_auth = OAuth2ClientCredentialsAuth(client, token, scope=&quot;my_scope&quot;)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=oauth2at_auth)</span>
<span class="sd">        ````</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain a new token, using the Refresh Token, if available.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.OAuth2AccessTokenAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.OAuth2AccessTokenAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Obtain a new token, using the Refresh Token, if available.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain a new token, using the Refresh Token, if available.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.OAuth2AuthorizationCodeAuth" class="doc doc-heading">
          <code>OAuth2AuthorizationCodeAuth</code>


<a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2AccessTokenAuth" href="#requests_oauth2client.auth.OAuth2AccessTokenAuth">OAuth2AccessTokenAuth</a></code></p>

  
      <p>Authentication handler for the Authorization Code grant.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges an Authorization
Code for an access token, then automatically refreshes it once it is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an Authorization Code that has been obtained from the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
code = "my_code"  # you must obtain this code yourself
resp = requests.post("https://my.api.local/resource", auth=OAuth2AuthorizationCodeAuth(client, code))
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2AuthorizationCodeAuth</span><span class="p">(</span><span class="n">OAuth2AccessTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication handler for the Authorization Code grant.</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges an Authorization</span>
<span class="sd">    Code for an access token, then automatically refreshes it once it is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        code: an Authorization Code that has been obtained from the AS.</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        code = &quot;my_code&quot;  # you must obtain this code yourself</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=OAuth2AuthorizationCodeAuth(client, code))</span>
<span class="sd">        ````</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">code</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Authorization Code grant as an Authentication Handler.</span>

<span class="sd">        This exchanges an Authorization Code for an access token and adds it in the request.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [PreparedRequest][requests.PreparedRequest]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [PreparedRequest][requests.PreparedRequest] with an Access Token added in</span>
<span class="sd">            Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exchange_code_for_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exchange_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain the initial access token with the authorization_code grant.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exchange_code_for_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.OAuth2AuthorizationCodeAuth.exchange_code_for_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Obtain the initial access token with the authorization_code grant.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exchange_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Obtain the initial access token with the authorization_code grant.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth" class="doc doc-heading">
          <code>OAuth2ResourceOwnerPasswordAuth</code>


<a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth" href="#requests_oauth2client.auth.BaseOAuth2RenewableTokenAuth">BaseOAuth2RenewableTokenAuth</a></code></p>

  
      <p>Authentication Handler for the <a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.3">Resource Owner Password Flow</a>.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges the user
credentials for an Access Token, then automatically obtains a new one once it is expired.</p>
<p>Note that this flow is considered <em>deprecated</em>, and the Authorization Code flow should be
used whenever possible. Among other bad things, ROPC does not support SSO nor MFA and
depends on the user typing its credentials directly inside the application instead of on a
dedicated login page, which makes it totally insecure for 3rd party apps.</p>
<p>It needs the username and password and an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to be able to get a token from
the AS Token Endpoint just before the first request using this Auth Handler is being sent.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain
Access Tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>username</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the username</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>password</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the user password</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an amount of time, in seconds</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2ResourceOwnerPasswordAuth</span><span class="p">(</span><span class="n">BaseOAuth2RenewableTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for the [Resource Owner Password Flow](https://www.rfc-editor.org/rfc/rfc6749#section-4.3).</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges the user</span>
<span class="sd">    credentials for an Access Token, then automatically obtains a new one once it is expired.</span>

<span class="sd">    Note that this flow is considered *deprecated*, and the Authorization Code flow should be</span>
<span class="sd">    used whenever possible. Among other bad things, ROPC does not support SSO nor MFA and</span>
<span class="sd">    depends on the user typing its credentials directly inside the application instead of on a</span>
<span class="sd">    dedicated login page, which makes it totally insecure for 3rd party apps.</span>

<span class="sd">    It needs the username and password and an</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] to be able to get a token from</span>
<span class="sd">    the AS Token Endpoint just before the first request using this Auth Handler is being sent.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain</span>
<span class="sd">            Access Tokens</span>
<span class="sd">        username: the username</span>
<span class="sd">        password: the user password</span>
<span class="sd">        leeway: an amount of time, in seconds</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exchange the user credentials for an Access Token.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">resource_owner_password</span><span class="p">(</span>
            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth.renew_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">renew_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.OAuth2ResourceOwnerPasswordAuth.renew_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Exchange the user credentials for an Access Token.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@override</span>
<span class="k">def</span> <span class="nf">renew_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exchange the user credentials for an Access Token.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">resource_owner_password</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.auth.OAuth2DeviceCodeAuth" class="doc doc-heading">
          <code>OAuth2DeviceCodeAuth</code>


<a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2AccessTokenAuth" href="#requests_oauth2client.auth.OAuth2AccessTokenAuth">OAuth2AccessTokenAuth</a></code></p>

  
      <p>Authentication Handler for the <a href="https://www.rfc-editor.org/rfc/rfc8628">Device Code Flow</a>.</p>
<p>This <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">Requests Auth handler</a> implementation exchanges a Device Code for
an Access Token, then automatically refreshes it once it is expired.</p>
<p>It needs a Device Code and an <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to be
able to get a token from the AS Token Endpoint just before the first request using this Auth
Handler is being sent.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> to use to obtain Access Tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Device Code obtained from the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the interval to use to pool the Token Endpoint, in seconds.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>expires_in</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime of the token, in seconds.</p>
            </div>
          </td>
          <td>
                <code>360</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the token endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <p>```python
client = OAuth2Client(token_endpoint="https://my.as.local/token", auth=("client_id", "client_secret"))
device_code = client.device_authorization()
auth = OAuth2DeviceCodeAuth(client, device_code)
resp = requests.post("https://my.api.local/resource", auth=auth)
````</p>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2DeviceCodeAuth</span><span class="p">(</span><span class="n">OAuth2AccessTokenAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authentication Handler for the [Device Code Flow](https://www.rfc-editor.org/rfc/rfc8628).</span>

<span class="sd">    This [Requests Auth handler][requests.auth.AuthBase] implementation exchanges a Device Code for</span>
<span class="sd">    an Access Token, then automatically refreshes it once it is expired.</span>

<span class="sd">    It needs a Device Code and an [OAuth2Client][requests_oauth2client.client.OAuth2Client] to be</span>
<span class="sd">    able to get a token from the AS Token Endpoint just before the first request using this Auth</span>
<span class="sd">    Handler is being sent.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] to use to obtain Access Tokens.</span>
<span class="sd">        device_code: a Device Code obtained from the AS.</span>
<span class="sd">        interval: the interval to use to pool the Token Endpoint, in seconds.</span>
<span class="sd">        expires_in: the lifetime of the token, in seconds.</span>
<span class="sd">        **token_kwargs: additional kwargs to pass to the token endpoint.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(token_endpoint=&quot;https://my.as.local/token&quot;, auth=(&quot;client_id&quot;, &quot;client_secret&quot;))</span>
<span class="sd">        device_code = client.device_authorization()</span>
<span class="sd">        auth = OAuth2DeviceCodeAuth(client, device_code)</span>
<span class="sd">        resp = requests.post(&quot;https://my.api.local/resource&quot;, auth=auth)</span>
<span class="sd">        ````</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">leeway</span><span class="o">=</span><span class="n">leeway</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">device_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span> <span class="o">=</span> <span class="n">expires_in</span>

    <span class="nd">@override</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Device Code grant as a request Authentication Handler.</span>

<span class="sd">        This exchanges a Device Code for an access token and adds it in HTTP requests.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with an Access Token added in Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exchange_device_code_for_token</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exchange_device_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exchange the Device Code for an access token.</span>

<span class="sd">        This will poll the Token Endpoint until the user finishes the authorization process.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.device_authorization</span> <span class="kn">import</span> <span class="n">DeviceAuthorizationPoolingJob</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="n">pooling_job</span> <span class="o">=</span> <span class="n">DeviceAuthorizationPoolingJob</span><span class="p">(</span>
                <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span>
                <span class="n">device_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
                <span class="n">interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">pooling_job</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.auth.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exchange_device_code_for_token</span><span class="p">()</span></code>

<a href="#requests_oauth2client.auth.OAuth2DeviceCodeAuth.exchange_device_code_for_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Exchange the Device Code for an access token.</p>
<p>This will poll the Token Endpoint until the user finishes the authorization process.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/auth.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exchange_device_code_for_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exchange the Device Code for an access token.</span>

<span class="sd">    This will poll the Token Endpoint until the user finishes the authorization process.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">.device_authorization</span> <span class="kn">import</span> <span class="n">DeviceAuthorizationPoolingJob</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="n">pooling_job</span> <span class="o">=</span> <span class="n">DeviceAuthorizationPoolingJob</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span>
            <span class="n">device_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">pooling_job</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.authorization_request" class="doc doc-heading">
          <code>authorization_request</code>


<a href="#requests_oauth2client.authorization_request" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Classes and utilities related to Authorization Requests and Responses.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.PkceUtils" class="doc doc-heading">
          <code>PkceUtils</code>


<a href="#requests_oauth2client.authorization_request.PkceUtils" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Contains helper methods for PKCE, as described in RFC7636.</p>
<p>See <a href="https://tools.ietf.org/html/rfc7636">RFC7636</a>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PkceUtils</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains helper methods for PKCE, as described in RFC7636.</span>

<span class="sd">    See [RFC7636](https://tools.ietf.org/html/rfc7636).</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">code_verifier_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9_\-~.]{43,128}$&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A regex that matches valid code verifiers.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `code_verifier` ready to use for PKCE</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">96</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">derive_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Derive the `code_challenge` from a given `code_verifier`.</span>

<span class="sd">        Args:</span>
<span class="sd">            verifier: a code verifier</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `code_challenge` derived from the given verifier</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">verifier</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid code verifier, does not match </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="n">verifier</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;S256&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha256&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;plain&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">verifier</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported code_challenge_method&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier` and derive its `code_challenge`.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `(code_verifier, code_challenge)` tuple.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">verifier</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
        <span class="n">challenge</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">challenge</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a `code_verifier` against a `code_challenge`.</span>

<span class="sd">        Args:</span>
<span class="sd">            verifier: the `code_verifier`, exactly as submitted by the client on token request.</span>
<span class="sd">            challenge: the `code_challenge`, exactly as submitted by the client on authorization request.</span>
<span class="sd">            method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if verifier is valid, or `False` otherwise</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="o">==</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.PkceUtils.code_verifier_re" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">code_verifier_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;^[a-zA-Z0-9_</span><span class="se">\\</span><span class="s1">-~.]{43,128}$&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.PkceUtils.code_verifier_re" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>A regex that matches valid code verifiers.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_code_verifier</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a valid <code>code_verifier</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>code_verifier</code> ready to use for PKCE</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `code_verifier` ready to use for PKCE</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">96</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.PkceUtils.derive_challenge" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.PkceUtils.derive_challenge" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Derive the <code>code_challenge</code> from a given <code>code_verifier</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>verifier</code></td>
          <td>
                <code>str | bytes</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a code verifier</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>code_challenge</code> derived from the given verifier</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">derive_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Derive the `code_challenge` from a given `code_verifier`.</span>

<span class="sd">    Args:</span>
<span class="sd">        verifier: a code verifier</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `code_challenge` derived from the given verifier</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">verifier</span> <span class="o">=</span> <span class="n">verifier</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid code verifier, does not match </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">msg</span><span class="p">,</span>
            <span class="n">verifier</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;S256&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha256&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;plain&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">verifier</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported code_challenge_method&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier_and_challenge" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.PkceUtils.generate_code_verifier_and_challenge" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a valid <code>code_verifier</code> and derive its <code>code_challenge</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>(code_verifier, code_challenge)</code> tuple.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_code_verifier_and_challenge</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a valid `code_verifier` and derive its `code_challenge`.</span>

<span class="sd">    Args:</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `(code_verifier, code_challenge)` tuple.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verifier</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
    <span class="n">challenge</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.PkceUtils.validate_code_verifier" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_code_verifier</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">challenge</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;S256&#39;</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.PkceUtils.validate_code_verifier" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Validate a <code>code_verifier</code> against a <code>code_challenge</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>verifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>code_verifier</code>, exactly as submitted by the client on token request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>challenge</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>code_challenge</code>, exactly as submitted by the client on authorization request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use for deriving the challenge. Accepts 'S256' or 'plain'.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if verifier is valid, or <code>False</code> otherwise</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">validate_code_verifier</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">verifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">challenge</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a `code_verifier` against a `code_challenge`.</span>

<span class="sd">    Args:</span>
<span class="sd">        verifier: the `code_verifier`, exactly as submitted by the client on token request.</span>
<span class="sd">        challenge: the `code_challenge`, exactly as submitted by the client on authorization request.</span>
<span class="sd">        method: the method to use for deriving the challenge. Accepts &#39;S256&#39; or &#39;plain&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if verifier is valid, or `False` otherwise</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">code_verifier_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">verifier</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">verifier</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="o">==</span> <span class="n">challenge</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.CodeChallengeMethods" class="doc doc-heading">
          <code>CodeChallengeMethods</code>


<a href="#requests_oauth2client.authorization_request.CodeChallengeMethods" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>PKCE Code Challenge Methods.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CodeChallengeMethods</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;PKCE Code Challenge Methods.&quot;&quot;&quot;</span>

    <span class="n">plain</span> <span class="o">=</span> <span class="s2">&quot;plain&quot;</span>
    <span class="n">S256</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.AuthorizationResponse" class="doc doc-heading">
          <code>AuthorizationResponse</code>


<a href="#requests_oauth2client.authorization_request.AuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent a successful Authorization Response.</p>
<p>An Authorization Response is the redirection initiated by the AS to the client's redirection
endpoint (redirect_uri) after an Authorization Request. This Response is typically created with
a call to <code>AuthorizationRequest.validate_callback()</code> once the call to the client Redirection
Endpoint is made. AuthorizationResponse contains the following, all accessible as attributes:</p>
<ul>
<li>all the parameters that have been returned by the AS, most notably the <code>code</code>, and optional
   parameters such as <code>state</code>.</li>
<li>the redirect_uri that was used for the Authorization Request</li>
<li>the code_verifier matching the code_challenge that was used for the Authorization Request</li>
</ul>
<p>Parameters <code>redirect_uri</code> and <code>code_verifier</code> must be those from the matching
<code>AuthorizationRequest</code>. All other parameters including <code>code</code> and <code>state</code> must be those
extracted from the Authorization Response parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authorization code returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri that was passed as parameter in the AuthorizationRequest</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the code_verifier matching the code_challenge that was passed as
parameter in the AuthorizationRequest</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the state returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>other parameters as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a successful Authorization Response.</span>

<span class="sd">    An Authorization Response is the redirection initiated by the AS to the client&#39;s redirection</span>
<span class="sd">    endpoint (redirect_uri) after an Authorization Request. This Response is typically created with</span>
<span class="sd">    a call to `AuthorizationRequest.validate_callback()` once the call to the client Redirection</span>
<span class="sd">    Endpoint is made. AuthorizationResponse contains the following, all accessible as attributes:</span>

<span class="sd">     - all the parameters that have been returned by the AS, most notably the `code`, and optional</span>
<span class="sd">       parameters such as `state`.</span>
<span class="sd">     - the redirect_uri that was used for the Authorization Request</span>
<span class="sd">     - the code_verifier matching the code_challenge that was used for the Authorization Request</span>

<span class="sd">    Parameters `redirect_uri` and `code_verifier` must be those from the matching</span>
<span class="sd">    `AuthorizationRequest`. All other parameters including `code` and `state` must be those</span>
<span class="sd">    extracted from the Authorization Response parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        code: the authorization code returned by the AS</span>
<span class="sd">        redirect_uri: the redirect_uri that was passed as parameter in the AuthorizationRequest</span>
<span class="sd">        code_verifier: the code_verifier matching the code_challenge that was passed as</span>
<span class="sd">            parameter in the AuthorizationRequest</span>
<span class="sd">        state: the state returned by the AS</span>
<span class="sd">        **kwargs: other parameters as returned by the AS</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">code</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">acr_values</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="n">max_age</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make additional parameters available as attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            item: the attribute name</span>

<span class="sd">        Returns:</span>
<span class="sd">            the attribute value, or None if it isn&#39;t part of the returned attributes</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.AuthorizationRequest" class="doc doc-heading">
          <code>AuthorizationRequest</code>


<a href="#requests_oauth2client.authorization_request.AuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request.</p>
<p>This class makes it easy to generate valid Authorization Request URI (possibly including a
state, nonce, PKCE, and custom args), to store all parameters, and to validate an Authorization
Response.</p>
<p>All parameters passed at init time will be included in the request query parameters as-is,
excepted for a few parameters which have a special behaviour:</p>
<ul>
<li><code>state</code>: if <code>...</code> (default), a random <code>state</code> parameter will be generated for you.
  You may pass your own <code>state</code> as <code>str</code>, or set it to <code>None</code> so that the <code>state</code> parameter
  will not be included in the request. You may access that state in the <code>state</code> attribute
  from this request.</li>
<li><code>nonce</code>: if <code>...</code> (default) and <code>scope</code> includes 'openid', a random <code>nonce</code> will be
  generated and included in the request. You may access that <code>nonce</code> in the <code>nonce</code> attribute
  from this request.</li>
<li><code>code_verifier</code>: if <code>None</code>, and <code>code_challenge_method</code> is <code>'S256'</code> or <code>'plain'</code>,
  a valid <code>code_challenge</code> and <code>code_verifier</code> for PKCE will be automatically generated,
  and the <code>code_challenge</code> will be included in the request.
  You may pass your own <code>code_verifier</code> as a <code>str</code> parameter, in which case the
  appropriate <code>code_challenge</code> will be included in the request, according to the
  <code>code_challenge_method</code>.</li>
<li><code>authorization_response_iss_parameter_supported</code> and <code>issuer</code>:
   those are used for Server Issuer Identification. If <code>ìssuer</code> is set and an issuer is
   included in the Authorization Response, then the consistency between those 2 values will be
   checked when using <code>validate_callback()</code>. If issuer is not included in the response, and
   <code>authorization_response_iss_parameter_supported</code> is <code>False</code> (default), then no issuer check
   is performed. Set <code>authorization_response_iss_parameter_supported</code>
   to <code>True</code> to enforce server identification: if no issuer is included in the Authorization
   Response, then an error will be raised instead.</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the uri for the authorization endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to include in the request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri to include in the request. This is required in OAuth 2.0 and optional
in OAuth 2.1. Pass <code>None</code> if you don't need any redirect_uri in the Authorization
Request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to include in the request, as an iterable of <code>str</code>, or a single space-separated <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>response_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response type to include in the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;code&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the state to include in the request, or <code>...</code> to autogenerate one (default).</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>nonce</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the nonce to include in the request, or <code>...</code> to autogenerate one (default).</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the code verifier to include in the request.
If left as <code>None</code> and <code>code_challenge_method</code> is set, a valid code_verifier
will be generated.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_challenge_method</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the method to use to derive the <code>code_challenge</code> from the <code>code_verifier</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>acr_values</code></td>
          <td>
                <code>str | <span title="typing.Iterable">Iterable</span>[str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>requested Authentication Context Class Reference values.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Issuer Identifier value from the OAuth/OIDC Server, if using Server Issuer Identification.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request, as-is.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request.</span>

<span class="sd">    This class makes it easy to generate valid Authorization Request URI (possibly including a</span>
<span class="sd">    state, nonce, PKCE, and custom args), to store all parameters, and to validate an Authorization</span>
<span class="sd">    Response.</span>

<span class="sd">    All parameters passed at init time will be included in the request query parameters as-is,</span>
<span class="sd">    excepted for a few parameters which have a special behaviour:</span>

<span class="sd">    - `state`: if `...` (default), a random `state` parameter will be generated for you.</span>
<span class="sd">      You may pass your own `state` as `str`, or set it to `None` so that the `state` parameter</span>
<span class="sd">      will not be included in the request. You may access that state in the `state` attribute</span>
<span class="sd">      from this request.</span>
<span class="sd">    - `nonce`: if `...` (default) and `scope` includes &#39;openid&#39;, a random `nonce` will be</span>
<span class="sd">      generated and included in the request. You may access that `nonce` in the `nonce` attribute</span>
<span class="sd">      from this request.</span>
<span class="sd">    - `code_verifier`: if `None`, and `code_challenge_method` is `&#39;S256&#39;` or `&#39;plain&#39;`,</span>
<span class="sd">      a valid `code_challenge` and `code_verifier` for PKCE will be automatically generated,</span>
<span class="sd">      and the `code_challenge` will be included in the request.</span>
<span class="sd">      You may pass your own `code_verifier` as a `str` parameter, in which case the</span>
<span class="sd">      appropriate `code_challenge` will be included in the request, according to the</span>
<span class="sd">      `code_challenge_method`.</span>
<span class="sd">    - `authorization_response_iss_parameter_supported` and `issuer`:</span>
<span class="sd">       those are used for Server Issuer Identification. If `ìssuer` is set and an issuer is</span>
<span class="sd">       included in the Authorization Response, then the consistency between those 2 values will be</span>
<span class="sd">       checked when using `validate_callback()`. If issuer is not included in the response, and</span>
<span class="sd">       `authorization_response_iss_parameter_supported` is `False` (default), then no issuer check</span>
<span class="sd">       is performed. Set `authorization_response_iss_parameter_supported`</span>
<span class="sd">       to `True` to enforce server identification: if no issuer is included in the Authorization</span>
<span class="sd">       Response, then an error will be raised instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the uri for the authorization endpoint.</span>
<span class="sd">        client_id: the client_id to include in the request.</span>
<span class="sd">        redirect_uri: the redirect_uri to include in the request. This is required in OAuth 2.0 and optional</span>
<span class="sd">            in OAuth 2.1. Pass `None` if you don&#39;t need any redirect_uri in the Authorization</span>
<span class="sd">            Request.</span>
<span class="sd">        scope: the scope to include in the request, as an iterable of `str`, or a single space-separated `str`.</span>
<span class="sd">        response_type: the response type to include in the request.</span>
<span class="sd">        state: the state to include in the request, or `...` to autogenerate one (default).</span>
<span class="sd">        nonce: the nonce to include in the request, or `...` to autogenerate one (default).</span>
<span class="sd">        code_verifier: the code verifier to include in the request.</span>
<span class="sd">            If left as `None` and `code_challenge_method` is set, a valid code_verifier</span>
<span class="sd">            will be generated.</span>
<span class="sd">        code_challenge_method: the method to use to derive the `code_challenge` from the `code_verifier`.</span>
<span class="sd">        acr_values: requested Authentication Context Class Reference values.</span>
<span class="sd">        issuer: Issuer Identifier value from the OAuth/OIDC Server, if using Server Issuer Identification.</span>
<span class="sd">        **kwargs: extra parameters to include in the request, as-is.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;openid&quot;</span><span class="p">,))</span>
    <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;S256&quot;</span><span class="p">)</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_challenge</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">exception_classes</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;interaction_required&quot;</span><span class="p">:</span> <span class="n">InteractionRequired</span><span class="p">,</span>
        <span class="s2">&quot;login_required&quot;</span><span class="p">:</span> <span class="n">LoginRequired</span><span class="p">,</span>
        <span class="s2">&quot;session_selection_required&quot;</span><span class="p">:</span> <span class="n">SessionSelectionRequired</span><span class="p">,</span>
        <span class="s2">&quot;consent_required&quot;</span><span class="p">:</span> <span class="n">ConsentRequired</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_state</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a random `state` parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">generate_nonce</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a random `nonce`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913, C901</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;When &#39;authorization_response_iss_parameter_supported&#39; is `True`, you must&quot;</span>
                <span class="s2">&quot; provide the expected `issuer` as parameter.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="o">...</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_state</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">state</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

        <span class="k">if</span> <span class="n">nonce</span> <span class="ow">is</span> <span class="o">...</span><span class="p">:</span>
            <span class="n">nonce</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_nonce</span><span class="p">()</span> <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s2">&quot;openid&quot;</span> <span class="ow">in</span> <span class="n">scope</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">nonce</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nonce</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">nonce</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">scope</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">scope</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="o">.</span><span class="n">split</span><span class="p">())</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">max_age</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The `max_age` parameter is a number of seconds and cannot be negative.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;code_challenge&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;A `code_challenge` must not be passed as parameter. Pass the `code_verifier`&quot;</span>
                <span class="s2">&quot; instead, and the appropriate `code_challenge` will automatically be derived&quot;</span>
                <span class="s2">&quot; from it and included in the request, based on `code_challenge_method`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">code_challenge</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">code_challenge_method</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">code_verifier</span><span class="p">:</span>
                <span class="n">code_verifier</span> <span class="o">=</span> <span class="n">PkceUtils</span><span class="o">.</span><span class="n">generate_code_verifier</span><span class="p">()</span>
            <span class="n">code_challenge</span> <span class="o">=</span> <span class="n">PkceUtils</span><span class="o">.</span><span class="n">derive_challenge</span><span class="p">(</span><span class="n">code_verifier</span><span class="p">,</span> <span class="n">code_challenge_method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">code_verifier</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="n">max_age</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;code_challenge&quot;</span><span class="p">,</span> <span class="n">code_challenge</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the full argument dict.</span>

<span class="sd">        This can be used to serialize this request and/or to initialize a similar request.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">args</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a dict with all the query parameters from this AuthorizationRequest.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dict of parameters</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)}</span>
        <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]:</span>
            <span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">])</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">validate_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate an Authorization Response against this Request.</span>

<span class="sd">        Validate a given Authorization Response URI against this Authorization Request, and return</span>
<span class="sd">        an</span>
<span class="sd">        [AuthorizationResponse][requests_oauth2client.authorization_request.AuthorizationResponse].</span>

<span class="sd">        This includes matching the `state` parameter, checking for returned errors, and extracting</span>
<span class="sd">        the returned `code` and other parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the Authorization Response URI. This can be the full URL, or just the</span>
<span class="sd">                query parameters (still encoded as x-www-form-urlencoded).</span>

<span class="sd">        Returns:</span>
<span class="sd">            the extracted code, if all checks are successful</span>

<span class="sd">        Raises:</span>
<span class="sd">            MismatchingIssuer: if the &#39;iss&#39; received from the response does not match the</span>
<span class="sd">                expected value.</span>
<span class="sd">            MismatchingState: if the response `state` does not match the expected value.</span>
<span class="sd">            OAuth2Error: if the response includes an error.</span>
<span class="sd">            MissingAuthCode: if the response does not contain a `code`.</span>
<span class="sd">            NotImplementedError: if response_type anything else than &#39;code&#39;.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="c1"># validate &#39;iss&#39; according to RFC9207</span>
        <span class="n">received_issuer</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iss&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">or</span> <span class="n">received_issuer</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">received_issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingIssuer</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">received_issuer</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">received_issuer</span><span class="p">)</span>

        <span class="c1"># validate state</span>
        <span class="n">requested_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
        <span class="k">if</span> <span class="n">requested_state</span><span class="p">:</span>
            <span class="n">received_state</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">requested_state</span> <span class="o">!=</span> <span class="n">received_state</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MismatchingState</span><span class="p">(</span><span class="n">requested_state</span><span class="p">,</span> <span class="n">received_state</span><span class="p">)</span>

        <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_type</span><span class="p">:</span>
            <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">code</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingAuthCode</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">AuthorizationResponse</span><span class="p">(</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_age</span><span class="p">,</span>
            <span class="o">**</span><span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_request_jwt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignedJwt</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign the `request` object that matches this Authorization Request parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            jwk: the JWK to use to sign the request</span>
<span class="sd">            alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">            lifetime: an optional number of seconds of validity for the signed request.</span>
<span class="sd">                If present, `iat` an `exp` claims will be included in the signed JWT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `Jwt` that contains the signed request object.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign this Authorization Request and return a new one.</span>

<span class="sd">        This replaces all parameters with a signed `request` JWT.</span>

<span class="sd">        Args:</span>
<span class="sd">            jwk: the JWK to use to sign the request</span>
<span class="sd">            alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, don&#39;t use an &#39;exp&#39; claim.</span>
<span class="sd">            kwargs: additional query parameters to include in the signed authorization request</span>

<span class="sd">        Returns:</span>
<span class="sd">            the signed Authorization Request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">request_jwt</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_and_encrypt_request_jwt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JweCompact</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign and encrypt a `request` object for this Authorization Request.</span>

<span class="sd">        The signed `request` will contain the same parameters as this AuthorizationRequest.</span>

<span class="sd">        Args:</span>
<span class="sd">            sign_jwk: the JWK to use to sign the request</span>
<span class="sd">            enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">            sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">            enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">            enc: the encoding to use to encrypt the request.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the signed and encrypted request object, as a `jwskate.Jwt`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign_and_encrypt</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
            <span class="n">sign_key</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
            <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
            <span class="n">enc_key</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
            <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
            <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">sign_and_encrypt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sign and encrypt the current Authorization Request.</span>

<span class="sd">        This replaces all parameters with a matching `request` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            sign_jwk: the JWK to use to sign the request</span>
<span class="sd">            enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">            sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">            enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">            enc: the encoding to use to encrypt the request.</span>
<span class="sd">            lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">                By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `RequestParameterAuthorizationRequest`, with a request object as parameter</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span>
            <span class="n">sign_jwk</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
            <span class="n">enc_jwk</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
            <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
            <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
            <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
            <span class="n">lifetime</span><span class="o">=</span><span class="n">lifetime</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_response_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for Authorization Response errors.</span>

<span class="sd">        Triggered by</span>
<span class="sd">        [validate_callback()][requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback]</span>
<span class="sd">        if the response uri contains an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the Authorization Response URI. This can be the full URL, or just the query parameters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            may return a default code that will be returned by `validate_callback`. But this method</span>
<span class="sd">            will most likely raise exceptions instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">AuthorizationResponseError</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.args" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.args" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return a dict with all the query parameters from this AuthorizationRequest.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a dict of parameters</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.generate_state" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_state</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_state" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a random <code>state</code> parameter.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_state</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random `state` parameter.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.generate_nonce" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">generate_nonce</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.generate_nonce" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a random <code>nonce</code>.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">generate_nonce</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random `nonce`.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.as_dict" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">as_dict</span><span class="p">()</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.as_dict" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the full argument dict.</p>
<p>This can be used to serialize this request and/or to initialize a similar request.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the full argument dict.</span>

<span class="sd">    This can be used to serialize this request and/or to initialize a similar request.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_callback</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Validate an Authorization Response against this Request.</p>
<p>Validate a given Authorization Response URI against this Authorization Request, and return
an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a>.</p>
<p>This includes matching the <code>state</code> parameter, checking for returned errors, and extracting
the returned <code>code</code> and other parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Response URI. This can be the full URL, or just the
query parameters (still encoded as x-www-form-urlencoded).</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the extracted code, if all checks are successful</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MismatchingIssuer" href="#requests_oauth2client.exceptions.MismatchingIssuer">MismatchingIssuer</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the 'iss' received from the response does not match the
expected value.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MismatchingState" href="#requests_oauth2client.exceptions.MismatchingState">MismatchingState</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response <code>state</code> does not match the expected value.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response includes an error.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.MissingAuthCode" href="#requests_oauth2client.exceptions.MissingAuthCode">MissingAuthCode</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the response does not contain a <code>code</code>.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>NotImplementedError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if response_type anything else than 'code'.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate an Authorization Response against this Request.</span>

<span class="sd">    Validate a given Authorization Response URI against this Authorization Request, and return</span>
<span class="sd">    an</span>
<span class="sd">    [AuthorizationResponse][requests_oauth2client.authorization_request.AuthorizationResponse].</span>

<span class="sd">    This includes matching the `state` parameter, checking for returned errors, and extracting</span>
<span class="sd">    the returned `code` and other parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the Authorization Response URI. This can be the full URL, or just the</span>
<span class="sd">            query parameters (still encoded as x-www-form-urlencoded).</span>

<span class="sd">    Returns:</span>
<span class="sd">        the extracted code, if all checks are successful</span>

<span class="sd">    Raises:</span>
<span class="sd">        MismatchingIssuer: if the &#39;iss&#39; received from the response does not match the</span>
<span class="sd">            expected value.</span>
<span class="sd">        MismatchingState: if the response `state` does not match the expected value.</span>
<span class="sd">        OAuth2Error: if the response includes an error.</span>
<span class="sd">        MissingAuthCode: if the response does not contain a `code`.</span>
<span class="sd">        NotImplementedError: if response_type anything else than &#39;code&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="c1"># validate &#39;iss&#39; according to RFC9207</span>
    <span class="n">received_issuer</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iss&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">or</span> <span class="n">received_issuer</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">received_issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingIssuer</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">received_issuer</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">received_issuer</span><span class="p">)</span>

    <span class="c1"># validate state</span>
    <span class="n">requested_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
    <span class="k">if</span> <span class="n">requested_state</span><span class="p">:</span>
        <span class="n">received_state</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">requested_state</span> <span class="o">!=</span> <span class="n">received_state</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingState</span><span class="p">(</span><span class="n">requested_state</span><span class="p">,</span> <span class="n">received_state</span><span class="p">)</span>

    <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_type</span><span class="p">:</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingAuthCode</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">AuthorizationResponse</span><span class="p">(</span>
        <span class="n">code_verifier</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nonce</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acr_values</span><span class="p">,</span>
        <span class="n">max_age</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_age</span><span class="p">,</span>
        <span class="o">**</span><span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.sign_request_jwt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_request_jwt" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Sign the <code>request</code> object that matches this Authorization Request parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided <code>jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an optional number of seconds of validity for the signed request.
If present, <code>iat</code> an <code>exp</code> claims will be included in the signed JWT.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.SignedJwt">SignedJwt</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>Jwt</code> that contains the signed request object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_request_jwt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignedJwt</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign the `request` object that matches this Authorization Request parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        jwk: the JWK to use to sign the request</span>
<span class="sd">        alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">        lifetime: an optional number of seconds of validity for the signed request.</span>
<span class="sd">            If present, `iat` an `exp` claims will be included in the signed JWT.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `Jwt` that contains the signed request object.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
    <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.sign" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Sign this Authorization Request and return a new one.</p>
<p>This replaces all parameters with a signed <code>request</code> JWT.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided <code>jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, don't use an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional query parameters to include in the signed authorization request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest">RequestParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the signed Authorization Request</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign this Authorization Request and return a new one.</span>

<span class="sd">    This replaces all parameters with a signed `request` JWT.</span>

<span class="sd">    Args:</span>
<span class="sd">        jwk: the JWK to use to sign the request</span>
<span class="sd">        alg: the alg to use to sign the request, if the provided `jwk` has no `alg` parameter.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, don&#39;t use an &#39;exp&#39; claim.</span>
<span class="sd">        kwargs: additional query parameters to include in the signed authorization request</span>

<span class="sd">    Returns:</span>
<span class="sd">        the signed Authorization Request</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_request_jwt</span><span class="p">(</span><span class="n">jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="n">request_jwt</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt_request_jwt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span><span class="n">sign_jwk</span><span class="p">,</span> <span class="n">enc_jwk</span><span class="p">,</span> <span class="n">sign_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc</span><span class="o">=</span><span class="s1">&#39;A128CBC-HS256&#39;</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt_request_jwt" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Sign and encrypt a <code>request</code> object for this Authorization Request.</p>
<p>The signed <code>request</code> will contain the same parameters as this AuthorizationRequest.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sign_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>enc_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to encrypt the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sign_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if <code>sign_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to encrypt the request, if <code>enc_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the encoding to use to encrypt the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;A128CBC-HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, do not include an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.JweCompact">JweCompact</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the signed and encrypted request object, as a <code>jwskate.Jwt</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_and_encrypt_request_jwt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JweCompact</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign and encrypt a `request` object for this Authorization Request.</span>

<span class="sd">    The signed `request` will contain the same parameters as this AuthorizationRequest.</span>

<span class="sd">    Args:</span>
<span class="sd">        sign_jwk: the JWK to use to sign the request</span>
<span class="sd">        enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">        sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">        enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">        enc: the encoding to use to encrypt the request.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the signed and encrypted request object, as a `jwskate.Jwt`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">claims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
    <span class="k">if</span> <span class="n">lifetime</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">lifetime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign_and_encrypt</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
        <span class="n">sign_key</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
        <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
        <span class="n">enc_key</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
        <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">sign_and_encrypt</span><span class="p">(</span><span class="n">sign_jwk</span><span class="p">,</span> <span class="n">enc_jwk</span><span class="p">,</span> <span class="n">sign_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc_alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enc</span><span class="o">=</span><span class="s1">&#39;A128CBC-HS256&#39;</span><span class="p">,</span> <span class="n">lifetime</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.sign_and_encrypt" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Sign and encrypt the current Authorization Request.</p>
<p>This replaces all parameters with a matching <code>request</code> object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sign_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>enc_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to encrypt the request</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sign_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if <code>sign_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc_alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to encrypt the request, if <code>enc_jwk</code> has no <code>alg</code> parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enc</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the encoding to use to encrypt the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;A128CBC-HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>lifetime of the resulting Jwt (used to calculate the 'exp' claim).
By default, do not include an 'exp' claim.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest">RequestParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>RequestParameterAuthorizationRequest</code>, with a request object as parameter</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sign_and_encrypt</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sign_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">enc_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">sign_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;A128CBC-HS256&quot;</span><span class="p">,</span>
    <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sign and encrypt the current Authorization Request.</span>

<span class="sd">    This replaces all parameters with a matching `request` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        sign_jwk: the JWK to use to sign the request</span>
<span class="sd">        enc_jwk: the JWK to use to encrypt the request</span>
<span class="sd">        sign_alg: the alg to use to sign the request, if `sign_jwk` has no `alg` parameter.</span>
<span class="sd">        enc_alg: the alg to use to encrypt the request, if `enc_jwk` has no `alg` parameter.</span>
<span class="sd">        enc: the encoding to use to encrypt the request.</span>
<span class="sd">        lifetime: lifetime of the resulting Jwt (used to calculate the &#39;exp&#39; claim).</span>
<span class="sd">            By default, do not include an &#39;exp&#39; claim.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `RequestParameterAuthorizationRequest`, with a request object as parameter</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">request_jwt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign_and_encrypt_request_jwt</span><span class="p">(</span>
        <span class="n">sign_jwk</span><span class="o">=</span><span class="n">sign_jwk</span><span class="p">,</span>
        <span class="n">enc_jwk</span><span class="o">=</span><span class="n">enc_jwk</span><span class="p">,</span>
        <span class="n">sign_alg</span><span class="o">=</span><span class="n">sign_alg</span><span class="p">,</span>
        <span class="n">enc_alg</span><span class="o">=</span><span class="n">enc_alg</span><span class="p">,</span>
        <span class="n">enc</span><span class="o">=</span><span class="n">enc</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="o">=</span><span class="n">lifetime</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">RequestParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">request_jwt</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequest.on_response_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_response_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequest.on_response_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for Authorization Response errors.</p>
<p>Triggered by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback">validate_callback()</a>
if the response uri contains an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Response URI. This can be the full URL, or just the query parameters.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>may return a default code that will be returned by <code>validate_callback</code>. But this method</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>will most likely raise exceptions instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_response_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for Authorization Response errors.</span>

<span class="sd">    Triggered by</span>
<span class="sd">    [validate_callback()][requests_oauth2client.authorization_request.AuthorizationRequest.validate_callback]</span>
<span class="sd">    if the response uri contains an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the Authorization Response URI. This can be the full URL, or just the query parameters.</span>

<span class="sd">    Returns:</span>
<span class="sd">        may return a default code that will be returned by `validate_callback`. But this method</span>
<span class="sd">        will most likely raise exceptions instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="n">error</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
    <span class="n">error_description</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
    <span class="n">error_uri</span> <span class="o">=</span> <span class="n">response_url</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
    <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">AuthorizationResponseError</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" class="doc doc-heading">
          <code>RequestParameterAuthorizationRequest</code>


<a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request that includes a <code>request</code> JWT.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>request</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the request JWT</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for this request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RequestParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request that includes a `request` JWT.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint uri</span>
<span class="sd">        client_id: the client_id</span>
<span class="sd">        request: the request JWT</span>
<span class="sd">        expires_at: the expiration date for this request</span>
<span class="sd">        kwargs: extra parameters to include in the request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">request</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">request</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl` instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.</span>

<span class="sd">        Returns:</span>
<span class="sd">             the Authorization Request URI</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code> instance.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.RequestParameterAuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" class="doc doc-heading">
          <code>RequestUriParameterAuthorizationRequest</code>


<a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent an Authorization Request that includes a <code>request_uri</code> parameter.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>request_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the request_uri</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for this request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>extra parameters to include in the request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an Authorization Request that includes a `request_uri` parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint uri</span>
<span class="sd">        client_id: the client_id</span>
<span class="sd">        request_uri: the request_uri</span>
<span class="sd">        expires_at: the expiration date for this request</span>
<span class="sd">        kwargs: extra parameters to include in the request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">request_uri</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">request_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">furl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">furl</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `furl` instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">furl</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="s2">&quot;request_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_uri</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">furl</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow attribute access to extra parameters.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Authorization Request URI, as a `str`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.furl" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">furl</span><span class="p">:</span> <span class="n">furl</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.furl" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>furl</code> instance.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest.uri" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the Authorization Request URI, as a <code>str</code>.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.authorization_request.AuthorizationRequestSerializer" class="doc doc-heading">
          <code>AuthorizationRequestSerializer</code>


<a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>(De)Serializer for <code>AuthorizationRequest</code> instances.</p>
<p>You might need to store pending authorization requests in session, either server-side or client-
side. This class is here to help you do that.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationRequestSerializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;(De)Serializer for `AuthorizationRequest` instances.</span>

<span class="sd">    You might need to store pending authorization requests in session, either server-side or client-</span>
<span class="sd">    side. This class is here to help you do that.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dumper</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">AuthorizationRequest</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">loader</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span> <span class="o">=</span> <span class="n">dumper</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_dumper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">loader</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_loader</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a default dumper implementation.</span>

<span class="sd">        Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as</span>
<span class="sd">        base64url.</span>

<span class="sd">        Args:</span>
<span class="sd">            azr: the `AuthorizationRequest` to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span>
        <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">azr_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthorizationRequest</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a default deserializer implementation.</span>

<span class="sd">        This does the opposite operations than `default_dumper`.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized AuthorizationRequest</span>
<span class="sd">            azr_class: the class to deserialize the Authorization Request to</span>

<span class="sd">        Returns:</span>
<span class="sd">            an AuthorizationRequest</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">azr_class</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given AuthorizationRequest for easier storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            azr: an AuthorizationRequest to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized AuthorizationRequest, as a str</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized AuthorizationRequest.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized AuthorizationRequest</span>

<span class="sd">        Returns:</span>
<span class="sd">            the deserialized AuthorizationRequest</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_dumper" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_dumper" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Provide a default dumper implementation.</p>
<p>Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as
base64url.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>azr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>AuthorizationRequest</code> to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized value</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a default dumper implementation.</span>

<span class="sd">    Serialize an AuthorizationRequest as JSON, then compress with deflate, then encodes as</span>
<span class="sd">    base64url.</span>

<span class="sd">    Args:</span>
<span class="sd">        azr: the `AuthorizationRequest` to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized value</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_loader" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">azr_class</span><span class="o">=</span><span class="n">AuthorizationRequest</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.default_loader" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Provide a default deserializer implementation.</p>
<p>This does the opposite operations than <code>default_dumper</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>azr_class</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the class to deserialize the Authorization Request to</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span>
    <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">azr_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">AuthorizationRequest</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthorizationRequest</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a default deserializer implementation.</span>

<span class="sd">    This does the opposite operations than `default_dumper`.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized AuthorizationRequest</span>
<span class="sd">        azr_class: the class to deserialize the Authorization Request to</span>

<span class="sd">    Returns:</span>
<span class="sd">        an AuthorizationRequest</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">azr_class</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequestSerializer.dumps" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">dumps</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.dumps" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Serialize and compress a given AuthorizationRequest for easier storage.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>azr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest, as a str</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given AuthorizationRequest for easier storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        azr: an AuthorizationRequest to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized AuthorizationRequest, as a str</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">azr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.authorization_request.AuthorizationRequestSerializer.loads" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">loads</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span></code>

<a href="#requests_oauth2client.authorization_request.AuthorizationRequestSerializer.loads" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Deserialize a serialized AuthorizationRequest.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized AuthorizationRequest</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the deserialized AuthorizationRequest</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/authorization_request.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized AuthorizationRequest.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized AuthorizationRequest</span>

<span class="sd">    Returns:</span>
<span class="sd">        the deserialized AuthorizationRequest</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.backchannel_authentication" class="doc doc-heading">
          <code>backchannel_authentication</code>


<a href="#requests_oauth2client.backchannel_authentication" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Implementation of CIBA.</p>
<p>CIBA stands for Client Initiated BackChannel Authentication and is standardised by the OpenID
Fundation.
https://openid.net/specs/openid-client-initiated-backchannel-
authentication-core-1_0.html.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" class="doc doc-heading">
          <code>BackChannelAuthenticationResponse</code>


<a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent a BackChannel Authentication Response.</p>
<p>This contains all the parameters that are returned by the AS as a result of a BackChannel
Authentication Request, such as <code>auth_req_id</code> (required), and the optional <code>expires_at</code>,
<code>interval</code>, and/or any custom parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>auth_req_id</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the date when the <code>auth_req_id</code> expires.
Note that this request also accepts an <code>expires_in</code> parameter, in seconds.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Token Endpoint pooling interval, in seconds, as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>any additional custom parameters as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a BackChannel Authentication Response.</span>

<span class="sd">    This contains all the parameters that are returned by the AS as a result of a BackChannel</span>
<span class="sd">    Authentication Request, such as `auth_req_id` (required), and the optional `expires_at`,</span>
<span class="sd">    `interval`, and/or any custom parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_req_id: the `auth_req_id` as returned by the AS.</span>
<span class="sd">        expires_at: the date when the `auth_req_id` expires.</span>
<span class="sd">            Note that this request also accepts an `expires_in` parameter, in seconds.</span>
<span class="sd">        interval: the Token Endpoint pooling interval, in seconds, as returned by the AS.</span>
<span class="sd">        **kwargs: any additional custom parameters as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return `True` if the `auth_req_id` within this response is expired.</span>

<span class="sd">        Expiration is evaluated at the time of the call. If there is no &quot;expires_at&quot; hint (which is</span>
<span class="sd">        derived from the `expires_in` hint returned by the AS BackChannel Authentication endpoint),</span>
<span class="sd">        this will return `None`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the auth_req_id is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">            no `expires_in` hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return attributes from this `BackChannelAuthenticationResponse`.</span>

<span class="sd">        Allows accessing response parameters with `token_response.expires_in` or</span>
<span class="sd">        `token_response.any_custom_attribute`.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: a key</span>

<span class="sd">        Returns:</span>
<span class="sd">            the associated value in this token response</span>

<span class="sd">        Raises:</span>
<span class="sd">            AttributeError: if the attribute is not present in the response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;expires_in&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse.is_expired" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return <code>True</code> if the <code>auth_req_id</code> within this response is expired.</p>
<p>Expiration is evaluated at the time of the call. If there is no "expires_at" hint (which is
derived from the <code>expires_in</code> hint returned by the AS BackChannel Authentication endpoint),
this will return <code>None</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the auth_req_id is expired, <code>False</code> if it is still valid, <code>None</code> if there is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>no <code>expires_in</code> hint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return `True` if the `auth_req_id` within this response is expired.</span>

<span class="sd">    Expiration is evaluated at the time of the call. If there is no &quot;expires_at&quot; hint (which is</span>
<span class="sd">    derived from the `expires_in` hint returned by the AS BackChannel Authentication endpoint),</span>
<span class="sd">    this will return `None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the auth_req_id is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">        no `expires_in` hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob" class="doc doc-heading">
          <code>BackChannelAuthenticationPoolingJob</code>


<a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.pooling.TokenEndpointPoolingJob" href="#requests_oauth2client.pooling.TokenEndpointPoolingJob">TokenEndpointPoolingJob</a></code></p>

  
      <p>A pooling job for the BackChannel Authentication flow.</p>
<p>This will poll the Token Endpoint until the user finishes with its authentication.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client that will be used to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>auth_req_id</code> as <code>str</code> or a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pooling interval to use. This overrides the one in <code>auth_req_id</code> if it is
a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of seconds to add to the pooling interval when the AS returns
a slow down request.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the token request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>auth=("client_id", "client_secret") ) pool_job = BackChannelAuthenticationPoolingJob(
client=client, auth_req_id="my_auth_req_id" )</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>token = None while token is None: token = pool_job() ```
</code></pre></div></td></tr></table></div>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationPoolingJob</span><span class="p">(</span><span class="n">TokenEndpointPoolingJob</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pooling job for the BackChannel Authentication flow.</span>

<span class="sd">    This will poll the Token Endpoint until the user finishes with its authentication.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client that will be used to pool the token endpoint.</span>
<span class="sd">        auth_req_id: an `auth_req_id` as `str` or a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        interval: The pooling interval to use. This overrides the one in `auth_req_id` if it is</span>
<span class="sd">            a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        slow_down_interval: Number of seconds to add to the pooling interval when the AS returns</span>
<span class="sd">            a slow down request.</span>
<span class="sd">        requests_kwargs: Additional parameters for the underlying calls to [requests.request][].</span>
<span class="sd">        **token_kwargs: Additional parameters for the token request.</span>

<span class="sd">    Usage: ```python client = OAuth2Client( token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">    auth=(&quot;client_id&quot;, &quot;client_secret&quot;) ) pool_job = BackChannelAuthenticationPoolingJob(</span>
<span class="sd">    client=client, auth_req_id=&quot;my_auth_req_id&quot; )</span>

<span class="sd">        token = None while token is None: token = pool_job() ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">)</span> <span class="ow">and</span> <span class="n">interval</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">interval</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">interval</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">slow_down_interval</span><span class="o">=</span><span class="n">slow_down_interval</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the CIBA token request.</span>

<span class="sd">        This actually calls [OAuth2Client.ciba(auth_req_id)] on `client`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ciba</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>

<a href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Implement the CIBA token request.</p>
<p>This actually calls [OAuth2Client.ciba(auth_req_id)] on <code>client</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/backchannel_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the CIBA token request.</span>

<span class="sd">    This actually calls [OAuth2Client.ciba(auth_req_id)] on `client`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ciba</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.client" class="doc doc-heading">
          <code>client</code>


<a href="#requests_oauth2client.client" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module contains the <code>OAuth2Client</code> class.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client.OAuth2Client" class="doc doc-heading">
          <code>OAuth2Client</code>


<a href="#requests_oauth2client.client.OAuth2Client" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>An OAuth 2.x Client, that can send requests to an OAuth 2.x Authorization Server.</p>
<p><code>OAuth2Client</code> is able to obtain tokens from the Token Endpoint using any of the standardised
Grant Types, and to communicate with the various backend endpoints like the Revocation,
Introspection, and UserInfo Endpoint.</p>
<p>To init an OAuth2Client, you only need the url to the Token Endpoint and the Credentials
(a client_id and one of a secret or private_key) that will be used to authenticate to that endpoint.
Other endpoint urls, such as the Authorization Endpoint, Revocation Endpoint, etc. can be passed as
parameter as well if you intend to use them.</p>
<p>This class is not intended to help with the end-user authentication or any request that goes in
a browser. For authentication requests, see
<a class="autorefs autorefs-internal" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a>. You
may use the method <code>authorization_request()</code> to generate <code>AuthorizationRequest</code>s with the
preconfigured <code>authorization_endpoint</code>, <code>client_id</code> and `redirect_uri' from this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token_endpoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Token Endpoint URI where this client will get access tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | tuple[str, <span title="jwskate.Jwk">Jwk</span>] | tuple[str, dict[str, <span title="typing.Any">Any</span>]] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication on the token endpoint.
Can be:</p>
<ul>
<li>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">requests.auth.AuthBase</a> instance (which will be used as-is)</li>
<li>a tuple of <code>(client_id, client_secret)</code> which will initialize an instance
of <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.ClientSecretPost">ClientSecretPost</a></li>
<li>a <code>(client_id, jwk)</code> to initialize
a <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.PrivateKeyJwt">PrivateKeyJwt</a>,</li>
<li>or a <code>client_id</code> which will
use <a class="autorefs autorefs-internal" href="#requests_oauth2client.client_authentication.PublicApp">PublicApp</a> authentication.</li>
</ul>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private_key to use for client authentication (use either this or <code>auth</code>)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>revocation_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Revocation Endpoint URI to use for revoking tokens</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>introspection_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Introspection Endpoint URI to use to get info about tokens</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>userinfo_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Userinfo Endpoint URI to use to get information about the user</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>authorization_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Authorization Endpoint URI, used for initializing Authorization Requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the redirect_uri for this client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>backchannel_authentication_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the BackChannel Authentication URI</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>device_authorization_endpoint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Device Authorization Endpoint URI to use to authorize devices</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>jwks_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWKS URI to use to obtain the AS public keys</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>code_challenge_method</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>challenge method to use for PKCE (should always be 'S256')</p>
            </div>
          </td>
          <td>
                <code>&#39;S256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a requests Session to use when sending HTTP requests.
Useful if some extra parameters such as proxy or client certificate must be used
to connect to the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, don't verify the validity of the endpoint urls that are passed as parameter.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**extra_metadata</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional metadata for this client, unused by this class, but may be
used by subclasses. Those will be accessible with the <code>extra_metadata</code> attribute.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">OAuth2Client</span><span class="p">(</span>
    <span class="n">token_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/token&quot;</span><span class="p">,</span>
    <span class="n">revocation_endpoint</span><span class="o">=</span><span class="s2">&quot;https://my.as.local/revoke&quot;</span><span class="p">,</span>
    <span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;client_id&quot;</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="o">=</span><span class="s2">&quot;client_secret&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># once initialized, a client can send requests to its configured endpoints</span>
<span class="n">cc_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_credentials</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my_scope&quot;</span><span class="p">)</span>
<span class="n">ac_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s2">&quot;my_code&quot;</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">revoke_access_token</span><span class="p">(</span><span class="n">cc_token</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An OAuth 2.x Client, that can send requests to an OAuth 2.x Authorization Server.</span>

<span class="sd">    `OAuth2Client` is able to obtain tokens from the Token Endpoint using any of the standardised</span>
<span class="sd">    Grant Types, and to communicate with the various backend endpoints like the Revocation,</span>
<span class="sd">    Introspection, and UserInfo Endpoint.</span>

<span class="sd">    To init an OAuth2Client, you only need the url to the Token Endpoint and the Credentials</span>
<span class="sd">    (a client_id and one of a secret or private_key) that will be used to authenticate to that endpoint.</span>
<span class="sd">    Other endpoint urls, such as the Authorization Endpoint, Revocation Endpoint, etc. can be passed as</span>
<span class="sd">    parameter as well if you intend to use them.</span>


<span class="sd">    This class is not intended to help with the end-user authentication or any request that goes in</span>
<span class="sd">    a browser. For authentication requests, see</span>
<span class="sd">    [AuthorizationRequest][requests_oauth2client.authorization_request.AuthorizationRequest]. You</span>
<span class="sd">    may use the method `authorization_request()` to generate `AuthorizationRequest`s with the</span>
<span class="sd">    preconfigured `authorization_endpoint`, `client_id` and `redirect_uri&#39; from this client.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_endpoint: the Token Endpoint URI where this client will get access tokens</span>
<span class="sd">        auth: the authentication handler to use for client authentication on the token endpoint.</span>
<span class="sd">            Can be:</span>

<span class="sd">            - a [requests.auth.AuthBase][] instance (which will be used as-is)</span>
<span class="sd">            - a tuple of `(client_id, client_secret)` which will initialize an instance</span>
<span class="sd">            of [ClientSecretPost][requests_oauth2client.client_authentication.ClientSecretPost]</span>
<span class="sd">            - a `(client_id, jwk)` to initialize</span>
<span class="sd">            a [PrivateKeyJwt][requests_oauth2client.client_authentication.PrivateKeyJwt],</span>
<span class="sd">            - or a `client_id` which will</span>
<span class="sd">            use [PublicApp][requests_oauth2client.client_authentication.PublicApp] authentication.</span>

<span class="sd">        client_id: client ID (use either this or `auth`)</span>
<span class="sd">        client_secret: client secret (use either this or `auth`)</span>
<span class="sd">        private_key: private_key to use for client authentication (use either this or `auth`)</span>
<span class="sd">        revocation_endpoint: the Revocation Endpoint URI to use for revoking tokens</span>
<span class="sd">        introspection_endpoint: the Introspection Endpoint URI to use to get info about tokens</span>
<span class="sd">        userinfo_endpoint: the Userinfo Endpoint URI to use to get information about the user</span>
<span class="sd">        authorization_endpoint: the Authorization Endpoint URI, used for initializing Authorization Requests</span>
<span class="sd">        redirect_uri: the redirect_uri for this client</span>
<span class="sd">        backchannel_authentication_endpoint: the BackChannel Authentication URI</span>
<span class="sd">        device_authorization_endpoint: the Device Authorization Endpoint URI to use to authorize devices</span>
<span class="sd">        jwks_uri: the JWKS URI to use to obtain the AS public keys</span>
<span class="sd">        code_challenge_method: challenge method to use for PKCE (should always be &#39;S256&#39;)</span>
<span class="sd">        session: a requests Session to use when sending HTTP requests.</span>
<span class="sd">            Useful if some extra parameters such as proxy or client certificate must be used</span>
<span class="sd">            to connect to the AS.</span>
<span class="sd">        testing: if `True`, don&#39;t verify the validity of the endpoint urls that are passed as parameter.</span>
<span class="sd">        **extra_metadata: additional metadata for this client, unused by this class, but may be</span>
<span class="sd">            used by subclasses. Those will be accessible with the `extra_metadata` attribute.</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        client = OAuth2Client(</span>
<span class="sd">            token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">            revocation_endpoint=&quot;https://my.as.local/revoke&quot;,</span>
<span class="sd">            client_id=&quot;client_id&quot;,</span>
<span class="sd">            client_secret=&quot;client_secret&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        # once initialized, a client can send requests to its configured endpoints</span>
<span class="sd">        cc_token = client.client_credentials(scope=&quot;my_scope&quot;)</span>
<span class="sd">        ac_token = client.authorization_code(code=&quot;my_code&quot;)</span>
<span class="sd">        client.revoke_access_token(cc_token)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">converter</span><span class="o">=</span><span class="n">client_auth_factory</span><span class="p">)</span>
    <span class="n">token_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">revocation_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">introspection_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">userinfo_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">backchannel_authentication_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">device_authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">pushed_authorization_request_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">jwks_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">id_token_signed_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span>
    <span class="n">id_token_encrypted_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">id_token_decryption_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span>
    <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">)</span>
    <span class="n">extra_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">bearer_token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span>

    <span class="n">exception_classes</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;server_error&quot;</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
        <span class="s2">&quot;invalid_request&quot;</span><span class="p">:</span> <span class="n">InvalidRequest</span><span class="p">,</span>
        <span class="s2">&quot;invalid_client&quot;</span><span class="p">:</span> <span class="n">InvalidClient</span><span class="p">,</span>
        <span class="s2">&quot;invalid_scope&quot;</span><span class="p">:</span> <span class="n">InvalidScope</span><span class="p">,</span>
        <span class="s2">&quot;invalid_target&quot;</span><span class="p">:</span> <span class="n">InvalidTarget</span><span class="p">,</span>
        <span class="s2">&quot;invalid_grant&quot;</span><span class="p">:</span> <span class="n">InvalidGrant</span><span class="p">,</span>
        <span class="s2">&quot;access_denied&quot;</span><span class="p">:</span> <span class="n">AccessDenied</span><span class="p">,</span>
        <span class="s2">&quot;unauthorized_client&quot;</span><span class="p">:</span> <span class="n">UnauthorizedClient</span><span class="p">,</span>
        <span class="s2">&quot;authorization_pending&quot;</span><span class="p">:</span> <span class="n">AuthorizationPending</span><span class="p">,</span>
        <span class="s2">&quot;slow_down&quot;</span><span class="p">:</span> <span class="n">SlowDown</span><span class="p">,</span>
        <span class="s2">&quot;expired_token&quot;</span><span class="p">:</span> <span class="n">ExpiredToken</span><span class="p">,</span>
        <span class="s2">&quot;unsupported_token_type&quot;</span><span class="p">:</span> <span class="n">UnsupportedTokenType</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">backchannel_authentication_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">device_authorization_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pushed_authorization_request_endpoint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_signed_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span><span class="p">,</span>
        <span class="n">id_token_encrypted_response_alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_decryption_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">bearer_token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">extra_metadata</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">authorization_response_iss_parameter_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;If the Authorization Server supports Issuer Identification, as specified by&quot;</span>
                <span class="s2">&quot; `authorization_response_iss_parameter_supported=True`, then you must specify&quot;</span>
                <span class="s2">&quot; the expected `issuer` value with parameter `issuer`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">auth</span> <span class="o">=</span> <span class="n">client_auth_factory</span><span class="p">(</span>
            <span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">default_auth_handler</span><span class="o">=</span><span class="n">ClientSecretPost</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">authorization_server_jwks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">authorization_server_jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">()</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">authorization_server_jwks</span><span class="p">,</span> <span class="n">JwkSet</span><span class="p">):</span>
            <span class="n">authorization_server_jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">authorization_server_jwks</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token_decryption_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">id_token_decryption_key</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">):</span>
            <span class="n">id_token_decryption_key</span> <span class="o">=</span> <span class="n">Jwk</span><span class="p">(</span><span class="n">id_token_decryption_key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token_decryption_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">alg</span><span class="p">:</span>
                <span class="n">id_token_encrypted_response_alg</span> <span class="o">=</span> <span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">alg</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;An ID Token decryption key has been provided but no decryption algorithm is defined.&quot;</span>
                    <span class="s2">&quot; You can either pass an `id_token_encrypted_response_alg` parameter with the alg identifier,&quot;</span>
                    <span class="s2">&quot; or include an `alg` attribute in the decryption key, if it is in Jwk format.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">session</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">backchannel_authentication_endpoint</span><span class="o">=</span><span class="n">backchannel_authentication_endpoint</span><span class="p">,</span>
            <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="n">device_authorization_endpoint</span><span class="p">,</span>
            <span class="n">pushed_authorization_request_endpoint</span><span class="o">=</span><span class="n">pushed_authorization_request_endpoint</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">id_token_signed_response_alg</span><span class="o">=</span><span class="n">id_token_signed_response_alg</span><span class="p">,</span>
            <span class="n">id_token_encrypted_response_alg</span><span class="o">=</span><span class="n">id_token_encrypted_response_alg</span><span class="p">,</span>
            <span class="n">id_token_decryption_key</span><span class="o">=</span><span class="n">id_token_decryption_key</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">bearer_token_class</span><span class="o">=</span><span class="n">bearer_token_class</span><span class="p">,</span>
            <span class="n">extra_metadata</span><span class="o">=</span><span class="n">extra_metadata</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@token_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@revocation_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@introspection_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@userinfo_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@backchannel_authentication_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@device_authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@pushed_authorization_request_endpoint</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@jwks_uri</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">validate_endpoint_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that an endpoint URI is suitable for use.</span>

<span class="sd">        If you need to disable some checks (for AS testing purposes only!), provide a different</span>
<span class="sd">        method here.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">uri</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="nd">@issuer</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">validate_issuer_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that an Issuer identifier is suitable for use.</span>

<span class="sd">        This is the same check as an endpoint URI, but the path may be (and usually is) empty.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">uri</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Client ID.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="s2">&quot;client_id&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">client_id</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This client uses a custom authentication method without client_id.&quot;</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Client Secret.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">client_secret</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_jwks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A `JwkSet` containing the public keys for this client.</span>

<span class="sd">        Keys are:</span>

<span class="sd">        - the public key for client assertion signature verification (if using private_key_jwt)</span>
<span class="sd">        - the ID Token encryption key</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span> <span class="n">PrivateKeyJwt</span><span class="p">):</span>
            <span class="n">jwks</span><span class="o">.</span><span class="n">add_jwk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">private_jwk</span><span class="o">.</span><span class="n">public_jwk</span><span class="p">()</span><span class="o">.</span><span class="n">with_usage_parameters</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token_decryption_key</span><span class="p">:</span>
            <span class="n">jwks</span><span class="o">.</span><span class="n">add_jwk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_token_decryption_key</span><span class="o">.</span><span class="n">public_jwk</span><span class="p">()</span><span class="o">.</span><span class="n">with_usage_parameters</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">jwks</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">on_success</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">T</span><span class="p">],</span>
        <span class="n">on_failure</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">],</span> <span class="n">T</span><span class="p">],</span>
        <span class="n">accept</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to one of the endpoints.</span>

<span class="sd">        This is a helper method that takes care of the following tasks:</span>

<span class="sd">        - make sure the endpoint as been configured</span>
<span class="sd">        - set `Accept: application/json` header</span>
<span class="sd">        - send the HTTP POST request, then</span>
<span class="sd">            - apply `on_success` to a successful response</span>
<span class="sd">            - or apply `on_failure` otherwise</span>
<span class="sd">        - return the result</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: name of the endpoint to use</span>
<span class="sd">            on_success: a callable to apply to successful responses</span>
<span class="sd">            on_failure: a callable to apply to error responses</span>
<span class="sd">            accept: the Accept header to include in the request</span>
<span class="sd">            method: the HTTP method to use</span>
<span class="sd">            **requests_kwargs: keyword arguments for the request</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">requests_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">requests_kwargs</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">][</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">accept</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
            <span class="n">method</span><span class="p">,</span>
            <span class="n">endpoint_uri</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">on_success</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">on_failure</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint.</span>

<span class="sd">        Authentication will be added automatically based on the defined `auth` for this client.</span>

<span class="sd">        Args:</span>
<span class="sd">          data: parameters to send to the token endpoint. Items with a `None`</span>
<span class="sd">               or empty value will not be sent in the request.</span>
<span class="sd">          timeout: a timeout value for the call</span>
<span class="sd">          **requests_kwargs: additional parameters for requests.post()</span>

<span class="sd">        Returns:</span>
<span class="sd">            the token endpoint response, as</span>
<span class="sd">            [`BearerToken`][requests_oauth2client.tokens.BearerToken] instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;token_endpoint&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_token_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_token_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a Response returned by the Token Endpoint.</span>

<span class="sd">        Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] to parse</span>
<span class="sd">        responses returned by the Token Endpoint. Those responses contain an `access_token` and</span>
<span class="sd">        additional attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [`BearerToken`][requests_oauth2client.tokens.BearerToken] based on the response</span>
<span class="sd">            contents.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">token_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bearer_token_class</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">response_class_exc</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">token_error_exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">token_error_exc</span> <span class="kn">from</span> <span class="nn">response_class_exc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">token_response</span>

    <span class="k">def</span> <span class="nf">on_token_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `token_request()`.</span>

<span class="sd">        Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] when the</span>
<span class="sd">        Token Endpoint returns an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            nothing, and raises an exception instead. But a subclass may return a</span>
<span class="sd">            [`BearerToken`][requests_oauth2client.tokens.BearerToken] to implement a default</span>
<span class="sd">            behaviour if needed.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidTokenResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">client_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the `client_credentials` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            scope: the scope to send with the request. Can be a str, or an iterable of str.</span>
<span class="sd">                to pass that way include `scope`, `audience`, `resource`, etc.</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`. Common parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            a TokenResponse</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported scope value&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_CREDENTIALS</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">authorization_code</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `authorization_code` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">             code: an authorization code or an `AuthorizationResponse` to exchange for tokens</span>
<span class="sd">             validate: if `True`, validate the received ID Token (this works only if `code` is an AuthorizationResponse)</span>
<span class="sd">             requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">             **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `code`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
            <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">)</span>
            <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">)</span>
            <span class="n">azr</span> <span class="o">=</span> <span class="n">code</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">code</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">AUTHORIZATION_CODE</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">validate</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">id_token</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">azr</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `refresh_token` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh_token: a refresh_token, as a string, or as a `BearerToken`.</span>
<span class="sd">                That `BearerToken` must have a `refresh_token`.</span>
<span class="sd">            requests_kwargs: additional parameters for the call to `requests`</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint,</span>
<span class="sd">                alongside `grant_type`, `refresh_token`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This BearerToken doesn&#39;t have a refresh_token&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">device_code</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the Device Code grant.</span>

<span class="sd">        The grant_type is `urn:ietf:params:oauth:grant-type:device_code`. This needs a Device Code,</span>
<span class="sd">        or a `DeviceAuthorizationResponse` as parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            device_code: a device code, or a `DeviceAuthorizationResponse`</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `device_code`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This DeviceAuthorizationResponse doesn&#39;t have a device_code&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">DEVICE_CODE</span><span class="p">,</span>
            <span class="n">device_code</span><span class="o">=</span><span class="n">device_code</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ciba</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a CIBA request to the Token Endpoint.</span>

<span class="sd">        A CIBA request is a Token Request using the `urn:openid:params:grant-type:ciba` grant.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_req_id: an authentication request ID, as returned by the AS</span>
<span class="sd">            requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">            **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `auth_req_id`, etc.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This `BackChannelAuthenticationResponse` doesn&#39;t have an `auth_req_id`&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span><span class="p">,</span>
            <span class="n">auth_req_id</span><span class="o">=</span><span class="n">auth_req_id</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">token_exchange</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">subject_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span><span class="p">,</span>
        <span class="n">subject_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">actor_token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">actor_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requested_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Token Exchange request.</span>

<span class="sd">        A Token Exchange request is actually a request to the Token Endpoint with a grant_type</span>
<span class="sd">        `urn:ietf:params:oauth:grant-type:token-exchange`.</span>

<span class="sd">        Args:</span>
<span class="sd">            subject_token: the subject token to exchange for a new token.</span>
<span class="sd">            subject_token_type: a token type identifier for the subject_token, mandatory if it cannot be guessed based</span>
<span class="sd">                on `type(subject_token)`.</span>
<span class="sd">            actor_token: the actor token to include in the request, if any.</span>
<span class="sd">            actor_token_type: a token type identifier for the actor_token, mandatory if it cannot be guessed based</span>
<span class="sd">                on `type(actor_token)`.</span>
<span class="sd">            requested_token_type: a token type identifier for the requested token.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">subject_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">subject_token_type</span><span class="p">,</span> <span class="n">subject_token</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;subject_token&#39; you provided. Please specify a &#39;subject_token_type&#39;.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">actor_token</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">actor_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">actor_token_type</span><span class="p">,</span> <span class="n">actor_token</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;actor_token&#39; you provided. Please specify an &#39;actor_token_type&#39;.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">TOKEN_EXCHANGE</span><span class="p">,</span>
            <span class="n">subject_token</span><span class="o">=</span><span class="n">subject_token</span><span class="p">,</span>
            <span class="n">subject_token_type</span><span class="o">=</span><span class="n">subject_token_type</span><span class="p">,</span>
            <span class="n">actor_token</span><span class="o">=</span><span class="n">actor_token</span><span class="p">,</span>
            <span class="n">actor_token_type</span><span class="o">=</span><span class="n">actor_token_type</span><span class="p">,</span>
            <span class="n">requested_token_type</span><span class="o">=</span><span class="n">requested_token_type</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">jwt_bearer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">assertion</span><span class="p">:</span> <span class="n">Jwt</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request using a JWT as authorization grant.</span>

<span class="sd">        This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</span>

<span class="sd">        Args:</span>
<span class="sd">            assertion: a JWT (as an instance of `jwskate.Jwt` or as a `str`) to use as authorization grant.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">Jwt</span><span class="p">):</span>
            <span class="n">assertion</span> <span class="o">=</span> <span class="n">Jwt</span><span class="p">(</span><span class="n">assertion</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">JWT_BEARER</span><span class="p">,</span>
            <span class="n">assertion</span><span class="o">=</span><span class="n">assertion</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resource_owner_password</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request using the Resource Owner Password Grant.</span>

<span class="sd">        This Grant Type is deprecated and should only be used when there is no other choice.</span>

<span class="sd">        Args:</span>
<span class="sd">            username: the resource owner user name</span>
<span class="sd">            password: the resource owner password</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">            **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BearerToken` as returned by the Authorization Server</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">RESOURCE_OWNER_PASSWORD</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">authorization_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
        <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate an Authorization Request for this client.</span>

<span class="sd">        Args:</span>
<span class="sd">            scope: the `scope` to use</span>
<span class="sd">            response_type: the `response_type` to use</span>
<span class="sd">            redirect_uri: the `redirect_uri` to include in the request. By default,</span>
<span class="sd">                the `redirect_uri` defined at init time is used.</span>
<span class="sd">            state: the `state` parameter to use. Leave default to generate a random value.</span>
<span class="sd">            nonce: a `nonce`. Leave default to generate a random value.</span>
<span class="sd">            code_verifier: the PKCE `code_verifier` to use. Leave default to generate a random value.</span>
<span class="sd">            **kwargs: additional parameters to include in the auth request</span>

<span class="sd">        Returns:</span>
<span class="sd">            an AuthorizationRequest with the supplied parameters</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>

        <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">redirect_uri</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;No &#39;redirect_uri&#39; defined for this client. You must either pass a redirect_uri&quot;</span>
                <span class="s2">&quot; as parameter to this method, or include a redirect_uri when initializing your&quot;</span>
                <span class="s2">&quot; OAuth2Client.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response_type</span> <span class="o">!=</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only response_type=code is supported.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">AuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
            <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
            <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
            <span class="n">code_challenge_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_challenge_method</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">pushed_authorization_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">authorization_request</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Pushed Authorization Request.</span>

<span class="sd">        This sends a request to the Pushed Authorization Request Endpoint, and returns a</span>
<span class="sd">        `RequestUriParameterAuthorizationRequest` initialized with the AS response.</span>

<span class="sd">        Args:</span>
<span class="sd">            authorization_request: the authorization request to send</span>
<span class="sd">            requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">            the `RequestUriParameterAuthorizationRequest` initialized based on the AS response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;pushed_authorization_request_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">authorization_request</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_pushed_authorization_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_pushed_authorization_request_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_pushed_authorization_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `pushed_authorization_request()`.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the `requests.Response` returned by the PAR endpoint</span>

<span class="sd">        Returns:</span>
<span class="sd">            a RequestUriParameterAuthorizationRequest instance</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">request_uri</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request_uri&quot;</span><span class="p">)</span>
        <span class="n">expires_in</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_in&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
            <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_pushed_authorization_request_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error Handler for Pushed Authorization Endpoint errors.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the HTTP response as returned by the AS PAR endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a RequestUriParameterAuthorizationRequest, if the error is recoverable</span>

<span class="sd">        Raises:</span>
<span class="sd">            EndpointError: a subclass of this error depending on the error returned by the AS</span>
<span class="sd">            InvalidPushedAuthorizationResponse: if the returned response is not following the</span>
<span class="sd">            specifications UnknownTokenEndpointError: for unknown/unhandled errors</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">userinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Call the UserInfo endpoint.</span>

<span class="sd">        This sends a request to the UserInfo endpoint, with the specified access_token, and returns</span>
<span class="sd">        the parsed result.</span>

<span class="sd">        Args:</span>
<span class="sd">            access_token: the access token to use</span>

<span class="sd">        Returns:</span>
<span class="sd">            the [Response][requests.Response] returned by the userinfo endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">BearerAuth</span><span class="p">(</span><span class="n">access_token</span><span class="p">),</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_userinfo_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_userinfo_error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_userinfo_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `userinfo()`.</span>

<span class="sd">        Invoked by [userinfo()][requests_oauth2client.client.OAuth2Client.userinfo] to parse the</span>
<span class="sd">        response from the UserInfo endpoint, this will extract and return its JSON content.</span>

<span class="sd">        Args:</span>
<span class="sd">            resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the parsed JSON content from this response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_userinfo_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse UserInfo error response.</span>

<span class="sd">        Args:</span>
<span class="sd">            resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            nothing, raises exception instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_token_type</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get standardized token type identifiers.</span>

<span class="sd">        Return a standardized token type identifier, based on a short `token_type` hint and/or a</span>
<span class="sd">        token value.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_type: a token_type hint, as `str`. May be &quot;access_token&quot;, &quot;refresh_token&quot;</span>
<span class="sd">                or &quot;id_token&quot;</span>
<span class="sd">            token: a token value, as an instance of `BearerToken` or IdToken, or as a `str`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the token_type as defined in the Token Exchange RFC8693.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">token_type</span> <span class="ow">or</span> <span class="n">token</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine type of an empty token without a token_type hint&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">token_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the type of provided token when it is a bare str. Please specify a token_type.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unexpected type of token, please provide a string or a BearerToken or an IdToken.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not a BearerToken or a string representation of it.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh_token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:refresh_token&quot;</span>
        <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="s2">&quot;id_token&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not an IdToken or a string representation of it.&quot;</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;saml1&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;saml2&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:jwt&quot;</span><span class="p">,</span>
            <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_type</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_access_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke an access token.</span>

<span class="sd">        Args:</span>
<span class="sd">            access_token: the access token to revoke</span>
<span class="sd">            requests_kwargs: additional parameters for the underlying requests.post() call</span>
<span class="sd">            **revoke_kwargs: additional parameters to pass to the revocation endpoint</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
            <span class="n">access_token</span><span class="p">,</span>
            <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_refresh_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke a refresh token.</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh_token: the refresh token to revoke.</span>
<span class="sd">            requests_kwargs: additional parameters to pass to the revocation endpoint.</span>
<span class="sd">            **revoke_kwargs: additional parameters to pass to the revocation endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the revocation request is successful, `False` if this client has no configured</span>
<span class="sd">            revocation endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
            <span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">revoke_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Token Revocation request.</span>

<span class="sd">        By default, authentication will be the same than the one used for the Token Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the token to revoke.</span>
<span class="sd">            token_type_hint: a token_type_hint to send to the revocation endpoint.</span>
<span class="sd">            requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">            **revoke_kwargs: additional parameters to send to the revocation endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the revocation succeeds, `False` if no revocation endpoint is present or a</span>
<span class="sd">            non-standardised error is returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">revoke_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_revocation_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_revocation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `revoke_token()`.</span>

<span class="sd">        Invoked by [revoke_token()][requests_oauth2client.client.OAuth2Client.revoke_token] when the</span>
<span class="sd">        revocation endpoint returns an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] as returned by the Revocation Endpoint</span>

<span class="sd">        Returns:</span>
<span class="sd">            `False` to signal that an error occurred. May raise exceptions instead depending on the</span>
<span class="sd">            revocation response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">RevocationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">introspect_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a request to the Introspection Endpoint.</span>

<span class="sd">        Parameter `token` can be:</span>

<span class="sd">        - a `str`</span>
<span class="sd">        - a `BearerToken` instance</span>

<span class="sd">        You may pass any arbitrary `token` and `token_type_hint` values as `str`. Those will</span>
<span class="sd">        be included in the request, as-is.</span>
<span class="sd">        If `token` is a `BearerToken`, then `token_type_hint` must be either:</span>

<span class="sd">        - `None`: the access_token will be instrospected and no token_type_hint will be included</span>
<span class="sd">        in the request</span>
<span class="sd">        - `access_token`: same as `None`, but the token_type_hint will be included</span>
<span class="sd">        - or `refresh_token`: only available if a Refresh Token is present in the BearerToken.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the token to instrospect</span>
<span class="sd">            token_type_hint: the `token_type_hint` to include in the request.</span>
<span class="sd">            requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">            **introspect_kwargs: additional parameters to send to the introspection endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the response as returned by the Introspection Endpoint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token_type_hint</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">access_token</span>
            <span class="k">elif</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;Invalid `token_type_hint`. To test arbitrary `token_type_hint` values,&quot;</span>
                    <span class="s2">&quot; you must provide `token` as a `str`.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">introspect_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_introspection_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_introspection_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_introspection_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse Token Introspection Responses received by `introspect_token()`.</span>

<span class="sd">        Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">        to parse the returned response. This decodes the JSON content if possible, otherwise it</span>
<span class="sd">        returns the response as a string.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the [Response][requests.Response] as returned by the Introspection Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the decoded JSON content, or a `str` with the content.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

    <span class="k">def</span> <span class="nf">on_introspection_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `introspect_token()`.</span>

<span class="sd">        Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">        to parse the returned response in the case an error is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response as returned by the Introspection Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises exceptions. A subclass can return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">IntrospectionError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnknownIntrospectionError</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">backchannel_authentication_request</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_notification_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">login_hint_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">id_token_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">login_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">binding_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requested_expiry</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a CIBA Authentication Request.</span>

<span class="sd">        Args:</span>
<span class="sd">             scope: the scope to include in the request.</span>
<span class="sd">             client_notification_token: the Client Notification Token to include in the request.</span>
<span class="sd">             acr_values: the acr values to include in the request.</span>
<span class="sd">             login_hint_token: the Login Hint Token to include in the request.</span>
<span class="sd">             id_token_hint: the ID Token Hint to include in the request.</span>
<span class="sd">             login_hint: the Login Hint to include in the request.</span>
<span class="sd">             binding_message: the Binding Message to include in the request.</span>
<span class="sd">             user_code: the User Code to include in the request</span>
<span class="sd">             requested_expiry: the Requested Expiry, in seconds, to include in the request.</span>
<span class="sd">             private_jwk: the JWK to use to sign the request (optional)</span>
<span class="sd">             alg: the alg to use to sign the request, if the provided JWK does not include an &quot;alg&quot; parameter.</span>
<span class="sd">             requests_kwargs: additional parameters for</span>
<span class="sd">             **ciba_kwargs: additional parameters to include in the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a BackChannelAuthenticationResponse as returned by AS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">or</span> <span class="n">login_hint_token</span> <span class="ow">or</span> <span class="n">id_token_hint</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;One of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">login_hint</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `scope` value&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">acr_values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `acr_values`&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">ciba_kwargs</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">client_notification_token</span><span class="o">=</span><span class="n">client_notification_token</span><span class="p">,</span>
            <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
            <span class="n">login_hint_token</span><span class="o">=</span><span class="n">login_hint_token</span><span class="p">,</span>
            <span class="n">id_token_hint</span><span class="o">=</span><span class="n">id_token_hint</span><span class="p">,</span>
            <span class="n">login_hint</span><span class="o">=</span><span class="n">login_hint</span><span class="p">,</span>
            <span class="n">binding_message</span><span class="o">=</span><span class="n">binding_message</span><span class="p">,</span>
            <span class="n">user_code</span><span class="o">=</span><span class="n">user_code</span><span class="p">,</span>
            <span class="n">requested_expiry</span><span class="o">=</span><span class="n">requested_expiry</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">private_jwk</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">))}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;backchannel_authentication_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_backchannel_authentication_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_backchannel_authentication_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_backchannel_authentication_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a response received by `backchannel_authentication_request()`.</span>

<span class="sd">        Invoked by</span>
<span class="sd">        [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">        to parse the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `BackChannelAuthenticationResponse`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="k">def</span> <span class="nf">on_backchannel_authentication_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `backchannel_authentication_request()`.</span>

<span class="sd">        Invoked by</span>
<span class="sd">        [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">        to parse the response returned by the BackChannel Authentication Endpoint, when it is an</span>
<span class="sd">        error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises an exception. But a subclass can return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">BackChannelAuthenticationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">authorize_device</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a Device Authorization Request.</span>

<span class="sd">        Args:</span>
<span class="sd">            **data: additional data to send to the Device Authorization Endpoint</span>
<span class="sd">            requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Device Authorization Response</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;device_authorization_endpoint&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_device_authorization_response</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_device_authorization_error</span><span class="p">,</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_device_authorization_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse a Device Authorization Response received by `authorize_device()`.</span>

<span class="sd">        Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">        to parse the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a `DeviceAuthorizationResponse` as returned by AS</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">device_authorization_response</span> <span class="o">=</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">device_authorization_response</span>

    <span class="k">def</span> <span class="nf">on_device_authorization_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Error handler for `authorize_device()`.</span>

<span class="sd">        Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">        to parse the response returned by the Device Authorization Endpoint, when that response is</span>
<span class="sd">        an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            usually raises an Exception. But a subclass may return a default response instead.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
            <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">DeviceAuthorizationError</span><span class="p">)</span>
            <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">def</span> <span class="nf">update_authorization_server_public_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the cached AS public keys by retrieving them from its `jwks_uri`.</span>

<span class="sd">        Public keys are returned by this method, as a `jwskate.JwkSet`. They are also</span>
<span class="sd">        available in attribute `authorization_server_jwks`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the retrieved public keys</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if no `jwks_uri` is configured</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="n">jwks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;jwks_uri&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
            <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">(),</span>
            <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">jwks</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_discovery_endpoint</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client based on Authorization Server Metadata.</span>

<span class="sd">        This will retrieve the standardised metadata document available at `url`, and will extract</span>
<span class="sd">        all Endpoint Uris from that document, will fetch the current public keys from its</span>
<span class="sd">        `jwks_uri`, then will initialise an OAuth2Client based on those endpoints.</span>

<span class="sd">        Args:</span>
<span class="sd">             url: the url where the server metadata will be retrieved</span>
<span class="sd">             auth: the authentication handler to use for client authentication</span>
<span class="sd">             client_id: client ID</span>
<span class="sd">             client_secret: client secret to use to authenticate the client</span>
<span class="sd">             private_key: private key to sign client assertions</span>
<span class="sd">             session: a `requests.Session` to use to retrieve the document and initialise the client with</span>
<span class="sd">             issuer: if an issuer is given, check that it matches the one from the retrieved document</span>
<span class="sd">             testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">             **kwargs: additional keyword parameters to pass to OAuth2Client</span>

<span class="sd">        Returns:</span>
<span class="sd">            an OAuth2Client with endpoint initialised based on the obtained metadata</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if neither `url` nor `issuer` are suitable urls</span>
<span class="sd">            requests.HTTPError: if an error happens while fetching the documents</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Please specify at least one of `issuer` or `url`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="n">discovery</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">jwks_uri</span><span class="p">:</span>
            <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_discovery_document</span><span class="p">(</span>
            <span class="n">discovery</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">jwks</span><span class="p">,</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_discovery_document</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">discovery</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">https</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client, based on the server metadata from `discovery`.</span>

<span class="sd">        Args:</span>
<span class="sd">             discovery: a dict of server metadata, in the same format as retrieved from a discovery endpoint.</span>
<span class="sd">             issuer: if an issuer is given, check that it matches the one mentioned in the document</span>
<span class="sd">             auth: the authentication handler to use for client authentication</span>
<span class="sd">             client_id: client ID</span>
<span class="sd">             client_secret: client secret to use to authenticate the client</span>
<span class="sd">             private_key: private key to sign client assertions</span>
<span class="sd">             authorization_server_jwks: the current authorization server JWKS keys</span>
<span class="sd">             session: a requests Session to use to retrieve the document and initialise the client with</span>
<span class="sd">             https: (deprecated) if `True`, validates that urls in the discovery document use the https scheme</span>
<span class="sd">             testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">             **kwargs: additional args that will be passed to OAuth2Client</span>

<span class="sd">        Returns:</span>
<span class="sd">            an `OAuth2Client`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">https</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;The https parameter is deprecated.&quot;</span>
                <span class="s2">&quot; To disable endpoint uri validation, set `testing=True` when initializing your OAuth2Client.&quot;</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">testing</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">issuer</span> <span class="ow">and</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Mismatching issuer value in discovery document: &quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="n">issuer</span><span class="p">,</span>
                <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">issuer</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span>

        <span class="n">token_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_endpoint&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">token_endpoint</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;token_endpoint not found in that discovery document&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>
        <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">)</span>
        <span class="n">introspection_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">)</span>
        <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">)</span>
        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">jwks_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="n">https</span><span class="p">)</span>
        <span class="n">authorization_response_iss_parameter_supported</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;authorization_response_iss_parameter_supported&quot;</span><span class="p">,</span> <span class="kc">False</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
            <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allow using `OAuth2Client` as a context-manager.</span>

<span class="sd">        The Authorization Server public keys are retrieved on `__enter__`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_authorization_server_public_keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># noqa: D105</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_require_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that a required endpoint url is set.&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No &#39;</span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">&#39; defined for this client. Please provide the URL for that&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; endpoint when initializing your </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.client.OAuth2Client.client_id" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.client_id" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Client ID.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.client.OAuth2Client.client_secret" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.client_secret" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Client Secret.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.client.OAuth2Client.client_jwks" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_jwks</span><span class="p">:</span> <span class="n">JwkSet</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.client_jwks" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>A <code>JwkSet</code> containing the public keys for this client.</p>
<p>Keys are:</p>
<ul>
<li>the public key for client assertion signature verification (if using private_key_jwt)</li>
<li>the ID Token encryption key</li>
</ul>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.validate_endpoint_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.validate_endpoint_uri" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Validate that an endpoint URI is suitable for use.</p>
<p>If you need to disable some checks (for AS testing purposes only!), provide a different
method here.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@token_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@revocation_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@introspection_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@userinfo_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@backchannel_authentication_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@device_authorization_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@pushed_authorization_request_endpoint</span><span class="o">.</span><span class="n">validator</span>
<span class="nd">@jwks_uri</span><span class="o">.</span><span class="n">validator</span>
<span class="k">def</span> <span class="nf">validate_endpoint_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that an endpoint URI is suitable for use.</span>

<span class="sd">    If you need to disable some checks (for AS testing purposes only!), provide a different</span>
<span class="sd">    method here.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">uri</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.validate_issuer_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.validate_issuer_uri" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Validate that an Issuer identifier is suitable for use.</p>
<p>This is the same check as an endpoint URI, but the path may be (and usually is) empty.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@issuer</span><span class="o">.</span><span class="n">validator</span>
<span class="k">def</span> <span class="nf">validate_issuer_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="n">Attribute</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that an Issuer identifier is suitable for use.</span>

<span class="sd">    This is the same check as an endpoint URI, but the path may be (and usually is) empty.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testing</span> <span class="ow">or</span> <span class="n">uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">uri</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">validate_issuer_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid value &#39;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; for &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.token_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint.</p>
<p>Authentication will be added automatically based on the defined <code>auth</code> for this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>parameters to send to the token endpoint. Items with a <code>None</code>
   or empty value will not be sent in the request.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a timeout value for the call</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>**requests_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for requests.post()</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token endpoint response, as</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> instance.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint.</span>

<span class="sd">    Authentication will be added automatically based on the defined `auth` for this client.</span>

<span class="sd">    Args:</span>
<span class="sd">      data: parameters to send to the token endpoint. Items with a `None`</span>
<span class="sd">           or empty value will not be sent in the request.</span>
<span class="sd">      timeout: a timeout value for the call</span>
<span class="sd">      **requests_kwargs: additional parameters for requests.post()</span>

<span class="sd">    Returns:</span>
<span class="sd">        the token endpoint response, as</span>
<span class="sd">        [`BearerToken`][requests_oauth2client.tokens.BearerToken] instance.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;token_endpoint&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_token_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_token_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_token_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_token_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse a Response returned by the Token Endpoint.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.token_request">token_request</a> to parse
responses returned by the Token Endpoint. Those responses contain an <code>access_token</code> and
additional attributes.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the Token Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> based on the response</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>contents.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_token_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a Response returned by the Token Endpoint.</span>

<span class="sd">    Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] to parse</span>
<span class="sd">    responses returned by the Token Endpoint. Those responses contain an `access_token` and</span>
<span class="sd">    additional attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [`BearerToken`][requests_oauth2client.tokens.BearerToken] based on the response</span>
<span class="sd">        contents.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">token_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bearer_token_class</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">response_class_exc</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">token_error_exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">token_error_exc</span> <span class="kn">from</span> <span class="nn">response_class_exc</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">token_response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_token_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_token_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_token_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>token_request()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.token_request">token_request</a> when the
Token Endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the Token Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>nothing, and raises an exception instead. But a subclass may return a</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken"><code>BearerToken</code></a> to implement a default</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>behaviour if needed.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_token_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `token_request()`.</span>

<span class="sd">    Invoked by [token_request][requests_oauth2client.client.OAuth2Client.token_request] when the</span>
<span class="sd">    Token Endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] returned by the Token Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        nothing, and raises an exception instead. But a subclass may return a</span>
<span class="sd">        [`BearerToken`][requests_oauth2client.tokens.BearerToken] to implement a default</span>
<span class="sd">        behaviour if needed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidTokenResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.client_credentials" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_credentials</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.client_credentials" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint using the <code>client_credentials</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>str | <span title="typing.Iterable">Iterable</span>[str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to send with the request. Can be a str, or an iterable of str.
to pass that way include <code>scope</code>, <code>audience</code>, <code>resource</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>. Common parameters</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a TokenResponse</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_credentials</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the `client_credentials` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: the scope to send with the request. Can be a str, or an iterable of str.</span>
<span class="sd">            to pass that way include `scope`, `audience`, `resource`, etc.</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`. Common parameters</span>

<span class="sd">    Returns:</span>
<span class="sd">        a TokenResponse</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">scope</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported scope value&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_CREDENTIALS</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.authorization_code" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_code</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.authorization_code" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint with the <code>authorization_code</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationResponse" href="#requests_oauth2client.authorization_request.AuthorizationResponse">AuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an authorization code or an <code>AuthorizationResponse</code> to exchange for tokens</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>validate</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, validate the received ID Token (this works only if <code>code</code> is an AuthorizationResponse)</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>code</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_code</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">AuthorizationResponse</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `authorization_code` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">         code: an authorization code or an `AuthorizationResponse` to exchange for tokens</span>
<span class="sd">         validate: if `True`, validate the received ID Token (this works only if `code` is an AuthorizationResponse)</span>
<span class="sd">         requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">         **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `code`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
        <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">code_verifier</span><span class="p">)</span>
        <span class="n">token_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">)</span>
        <span class="n">azr</span> <span class="o">=</span> <span class="n">code</span>
        <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">code</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">AUTHORIZATION_CODE</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">validate</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">id_token</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">azr</span><span class="p">,</span> <span class="n">AuthorizationResponse</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.refresh_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.refresh_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint with the <code>refresh_token</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a refresh_token, as a string, or as a <code>BearerToken</code>.
That <code>BearerToken</code> must have a <code>refresh_token</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to <code>requests</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint,
alongside <code>grant_type</code>, <code>refresh_token</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint with the `refresh_token` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        refresh_token: a refresh_token, as a string, or as a `BearerToken`.</span>
<span class="sd">            That `BearerToken` must have a `refresh_token`.</span>
<span class="sd">        requests_kwargs: additional parameters for the call to `requests`</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint,</span>
<span class="sd">            alongside `grant_type`, `refresh_token`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This BearerToken doesn&#39;t have a refresh_token&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.device_code" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">device_code</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.device_code" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the token endpoint using the Device Code grant.</p>
<p>The grant_type is <code>urn:ietf:params:oauth:grant-type:device_code</code>. This needs a Device Code,
or a <code>DeviceAuthorizationResponse</code> as parameter.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a device code, or a <code>DeviceAuthorizationResponse</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>device_code</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">device_code</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the token endpoint using the Device Code grant.</span>

<span class="sd">    The grant_type is `urn:ietf:params:oauth:grant-type:device_code`. This needs a Device Code,</span>
<span class="sd">    or a `DeviceAuthorizationResponse` as parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_code: a device code, or a `DeviceAuthorizationResponse`</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `device_code`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="p">,</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This DeviceAuthorizationResponse doesn&#39;t have a device_code&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span><span class="o">.</span><span class="n">device_code</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">DEVICE_CODE</span><span class="p">,</span>
        <span class="n">device_code</span><span class="o">=</span><span class="n">device_code</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.ciba" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">ciba</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.ciba" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a CIBA request to the Token Endpoint.</p>
<p>A CIBA request is a Token Request using the <code>urn:openid:params:grant-type:ciba</code> grant.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>auth_req_id</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an authentication request ID, as returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the call to requests</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token endpoint, alongside <code>grant_type</code>, <code>auth_req_id</code>, etc.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ciba</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">auth_req_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a CIBA request to the Token Endpoint.</span>

<span class="sd">    A CIBA request is a Token Request using the `urn:openid:params:grant-type:ciba` grant.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_req_id: an authentication request ID, as returned by the AS</span>
<span class="sd">        requests_kwargs: additional parameters for the call to requests</span>
<span class="sd">        **token_kwargs: additional parameters for the token endpoint, alongside `grant_type`, `auth_req_id`, etc.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This `BackChannelAuthenticationResponse` doesn&#39;t have an `auth_req_id`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">auth_req_id</span> <span class="o">=</span> <span class="n">auth_req_id</span><span class="o">.</span><span class="n">auth_req_id</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span><span class="p">,</span>
        <span class="n">auth_req_id</span><span class="o">=</span><span class="n">auth_req_id</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.token_exchange" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_exchange</span><span class="p">(</span><span class="n">subject_token</span><span class="p">,</span> <span class="n">subject_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actor_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actor_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requested_token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.token_exchange" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a Token Exchange request.</p>
<p>A Token Exchange request is actually a request to the Token Endpoint with a grant_type
<code>urn:ietf:params:oauth:grant-type:token-exchange</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>subject_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the subject token to exchange for a new token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>subject_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the subject_token, mandatory if it cannot be guessed based
on <code>type(subject_token)</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>actor_token</code></td>
          <td>
                <code>None | str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the actor token to include in the request, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>actor_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the actor_token, mandatory if it cannot be guessed based
on <code>type(actor_token)</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requested_token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token type identifier for the requested token.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_exchange</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">subject_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span><span class="p">,</span>
    <span class="n">subject_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">actor_token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">actor_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requested_token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Token Exchange request.</span>

<span class="sd">    A Token Exchange request is actually a request to the Token Endpoint with a grant_type</span>
<span class="sd">    `urn:ietf:params:oauth:grant-type:token-exchange`.</span>

<span class="sd">    Args:</span>
<span class="sd">        subject_token: the subject token to exchange for a new token.</span>
<span class="sd">        subject_token_type: a token type identifier for the subject_token, mandatory if it cannot be guessed based</span>
<span class="sd">            on `type(subject_token)`.</span>
<span class="sd">        actor_token: the actor token to include in the request, if any.</span>
<span class="sd">        actor_token_type: a token type identifier for the actor_token, mandatory if it cannot be guessed based</span>
<span class="sd">            on `type(actor_token)`.</span>
<span class="sd">        requested_token_type: a token type identifier for the requested token.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">subject_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">subject_token_type</span><span class="p">,</span> <span class="n">subject_token</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;subject_token&#39; you provided. Please specify a &#39;subject_token_type&#39;.&quot;</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">actor_token</span><span class="p">:</span>  <span class="c1"># pragma: no branch</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">actor_token_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_type</span><span class="p">(</span><span class="n">actor_token_type</span><span class="p">,</span> <span class="n">actor_token</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the kind of &#39;actor_token&#39; you provided. Please specify an &#39;actor_token_type&#39;.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">TOKEN_EXCHANGE</span><span class="p">,</span>
        <span class="n">subject_token</span><span class="o">=</span><span class="n">subject_token</span><span class="p">,</span>
        <span class="n">subject_token_type</span><span class="o">=</span><span class="n">subject_token_type</span><span class="p">,</span>
        <span class="n">actor_token</span><span class="o">=</span><span class="n">actor_token</span><span class="p">,</span>
        <span class="n">actor_token_type</span><span class="o">=</span><span class="n">actor_token_type</span><span class="p">,</span>
        <span class="n">requested_token_type</span><span class="o">=</span><span class="n">requested_token_type</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.jwt_bearer" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">jwt_bearer</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.jwt_bearer" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request using a JWT as authorization grant.</p>
<p>This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>assertion</code></td>
          <td>
                <code><span title="jwskate.Jwt">Jwt</span> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a JWT (as an instance of <code>jwskate.Jwt</code> or as a <code>str</code>) to use as authorization grant.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">jwt_bearer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">assertion</span><span class="p">:</span> <span class="n">Jwt</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request using a JWT as authorization grant.</span>

<span class="sd">    This is defined in (RFC7523 $2.1)[https://www.rfc-editor.org/rfc/rfc7523.html#section-2.1).</span>

<span class="sd">    Args:</span>
<span class="sd">        assertion: a JWT (as an instance of `jwskate.Jwt` or as a `str`) to use as authorization grant.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">assertion</span><span class="p">,</span> <span class="n">Jwt</span><span class="p">):</span>
        <span class="n">assertion</span> <span class="o">=</span> <span class="n">Jwt</span><span class="p">(</span><span class="n">assertion</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">JWT_BEARER</span><span class="p">,</span>
        <span class="n">assertion</span><span class="o">=</span><span class="n">assertion</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.resource_owner_password" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">resource_owner_password</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.resource_owner_password" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request using the Resource Owner Password Grant.</p>
<p>This Grant Type is deprecated and should only be used when there is no other choice.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>username</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resource owner user name</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>password</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the resource owner password</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the underlying <code>requests.post()</code> call.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request body.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BearerToken</code> as returned by the Authorization Server</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resource_owner_password</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request using the Resource Owner Password Grant.</span>

<span class="sd">    This Grant Type is deprecated and should only be used when there is no other choice.</span>

<span class="sd">    Args:</span>
<span class="sd">        username: the resource owner user name</span>
<span class="sd">        password: the resource owner password</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the underlying `requests.post()` call.</span>
<span class="sd">        **token_kwargs: additional parameters to include in the request body.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BearerToken` as returned by the Authorization Server</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">grant_type</span><span class="o">=</span><span class="n">GrantType</span><span class="o">.</span><span class="n">RESOURCE_OWNER_PASSWORD</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.authorization_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_request</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s1">&#39;openid&#39;</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=...</span><span class="p">,</span> <span class="n">nonce</span><span class="o">=...</span><span class="p">,</span> <span class="n">code_verifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.authorization_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate an Authorization Request for this client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>scope</code> to use</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>response_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>response_type</code> to use</p>
            </div>
          </td>
          <td>
                <code>&#39;code&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>redirect_uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>redirect_uri</code> to include in the request. By default,
the <code>redirect_uri</code> defined at init time is used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>state</code> parameter to use. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>nonce</code></td>
          <td>
                <code>str | ellipsis | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>nonce</code>. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>...</code>
          </td>
        </tr>
        <tr>
          <td><code>code_verifier</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the PKCE <code>code_verifier</code> to use. Leave default to generate a random value.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the auth request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an AuthorizationRequest with the supplied parameters</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
    <span class="n">response_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
    <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
    <span class="n">nonce</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># noqa: F821</span>
    <span class="n">code_verifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate an Authorization Request for this client.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: the `scope` to use</span>
<span class="sd">        response_type: the `response_type` to use</span>
<span class="sd">        redirect_uri: the `redirect_uri` to include in the request. By default,</span>
<span class="sd">            the `redirect_uri` defined at init time is used.</span>
<span class="sd">        state: the `state` parameter to use. Leave default to generate a random value.</span>
<span class="sd">        nonce: a `nonce`. Leave default to generate a random value.</span>
<span class="sd">        code_verifier: the PKCE `code_verifier` to use. Leave default to generate a random value.</span>
<span class="sd">        **kwargs: additional parameters to include in the auth request</span>

<span class="sd">    Returns:</span>
<span class="sd">        an AuthorizationRequest with the supplied parameters</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_require_endpoint</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>

    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">redirect_uri</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;No &#39;redirect_uri&#39; defined for this client. You must either pass a redirect_uri&quot;</span>
            <span class="s2">&quot; as parameter to this method, or include a redirect_uri when initializing your&quot;</span>
            <span class="s2">&quot; OAuth2Client.&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">response_type</span> <span class="o">!=</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only response_type=code is supported.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">AuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">response_type</span><span class="o">=</span><span class="n">response_type</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span>
        <span class="n">nonce</span><span class="o">=</span><span class="n">nonce</span><span class="p">,</span>
        <span class="n">code_verifier</span><span class="o">=</span><span class="n">code_verifier</span><span class="p">,</span>
        <span class="n">code_challenge_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_challenge_method</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.pushed_authorization_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">pushed_authorization_request</span><span class="p">(</span><span class="n">authorization_request</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.pushed_authorization_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a Pushed Authorization Request.</p>
<p>This sends a request to the Pushed Authorization Request Endpoint, and returns a
<code>RequestUriParameterAuthorizationRequest</code> initialized with the AS response.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>authorization_request</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.AuthorizationRequest" href="#requests_oauth2client.authorization_request.AuthorizationRequest">AuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authorization request to send</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>RequestUriParameterAuthorizationRequest</code> initialized based on the AS response</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pushed_authorization_request</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">authorization_request</span><span class="p">:</span> <span class="n">AuthorizationRequest</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Pushed Authorization Request.</span>

<span class="sd">    This sends a request to the Pushed Authorization Request Endpoint, and returns a</span>
<span class="sd">    `RequestUriParameterAuthorizationRequest` initialized with the AS response.</span>

<span class="sd">    Args:</span>
<span class="sd">        authorization_request: the authorization request to send</span>
<span class="sd">        requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the `RequestUriParameterAuthorizationRequest` initialized based on the AS response</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;pushed_authorization_request_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">authorization_request</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_pushed_authorization_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_pushed_authorization_request_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_pushed_authorization_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_pushed_authorization_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_pushed_authorization_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse the response obtained by <code>pushed_authorization_request()</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>requests.Response</code> returned by the PAR endpoint</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a RequestUriParameterAuthorizationRequest instance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_pushed_authorization_response</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `pushed_authorization_request()`.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the `requests.Response` returned by the PAR endpoint</span>

<span class="sd">    Returns:</span>
<span class="sd">        a RequestUriParameterAuthorizationRequest instance</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">request_uri</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request_uri&quot;</span><span class="p">)</span>
    <span class="n">expires_in</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_in&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">request_uri</span><span class="o">=</span><span class="n">request_uri</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_pushed_authorization_request_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_pushed_authorization_request_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_pushed_authorization_request_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error Handler for Pushed Authorization Endpoint errors.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP response as returned by the AS PAR endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest" href="#requests_oauth2client.authorization_request.RequestUriParameterAuthorizationRequest">RequestUriParameterAuthorizationRequest</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a RequestUriParameterAuthorizationRequest, if the error is recoverable</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a subclass of this error depending on the error returned by the AS</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" href="#requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse">InvalidPushedAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the returned response is not following the</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>specifications UnknownTokenEndpointError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>for unknown/unhandled errors</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_pushed_authorization_request_error</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RequestUriParameterAuthorizationRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error Handler for Pushed Authorization Endpoint errors.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the HTTP response as returned by the AS PAR endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a RequestUriParameterAuthorizationRequest, if the error is recoverable</span>

<span class="sd">    Raises:</span>
<span class="sd">        EndpointError: a subclass of this error depending on the error returned by the AS</span>
<span class="sd">        InvalidPushedAuthorizationResponse: if the returned response is not following the</span>
<span class="sd">        specifications UnknownTokenEndpointError: for unknown/unhandled errors</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">UnknownTokenEndpointError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.userinfo" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">userinfo</span><span class="p">(</span><span class="n">access_token</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.userinfo" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Call the UserInfo endpoint.</p>
<p>This sends a request to the UserInfo endpoint, with the specified access_token, and returns
the parsed result.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the access token to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned by the userinfo endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">userinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Call the UserInfo endpoint.</span>

<span class="sd">    This sends a request to the UserInfo endpoint, with the specified access_token, and returns</span>
<span class="sd">    the parsed result.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: the access token to use</span>

<span class="sd">    Returns:</span>
<span class="sd">        the [Response][requests.Response] returned by the userinfo endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">BearerAuth</span><span class="p">(</span><span class="n">access_token</span><span class="p">),</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_userinfo_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_userinfo_error</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_userinfo_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_userinfo_response</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_userinfo_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse the response obtained by <code>userinfo()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.userinfo">userinfo()</a> to parse the
response from the UserInfo endpoint, this will extract and return its JSON content.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>resp</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned from the UserInfo endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the parsed JSON content from this response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_userinfo_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the response obtained by `userinfo()`.</span>

<span class="sd">    Invoked by [userinfo()][requests_oauth2client.client.OAuth2Client.userinfo] to parse the</span>
<span class="sd">    response from the UserInfo endpoint, this will extract and return its JSON content.</span>

<span class="sd">    Args:</span>
<span class="sd">        resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the parsed JSON content from this response.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_userinfo_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_userinfo_error</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_userinfo_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse UserInfo error response.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>resp</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> returned from the UserInfo endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>nothing, raises exception instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_userinfo_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse UserInfo error response.</span>

<span class="sd">    Args:</span>
<span class="sd">        resp: a [Response][requests.Response] returned from the UserInfo endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        nothing, raises exception instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.get_token_type" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_token_type</span><span class="p">(</span><span class="n">token_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.get_token_type" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Get standardized token type identifiers.</p>
<p>Return a standardized token type identifier, based on a short <code>token_type</code> hint and/or a
token value.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token_type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token_type hint, as <code>str</code>. May be "access_token", "refresh_token"
or "id_token"</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>None | str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token value, as an instance of <code>BearerToken</code> or IdToken, or as a <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token_type as defined in the Token Exchange RFC8693.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_token_type</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get standardized token type identifiers.</span>

<span class="sd">    Return a standardized token type identifier, based on a short `token_type` hint and/or a</span>
<span class="sd">    token value.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_type: a token_type hint, as `str`. May be &quot;access_token&quot;, &quot;refresh_token&quot;</span>
<span class="sd">            or &quot;id_token&quot;</span>
<span class="sd">        token: a token value, as an instance of `BearerToken` or IdToken, or as a `str`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the token_type as defined in the Token Exchange RFC8693.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">token_type</span> <span class="ow">or</span> <span class="n">token</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine type of an empty token without a token_type hint&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">token_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Cannot determine the type of provided token when it is a bare str. Please specify a token_type.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unexpected type of token, please provide a string or a BearerToken or an IdToken.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not a BearerToken or a string representation of it.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:access_token&quot;</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh_token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:refresh_token&quot;</span>
    <span class="k">elif</span> <span class="n">token_type</span> <span class="o">==</span> <span class="s2">&quot;id_token&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied token is not an IdToken or a string representation of it.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="p">,</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:id_token&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;saml1&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;saml2&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:saml2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:token-type:jwt&quot;</span><span class="p">,</span>
        <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_type</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.revoke_access_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.revoke_access_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Revocation Endpoint to revoke an access token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the access token to revoke</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the underlying requests.post() call</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span>
<span class="normal">997</span>
<span class="normal">998</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_access_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke an access token.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: the access token to revoke</span>
<span class="sd">        requests_kwargs: additional parameters for the underlying requests.post() call</span>
<span class="sd">        **revoke_kwargs: additional parameters to pass to the revocation endpoint</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
        <span class="n">access_token</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.revoke_refresh_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_refresh_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.revoke_refresh_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Revocation Endpoint to revoke a refresh token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the refresh token to revoke.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to pass to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the revocation request is successful, <code>False</code> if this client has no configured</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>revocation endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_refresh_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Revocation Endpoint to revoke a refresh token.</span>

<span class="sd">    Args:</span>
<span class="sd">        refresh_token: the refresh token to revoke.</span>
<span class="sd">        requests_kwargs: additional parameters to pass to the revocation endpoint.</span>
<span class="sd">        **revoke_kwargs: additional parameters to pass to the revocation endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the revocation request is successful, `False` if this client has no configured</span>
<span class="sd">        revocation endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">revoke_token</span><span class="p">(</span>
        <span class="n">refresh_token</span><span class="p">,</span>
        <span class="n">token_type_hint</span><span class="o">=</span><span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
        <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.revoke_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">revoke_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.revoke_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a Token Revocation request.</p>
<p>By default, authentication will be the same than the one used for the Token Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token to revoke.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_type_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a token_type_hint to send to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to the underling call to requests.post()</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**revoke_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to send to the revocation endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the revocation succeeds, <code>False</code> if no revocation endpoint is present or a</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>non-standardised error is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">revoke_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">revoke_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Token Revocation request.</span>

<span class="sd">    By default, authentication will be the same than the one used for the Token Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the token to revoke.</span>
<span class="sd">        token_type_hint: a token_type_hint to send to the revocation endpoint.</span>
<span class="sd">        requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">        **revoke_kwargs: additional parameters to send to the revocation endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the revocation succeeds, `False` if no revocation endpoint is present or a</span>
<span class="sd">        non-standardised error is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">revoke_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_revocation_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_revocation_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_revocation_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_revocation_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>revoke_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.revoke_token">revoke_token()</a> when the
revocation endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> as returned by the Revocation Endpoint</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>False</code> to signal that an error occurred. May raise exceptions instead depending on the</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>revocation response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_revocation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `revoke_token()`.</span>

<span class="sd">    Invoked by [revoke_token()][requests_oauth2client.client.OAuth2Client.revoke_token] when the</span>
<span class="sd">    revocation endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] as returned by the Revocation Endpoint</span>

<span class="sd">    Returns:</span>
<span class="sd">        `False` to signal that an error occurred. May raise exceptions instead depending on the</span>
<span class="sd">        revocation response.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">RevocationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.introspect_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">introspect_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token_type_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.introspect_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a request to the Introspection Endpoint.</p>
<p>Parameter <code>token</code> can be:</p>
<ul>
<li>a <code>str</code></li>
<li>a <code>BearerToken</code> instance</li>
</ul>
<p>You may pass any arbitrary <code>token</code> and <code>token_type_hint</code> values as <code>str</code>. Those will
be included in the request, as-is.
If <code>token</code> is a <code>BearerToken</code>, then <code>token_type_hint</code> must be either:</p>
<ul>
<li><code>None</code>: the access_token will be instrospected and no token_type_hint will be included
in the request</li>
<li><code>access_token</code>: same as <code>None</code>, but the token_type_hint will be included</li>
<li>or <code>refresh_token</code>: only available if a Refresh Token is present in the BearerToken.</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the token to instrospect</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_type_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>token_type_hint</code> to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to the underling call to requests.post()</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**introspect_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to send to the introspection endpoint.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response as returned by the Introspection Endpoint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">introspect_token</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">BearerToken</span><span class="p">,</span>
    <span class="n">token_type_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">introspect_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a request to the Introspection Endpoint.</span>

<span class="sd">    Parameter `token` can be:</span>

<span class="sd">    - a `str`</span>
<span class="sd">    - a `BearerToken` instance</span>

<span class="sd">    You may pass any arbitrary `token` and `token_type_hint` values as `str`. Those will</span>
<span class="sd">    be included in the request, as-is.</span>
<span class="sd">    If `token` is a `BearerToken`, then `token_type_hint` must be either:</span>

<span class="sd">    - `None`: the access_token will be instrospected and no token_type_hint will be included</span>
<span class="sd">    in the request</span>
<span class="sd">    - `access_token`: same as `None`, but the token_type_hint will be included</span>
<span class="sd">    - or `refresh_token`: only available if a Refresh Token is present in the BearerToken.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the token to instrospect</span>
<span class="sd">        token_type_hint: the `token_type_hint` to include in the request.</span>
<span class="sd">        requests_kwargs: additional parameters to the underling call to requests.post()</span>
<span class="sd">        **introspect_kwargs: additional parameters to send to the introspection endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the response as returned by the Introspection Endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BearerToken</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token_type_hint</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">access_token</span>
        <span class="k">elif</span> <span class="n">token_type_hint</span> <span class="o">==</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">REFRESH_TOKEN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The supplied BearerToken doesn&#39;t have a refresh token.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">refresh_token</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Invalid `token_type_hint`. To test arbitrary `token_type_hint` values,&quot;</span>
                <span class="s2">&quot; you must provide `token` as a `str`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">introspect_kwargs</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">token_type_hint</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;token_type_hint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token_type_hint</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_introspection_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_introspection_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_introspection_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_introspection_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_introspection_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse Token Introspection Responses received by <code>introspect_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.introspect_token">introspect_token()</a>
to parse the returned response. This decodes the JSON content if possible, otherwise it
returns the response as a string.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a> as returned by the Introspection Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the decoded JSON content, or a <code>str</code> with the content.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_introspection_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse Token Introspection Responses received by `introspect_token()`.</span>

<span class="sd">    Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">    to parse the returned response. This decodes the JSON content if possible, otherwise it</span>
<span class="sd">    returns the response as a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the [Response][requests.Response] as returned by the Introspection Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the decoded JSON content, or a `str` with the content.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_introspection_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_introspection_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_introspection_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>introspect_token()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.introspect_token">introspect_token()</a>
to parse the returned response in the case an error is returned.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response as returned by the Introspection Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises exceptions. A subclass can return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_introspection_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `introspect_token()`.</span>

<span class="sd">    Invoked by [introspect_token()][requests_oauth2client.client.OAuth2Client.introspect_token]</span>
<span class="sd">    to parse the returned response in the case an error is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response as returned by the Introspection Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises exceptions. A subclass can return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">IntrospectionError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnknownIntrospectionError</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.backchannel_authentication_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">backchannel_authentication_request</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">&#39;openid&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_notification_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">acr_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">login_hint_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_token_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">login_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">binding_message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_code</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requested_expiry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a CIBA Authentication Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the scope to include in the request.</p>
            </div>
          </td>
          <td>
                <code>&#39;openid&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>client_notification_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client Notification Token to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>acr_values</code></td>
          <td>
                <code>None | str | <span title="typing.Iterable">Iterable</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the acr values to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>login_hint_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Login Hint Token to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>id_token_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID Token Hint to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>login_hint</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Login Hint to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>binding_message</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Binding Message to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>user_code</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the User Code to include in the request</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requested_expiry</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Requested Expiry, in seconds, to include in the request.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the JWK to use to sign the request (optional)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign the request, if the provided JWK does not include an "alg" parameter.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**ciba_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters to include in the request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BackChannelAuthenticationResponse as returned by AS</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">backchannel_authentication_request</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;openid&quot;</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_notification_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">acr_values</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">login_hint_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_token_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">login_hint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">binding_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requested_expiry</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">ciba_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a CIBA Authentication Request.</span>

<span class="sd">    Args:</span>
<span class="sd">         scope: the scope to include in the request.</span>
<span class="sd">         client_notification_token: the Client Notification Token to include in the request.</span>
<span class="sd">         acr_values: the acr values to include in the request.</span>
<span class="sd">         login_hint_token: the Login Hint Token to include in the request.</span>
<span class="sd">         id_token_hint: the ID Token Hint to include in the request.</span>
<span class="sd">         login_hint: the Login Hint to include in the request.</span>
<span class="sd">         binding_message: the Binding Message to include in the request.</span>
<span class="sd">         user_code: the User Code to include in the request</span>
<span class="sd">         requested_expiry: the Requested Expiry, in seconds, to include in the request.</span>
<span class="sd">         private_jwk: the JWK to use to sign the request (optional)</span>
<span class="sd">         alg: the alg to use to sign the request, if the provided JWK does not include an &quot;alg&quot; parameter.</span>
<span class="sd">         requests_kwargs: additional parameters for</span>
<span class="sd">         **ciba_kwargs: additional parameters to include in the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a BackChannelAuthenticationResponse as returned by AS</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">or</span> <span class="n">login_hint_token</span> <span class="ow">or</span> <span class="n">id_token_hint</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;One of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint</span> <span class="ow">and</span> <span class="n">id_token_hint</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">login_hint_token</span> <span class="ow">and</span> <span class="n">login_hint</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one of `login_hint`, `login_hint_token` or `ìd_token_hint` must be provided&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `scope` value&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="k">if</span> <span class="n">acr_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acr_values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">acr_values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">acr_values</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unsupported `acr_values`&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">ciba_kwargs</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">client_notification_token</span><span class="o">=</span><span class="n">client_notification_token</span><span class="p">,</span>
        <span class="n">acr_values</span><span class="o">=</span><span class="n">acr_values</span><span class="p">,</span>
        <span class="n">login_hint_token</span><span class="o">=</span><span class="n">login_hint_token</span><span class="p">,</span>
        <span class="n">id_token_hint</span><span class="o">=</span><span class="n">id_token_hint</span><span class="p">,</span>
        <span class="n">login_hint</span><span class="o">=</span><span class="n">login_hint</span><span class="p">,</span>
        <span class="n">binding_message</span><span class="o">=</span><span class="n">binding_message</span><span class="p">,</span>
        <span class="n">user_code</span><span class="o">=</span><span class="n">user_code</span><span class="p">,</span>
        <span class="n">requested_expiry</span><span class="o">=</span><span class="n">requested_expiry</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">private_jwk</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">))}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;backchannel_authentication_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_backchannel_authentication_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_backchannel_authentication_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_backchannel_authentication_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_backchannel_authentication_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_backchannel_authentication_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse a response received by <code>backchannel_authentication_request()</code>.</p>
<p>Invoked by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request">backchannel_authentication_request()</a>
to parse the response returned by the BackChannel Authentication Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the BackChannel Authentication Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>BackChannelAuthenticationResponse</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_backchannel_authentication_response</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a response received by `backchannel_authentication_request()`.</span>

<span class="sd">    Invoked by</span>
<span class="sd">    [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">    to parse the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `BackChannelAuthenticationResponse`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_backchannel_authentication_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_backchannel_authentication_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_backchannel_authentication_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>backchannel_authentication_request()</code>.</p>
<p>Invoked by
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.backchannel_authentication_request">backchannel_authentication_request()</a>
to parse the response returned by the BackChannel Authentication Endpoint, when it is an
error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the BackChannel Authentication Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse" href="#requests_oauth2client.backchannel_authentication.BackChannelAuthenticationResponse">BackChannelAuthenticationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises an exception. But a subclass can return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_backchannel_authentication_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BackChannelAuthenticationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `backchannel_authentication_request()`.</span>

<span class="sd">    Invoked by</span>
<span class="sd">    [backchannel_authentication_request()][requests_oauth2client.client.OAuth2Client.backchannel_authentication_request]</span>
<span class="sd">    to parse the response returned by the BackChannel Authentication Endpoint, when it is an</span>
<span class="sd">    error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the BackChannel Authentication Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises an exception. But a subclass can return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">BackChannelAuthenticationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.authorize_device" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorize_device</span><span class="p">(</span><span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.authorize_device" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Send a Device Authorization Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**data</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional data to send to the Device Authorization Endpoint</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for <code>requests.request()</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Device Authorization Response</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorize_device</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a Device Authorization Request.</span>

<span class="sd">    Args:</span>
<span class="sd">        **data: additional data to send to the Device Authorization Endpoint</span>
<span class="sd">        requests_kwargs: additional parameters for `requests.request()`</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Device Authorization Response</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;device_authorization_endpoint&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_device_authorization_response</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_device_authorization_error</span><span class="p">,</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.parse_device_authorization_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_device_authorization_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.parse_device_authorization_response" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Parse a Device Authorization Response received by <code>authorize_device()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.authorize_device">authorize_device()</a>
to parse the response returned by the Device Authorization Endpoint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the Device Authorization Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>DeviceAuthorizationResponse</code> as returned by AS</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_device_authorization_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a Device Authorization Response received by `authorize_device()`.</span>

<span class="sd">    Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">    to parse the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a `DeviceAuthorizationResponse` as returned by AS</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device_authorization_response</span> <span class="o">=</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">device_authorization_response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.on_device_authorization_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">on_device_authorization_error</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.on_device_authorization_error" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Error handler for <code>authorize_device()</code>.</p>
<p>Invoked by <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client.authorize_device">authorize_device()</a>
to parse the response returned by the Device Authorization Endpoint, when that response is
an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the response returned by the Device Authorization Endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>usually raises an Exception. But a subclass may return a default response instead.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_device_authorization_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error handler for `authorize_device()`.</span>

<span class="sd">    Invoked by [authorize_device()][requests_oauth2client.client.OAuth2Client.authorize_device]</span>
<span class="sd">    to parse the response returned by the Device Authorization Endpoint, when that response is</span>
<span class="sd">    an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the response returned by the Device Authorization Endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        usually raises an Exception. But a subclass may return a default response instead.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">error_description</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_description&quot;</span><span class="p">)</span>
        <span class="n">error_uri</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error_uri&quot;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exception_classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">DeviceAuthorizationError</span><span class="p">)</span>
        <span class="n">exception</span> <span class="o">=</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">error_description</span><span class="p">,</span> <span class="n">error_uri</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">raise</span> <span class="n">exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.update_authorization_server_public_keys" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">update_authorization_server_public_keys</span><span class="p">(</span><span class="n">requests_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client.OAuth2Client.update_authorization_server_public_keys" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Update the cached AS public keys by retrieving them from its <code>jwks_uri</code>.</p>
<p>Public keys are returned by this method, as a <code>jwskate.JwkSet</code>. They are also
available in attribute <code>authorization_server_jwks</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="jwskate.JwkSet">JwkSet</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the retrieved public keys</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if no <code>jwks_uri</code> is configured</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_authorization_server_public_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JwkSet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the cached AS public keys by retrieving them from its `jwks_uri`.</span>

<span class="sd">    Public keys are returned by this method, as a `jwskate.JwkSet`. They are also</span>
<span class="sd">    available in attribute `authorization_server_jwks`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the retrieved public keys</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if no `jwks_uri` is configured</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="n">jwks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;jwks_uri&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="n">on_success</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="k">lambda</span> <span class="n">resp</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">(),</span>
        <span class="o">**</span><span class="n">requests_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">jwks</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">authorization_server_jwks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.from_discovery_endpoint" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_discovery_endpoint</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">issuer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">testing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.from_discovery_endpoint" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client based on Authorization Server Metadata.</p>
<p>This will retrieve the standardised metadata document available at <code>url</code>, and will extract
all Endpoint Uris from that document, will fetch the current public keys from its
<code>jwks_uri</code>, then will initialise an OAuth2Client based on those endpoints.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the url where the server metadata will be retrieved</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret to use to authenticate the client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private key to sign client assertions</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>requests.Session</code> to use to retrieve the document and initialise the client with</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an issuer is given, check that it matches the one from the retrieved document</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if True, don't try to validate the endpoint urls that are part of the document</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional keyword parameters to pass to OAuth2Client</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client with endpoint initialised based on the obtained metadata</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if neither <code>url</code> nor <code>issuer</code> are suitable urls</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.HTTPError" href="https://requests.readthedocs.io/en/master/api/#requests.HTTPError">HTTPError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an error happens while fetching the documents</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_discovery_endpoint</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client based on Authorization Server Metadata.</span>

<span class="sd">    This will retrieve the standardised metadata document available at `url`, and will extract</span>
<span class="sd">    all Endpoint Uris from that document, will fetch the current public keys from its</span>
<span class="sd">    `jwks_uri`, then will initialise an OAuth2Client based on those endpoints.</span>

<span class="sd">    Args:</span>
<span class="sd">         url: the url where the server metadata will be retrieved</span>
<span class="sd">         auth: the authentication handler to use for client authentication</span>
<span class="sd">         client_id: client ID</span>
<span class="sd">         client_secret: client secret to use to authenticate the client</span>
<span class="sd">         private_key: private key to sign client assertions</span>
<span class="sd">         session: a `requests.Session` to use to retrieve the document and initialise the client with</span>
<span class="sd">         issuer: if an issuer is given, check that it matches the one from the retrieved document</span>
<span class="sd">         testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">         **kwargs: additional keyword parameters to pass to OAuth2Client</span>

<span class="sd">    Returns:</span>
<span class="sd">        an OAuth2Client with endpoint initialised based on the obtained metadata</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if neither `url` nor `issuer` are suitable urls</span>
<span class="sd">        requests.HTTPError: if an error happens while fetching the documents</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Please specify at least one of `issuer` or `url`&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">session</span> <span class="ow">or</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
    <span class="n">discovery</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jwks_uri</span><span class="p">:</span>
        <span class="n">jwks</span> <span class="o">=</span> <span class="n">JwkSet</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_discovery_document</span><span class="p">(</span>
        <span class="n">discovery</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">jwks</span><span class="p">,</span>
        <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client.OAuth2Client.from_discovery_document" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_discovery_document</span><span class="p">(</span><span class="n">discovery</span><span class="p">,</span> <span class="n">issuer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">testing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.client.OAuth2Client.from_discovery_document" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client, based on the server metadata from <code>discovery</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>discovery</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a dict of server metadata, in the same format as retrieved from a discovery endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if an issuer is given, check that it matches the one mentioned in the document</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the authentication handler to use for client authentication</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client ID</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client secret to use to authenticate the client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>private key to sign client assertions</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>authorization_server_jwks</code></td>
          <td>
                <code><span title="jwskate.JwkSet">JwkSet</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the current authorization server JWKS keys</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a requests Session to use to retrieve the document and initialise the client with</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>https</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>(deprecated) if <code>True</code>, validates that urls in the discovery document use the https scheme</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>testing</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if True, don't try to validate the endpoint urls that are part of the document</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional args that will be passed to OAuth2Client</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>OAuth2Client</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_discovery_document</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">discovery</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">authorization_server_jwks</span><span class="p">:</span> <span class="n">JwkSet</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">https</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">testing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client, based on the server metadata from `discovery`.</span>

<span class="sd">    Args:</span>
<span class="sd">         discovery: a dict of server metadata, in the same format as retrieved from a discovery endpoint.</span>
<span class="sd">         issuer: if an issuer is given, check that it matches the one mentioned in the document</span>
<span class="sd">         auth: the authentication handler to use for client authentication</span>
<span class="sd">         client_id: client ID</span>
<span class="sd">         client_secret: client secret to use to authenticate the client</span>
<span class="sd">         private_key: private key to sign client assertions</span>
<span class="sd">         authorization_server_jwks: the current authorization server JWKS keys</span>
<span class="sd">         session: a requests Session to use to retrieve the document and initialise the client with</span>
<span class="sd">         https: (deprecated) if `True`, validates that urls in the discovery document use the https scheme</span>
<span class="sd">         testing: if True, don&#39;t try to validate the endpoint urls that are part of the document</span>
<span class="sd">         **kwargs: additional args that will be passed to OAuth2Client</span>

<span class="sd">    Returns:</span>
<span class="sd">        an `OAuth2Client`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">https</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;The https parameter is deprecated.&quot;</span>
            <span class="s2">&quot; To disable endpoint uri validation, set `testing=True` when initializing your OAuth2Client.&quot;</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">testing</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">issuer</span> <span class="ow">and</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">issuer</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Mismatching issuer value in discovery document: &quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">msg</span><span class="p">,</span>
            <span class="n">issuer</span><span class="p">,</span>
            <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">issuer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;issuer&quot;</span><span class="p">)</span>

    <span class="n">token_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;token_endpoint&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">token_endpoint</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;token_endpoint not found in that discovery document&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;authorization_endpoint&quot;</span><span class="p">)</span>
    <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;revocation_endpoint&quot;</span><span class="p">)</span>
    <span class="n">introspection_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;introspection_endpoint&quot;</span><span class="p">)</span>
    <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;userinfo_endpoint&quot;</span><span class="p">)</span>
    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jwks_uri&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jwks_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">validate_endpoint_uri</span><span class="p">(</span><span class="n">jwks_uri</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="n">https</span><span class="p">)</span>
    <span class="n">authorization_response_iss_parameter_supported</span> <span class="o">=</span> <span class="n">discovery</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;authorization_response_iss_parameter_supported&quot;</span><span class="p">,</span> <span class="kc">False</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="o">=</span><span class="n">introspection_endpoint</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
        <span class="n">authorization_server_jwks</span><span class="o">=</span><span class="n">authorization_server_jwks</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_key</span><span class="o">=</span><span class="n">private_key</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">authorization_response_iss_parameter_supported</span><span class="o">=</span><span class="n">authorization_response_iss_parameter_supported</span><span class="p">,</span>
        <span class="n">testing</span><span class="o">=</span><span class="n">testing</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client.GrantType" class="doc doc-heading">
          <code>GrantType</code>


<a href="#requests_oauth2client.client.GrantType" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>An enum of standardized <code>grant_type</code> values.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">GrantType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An enum of standardized `grant_type` values.&quot;&quot;&quot;</span>

    <span class="n">CLIENT_CREDENTIALS</span> <span class="o">=</span> <span class="s2">&quot;client_credentials&quot;</span>
    <span class="n">AUTHORIZATION_CODE</span> <span class="o">=</span> <span class="s2">&quot;authorization_code&quot;</span>
    <span class="n">REFRESH_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;refresh_token&quot;</span>
    <span class="n">RESOURCE_OWNER_PASSWORD</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span>
    <span class="n">TOKEN_EXCHANGE</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:token-exchange&quot;</span>
    <span class="n">JWT_BEARER</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;</span>
    <span class="n">CLIENT_INITIATED_BACKCHANNEL_AUTHENTICATION</span> <span class="o">=</span> <span class="s2">&quot;urn:openid:params:grant-type:ciba&quot;</span>
    <span class="n">DEVICE_CODE</span> <span class="o">=</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:device_code&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.client_authentication" class="doc doc-heading">
          <code>client_authentication</code>


<a href="#requests_oauth2client.client_authentication" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module implements OAuth 2.0 Client Authentication Methods.</p>
<p>An OAuth 2.0 Client must authenticate to the AS whenever it sends a request to the Token Endpoint,
by including appropriate credentials. This module contains helper classes and methods that implement
the standardized and commonly used Client Authentication Methods.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" class="doc doc-heading">
          <code>BaseClientAuthenticationMethod</code>


<a href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code></p>

  
      <p>Base class for all Client Authentication methods. This extends [requests.auth.AuthBase].</p>
<p>This base class only checks that requests are suitable to add Client Authentication parameters
to, and doesn't modify the request.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BaseClientAuthenticationMethod</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all Client Authentication methods. This extends [requests.auth.AuthBase].</span>

<span class="sd">    This base class only checks that requests are suitable to add Client Authentication parameters</span>
<span class="sd">    to, and doesn&#39;t modify the request.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the request is suitable for Client Authentication.</span>

<span class="sd">        It checks:</span>

<span class="sd">        * that the method is `POST`</span>
<span class="sd">        * that the Content-Type is &quot;application/x-www-form-urlencoded&quot; or None</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][]</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][], unmodified</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the request is not suitable for OAuth 2.0 Client Authentication</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">!=</span> <span class="s2">&quot;POST&quot;</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This request is not suitable for OAuth 2.0 Client Authentication&quot;</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.ClientSecretBasic" class="doc doc-heading">
          <code>ClientSecretBasic</code>


<a href="#requests_oauth2client.client_authentication.ClientSecretBasic" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_basic</code> authentication.</p>
<p>With this method, the client sends its Client ID and Secret, in the Authorization header, with
the "Basic" scheme, in each authenticated request to the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_secret</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretBasic</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_basic` authentication.</span>

<span class="sd">    With this method, the client sends its Client ID and Secret, in the Authorization header, with</span>
<span class="sd">    the &quot;Basic&quot; scheme, in each authenticated request to the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: `client_id` to use.</span>
<span class="sd">        client_secret: `client_secret` to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the appropriate `Authorization` header in each request.</span>

<span class="sd">        The Authorization header is formatted as such: `Authorization: Basic</span>
<span class="sd">        BASE64(&#39;&lt;client_id:client_secret&gt;&#39;)`</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added Authorization header.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">b64encoded_credentials</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Basic </span><span class="si">{</span><span class="n">b64encoded_credentials</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.ClientSecretPost" class="doc doc-heading">
          <code>ClientSecretPost</code>


<a href="#requests_oauth2client.client_authentication.ClientSecretPost" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_post</code> client authentication method.</p>
<p>With this method, the client inserts its client_id and client_secret in each authenticated
 request to the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>client_secret</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretPost</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_post` client authentication method.</span>

<span class="sd">     With this method, the client inserts its client_id and client_secret in each authenticated</span>
<span class="sd">     request to the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: `client_id` to use.</span>
<span class="sd">        client_secret: `client_secret` to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the `client_id` and `client_secret` parameters in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added client credentials fields.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">))</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_secret&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" class="doc doc-heading">
          <code>ClientAssertionAuthenticationMethod</code>


<a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Base class for assertion-based client authentication methods.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientAssertionAuthenticationMethod</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for assertion-based client authentication methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the client_id to use</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alg</span> <span class="o">=</span> <span class="n">alg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span> <span class="o">=</span> <span class="n">lifetime</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span> <span class="o">=</span> <span class="n">jti_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aud</span> <span class="o">=</span> <span class="n">aud</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion for a specific audience.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the `aud` claim of the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion, as `str`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a `client_assertion` field in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added `client_assertion` field.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">audience</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aud</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span>
        <span class="k">if</span> <span class="n">audience</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No url defined for this request. This should never happen...&quot;</span>  <span class="c1"># pragma: no cover</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">body</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">client_assertion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_assertion&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">client_assertion</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_assertion_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">b</span><span class="s2">&quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;</span><span class="p">]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod.client_assertion" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a Client Assertion for a specific audience.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the <code>aud</code> claim of the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion, as <code>str</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion for a specific audience.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the `aud` claim of the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion, as `str`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.ClientSecretJwt" class="doc doc-heading">
          <code>ClientSecretJwt</code>


<a href="#requests_oauth2client.client_authentication.ClientSecretJwt" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod">ClientAssertionAuthenticationMethod</a></code></p>

  
      <p>Implement <code>client_secret_jwt</code> client authentication method.</p>
<p>With this method, the client generates and signs a client assertion that is symmetrically
signed with its Client Secret. The assertion is then sent to the AS in a <code>client_assertion</code>
field with each authenticated request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_secret</code> to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>&#39;HS256&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>lambda: <span title="uuid.uuid4">uuid4</span>()</code>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ClientSecretJwt</span><span class="p">(</span><span class="n">ClientAssertionAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `client_secret_jwt` client authentication method.</span>

<span class="sd">    With this method, the client generates and signs a client assertion that is symmetrically</span>
<span class="sd">    signed with its Client Secret. The assertion is then sent to the AS in a `client_assertion`</span>
<span class="sd">    field with each authenticated request.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the `client_id` to use.</span>
<span class="sd">        client_secret: the `client_secret` to use to sign generated Client Assertions.</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HS256&quot;</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">uuid4</span><span class="p">(),</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">jti_gen</span><span class="p">,</span> <span class="n">aud</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a symmetrically signed Client Assertion.</span>

<span class="sd">        Assertion is signed with the `client_secret` as key and the `alg` passed at init time.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion, as `str`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
        <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

        <span class="n">jwk</span> <span class="o">=</span> <span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

        <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
                <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
                <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
                <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client_authentication.ClientSecretJwt.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client_authentication.ClientSecretJwt.client_assertion" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a symmetrically signed Client Assertion.</p>
<p>Assertion is signed with the <code>client_secret</code> as key and the <code>alg</code> passed at init time.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion, as <code>str</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a symmetrically signed Client Assertion.</span>

<span class="sd">    Assertion is signed with the `client_secret` as key and the `alg` passed at init time.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion, as `str`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
    <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
    <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

    <span class="n">jwk</span> <span class="o">=</span> <span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

    <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
            <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
            <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
            <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">key</span><span class="o">=</span><span class="n">jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.PrivateKeyJwt" class="doc doc-heading">
          <code>PrivateKeyJwt</code>


<a href="#requests_oauth2client.client_authentication.PrivateKeyJwt" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod" href="#requests_oauth2client.client_authentication.ClientAssertionAuthenticationMethod">ClientAssertionAuthenticationMethod</a></code></p>

  
      <p>Implement <code>private_key_jwt</code> client authentication method.</p>
<p>With this method, the client generates and sends a client_assertion, that is asymmetrically
signed with a private key, on each direct request to the Authorization Server.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>client_id</code> to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the private JWK to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the alg to use to sign generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code><span title="jwskate.SignatureAlgs.RS256">RS256</span></code>
          </td>
        </tr>
        <tr>
          <td><code>lifetime</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the lifetime to use for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>60</code>
          </td>
        </tr>
        <tr>
          <td><code>jti_gen</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[], <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to generate JWT Token Ids (<code>jti</code>) for generated Client Assertions.</p>
            </div>
          </td>
          <td>
                <code>lambda: <span title="uuid.uuid4">uuid4</span>()</code>
          </td>
        </tr>
        <tr>
          <td><code>aud</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience value to use. If <code>None</code> (default), the endpoint URL will be used.k</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PrivateKeyJwt</span><span class="p">(</span><span class="n">ClientAssertionAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement `private_key_jwt` client authentication method.</span>

<span class="sd">    With this method, the client generates and sends a client_assertion, that is asymmetrically</span>
<span class="sd">    signed with a private key, on each direct request to the Authorization Server.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the `client_id` to use.</span>
<span class="sd">        private_jwk: the private JWK to use to sign generated Client Assertions.</span>
<span class="sd">        alg: the alg to use to sign generated Client Assertions.</span>
<span class="sd">        lifetime: the lifetime to use for generated Client Assertions.</span>
<span class="sd">        jti_gen: a function to generate JWT Token Ids (`jti`) for generated Client Assertions.</span>
<span class="sd">        aud: the audience value to use. If `None` (default), the endpoint URL will be used.k</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">RS256</span><span class="p">,</span>
        <span class="n">lifetime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">jti_gen</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">uuid4</span><span class="p">(),</span>
        <span class="n">aud</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">private_jwk</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">):</span>
            <span class="n">private_jwk</span> <span class="o">=</span> <span class="n">Jwk</span><span class="p">(</span><span class="n">private_jwk</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">is_private</span> <span class="ow">or</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">is_symmetric</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Private Key JWT client authentication method uses asymmetric signing thus requires a private key.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">alg</span> <span class="o">=</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">alg</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">alg</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;An asymmetric signing alg is required, either as part of the private JWK, or passed as parameter.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">kid</span> <span class="o">=</span> <span class="n">private_jwk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kid</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Asymmetric signing requires the private JWK to have a Key ID (kid).&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">lifetime</span><span class="p">,</span> <span class="n">jti_gen</span><span class="p">,</span> <span class="n">aud</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span> <span class="o">=</span> <span class="n">private_jwk</span>

    <span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion, asymmetrically signed with `private_jwk` as key.</span>

<span class="sd">        Args:</span>
<span class="sd">            audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a Client Assertion.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
        <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

        <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
            <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
                <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
                <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
                <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
                <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.client_authentication.PrivateKeyJwt.client_assertion" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_assertion</span><span class="p">(</span><span class="n">audience</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client_authentication.PrivateKeyJwt.client_assertion" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Generate a Client Assertion, asymmetrically signed with <code>private_jwk</code> as key.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the audience to use for the generated Client Assertion.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a Client Assertion.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">audience</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a Client Assertion, asymmetrically signed with `private_jwk` as key.</span>

<span class="sd">    Args:</span>
<span class="sd">        audience: the audience to use for the generated Client Assertion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a Client Assertion.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">iat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
    <span class="n">exp</span> <span class="o">=</span> <span class="n">iat</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lifetime</span>
    <span class="n">jti</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">jti_gen</span><span class="p">())</span>

    <span class="n">jwt</span> <span class="o">=</span> <span class="n">Jwt</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span>
        <span class="n">claims</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">audience</span><span class="p">,</span>
            <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">iat</span><span class="p">,</span>
            <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">exp</span><span class="p">,</span>
            <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="n">jti</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">alg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">jwt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.client_authentication.PublicApp" class="doc doc-heading">
          <code>PublicApp</code>


<a href="#requests_oauth2client.client_authentication.PublicApp" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.BaseClientAuthenticationMethod" href="#requests_oauth2client.client_authentication.BaseClientAuthenticationMethod">BaseClientAuthenticationMethod</a></code></p>

  
      <p>Implement the <code>none</code> authentication method for public apps.</p>
<p>This scheme is used for Public Clients, which do not have any secret credentials. Those only
send their client_id to the Authorization Server.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the client_id to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PublicApp</span><span class="p">(</span><span class="n">BaseClientAuthenticationMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the `none` authentication method for public apps.</span>

<span class="sd">    This scheme is used for Public Clients, which do not have any secret credentials. Those only</span>
<span class="sd">    send their client_id to the Authorization Server.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: the client_id to use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add the `client_id` field in the request body.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a [requests.PreparedRequest][].</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [requests.PreparedRequest][] with the added `client_id` field.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">parse_qs</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="n">strict_parsing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[type-var]</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">body</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="sa">b</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="o">.</span><span class="n">encode</span><span class="p">()]</span>
        <span class="n">request</span><span class="o">.</span><span class="n">prepare_body</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.client_authentication.client_auth_factory" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client_auth_factory</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default_auth_handler</span><span class="o">=</span><span class="n">ClientSecretPost</span><span class="p">)</span></code>

<a href="#requests_oauth2client.client_authentication.client_auth_factory" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Initialize the appropriate Auth Handler based on the provided parameters.</p>
<p>This initializes a <code>ClientAuthenticationMethod</code> subclass based on the provided parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | tuple[str, <span title="jwskate.Jwk">Jwk</span>] | tuple[str, dict[str, <span title="typing.Any">Any</span>]] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>can be:</p>
<ul>
<li>a <code>requests.auth.AuthBase</code> instance (which will be used directly)</li>
<li>a tuple of (client_id, client_secret) which will be used to initialize an instance of
  <code>default_auth_handler</code>,</li>
<li>a tuple of (client_id, jwk), used to initialize a <code>PrivateKeyJwk</code> (<code>jwk</code> being an
  instance of <code>jwskate.Jwk</code> or a <code>dict</code>),</li>
<li>a <code>client_id</code>, as <code>str</code>,</li>
<li>or <code>None</code>, to pass <code>client_id</code> and other credentials as dedicated parameters, see
  below.</li>
</ul>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client ID to use for this client</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client Secret to use for this client, if any (for clients using
an authentication method based on a secret)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span> | dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the private key to use for private_key_jwt authentication method</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>default_auth_handler</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientSecretPost" href="#requests_oauth2client.client_authentication.ClientSecretPost">ClientSecretPost</a>] | type[<a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientSecretBasic" href="#requests_oauth2client.client_authentication.ClientSecretBasic">ClientSecretBasic</a>] | type[<a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientSecretJwt" href="#requests_oauth2client.client_authentication.ClientSecretJwt">ClientSecretJwt</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if a client_id and client_secret are provided, initialize an
instance of this class with those 2 parameters.
You can choose between <code>ClientSecretBasic</code>, <code>ClientSecretPost</code>, or <code>ClientSecretJwt</code>.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client_authentication.ClientSecretPost" href="#requests_oauth2client.client_authentication.ClientSecretPost">ClientSecretPost</a></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an Auth Handler that will manage client authentication to the AS Token Endpoint or other</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>backend endpoints.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/client_authentication.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">client_auth_factory</span><span class="p">(</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_key</span><span class="p">:</span> <span class="n">Jwk</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default_auth_handler</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">ClientSecretPost</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">ClientSecretBasic</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">ClientSecretJwt</span><span class="p">]</span> <span class="o">=</span> <span class="n">ClientSecretPost</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the appropriate Auth Handler based on the provided parameters.</span>

<span class="sd">    This initializes a `ClientAuthenticationMethod` subclass based on the provided parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth: can be:</span>

<span class="sd">            - a `requests.auth.AuthBase` instance (which will be used directly)</span>
<span class="sd">            - a tuple of (client_id, client_secret) which will be used to initialize an instance of</span>
<span class="sd">              `default_auth_handler`,</span>
<span class="sd">            - a tuple of (client_id, jwk), used to initialize a `PrivateKeyJwk` (`jwk` being an</span>
<span class="sd">              instance of `jwskate.Jwk` or a `dict`),</span>
<span class="sd">            - a `client_id`, as `str`,</span>
<span class="sd">            - or `None`, to pass `client_id` and other credentials as dedicated parameters, see</span>
<span class="sd">              below.</span>
<span class="sd">        client_id: the Client ID to use for this client</span>
<span class="sd">        client_secret: the Client Secret to use for this client, if any (for clients using</span>
<span class="sd">            an authentication method based on a secret)</span>
<span class="sd">        private_key: the private key to use for private_key_jwt authentication method</span>
<span class="sd">        default_auth_handler: if a client_id and client_secret are provided, initialize an</span>
<span class="sd">            instance of this class with those 2 parameters.</span>
<span class="sd">            You can choose between `ClientSecretBasic`, `ClientSecretPost`, or `ClientSecretJwt`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        an Auth Handler that will manage client authentication to the AS Token Endpoint or other</span>
<span class="sd">        backend endpoints.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">auth</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">client_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">client_secret</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">private_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;Please use either `auth` parameter to provide an authentication method, or use&quot;</span>
            <span class="s2">&quot; `client_id` and one of `client_secret` or `private_key`.&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">client_id</span> <span class="o">=</span> <span class="n">auth</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">auth</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">auth</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># noqa: PLR2004</span>
        <span class="n">client_id</span><span class="p">,</span> <span class="n">credential</span> <span class="o">=</span> <span class="n">auth</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="p">(</span><span class="n">Jwk</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)):</span>
            <span class="n">private_key</span> <span class="o">=</span> <span class="n">credential</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">client_secret</span> <span class="o">=</span> <span class="n">credential</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This credential type is not supported:&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">credential</span><span class="p">),</span> <span class="n">credential</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">client_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;A client_id must be provided.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">private_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PrivateKeyJwt</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">),</span> <span class="n">private_key</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">client_secret</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PublicApp</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">default_auth_handler</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">client_id</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">client_secret</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.device_authorization" class="doc doc-heading">
          <code>device_authorization</code>


<a href="#requests_oauth2client.device_authorization" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Implements the Device Authorization Flow as defined in RFC8628.</p>
<p>See <a href="https://datatracker.ietf.org/doc/html/rfc8628">RFC8628</a>.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" class="doc doc-heading">
          <code>DeviceAuthorizationResponse</code>


<a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Represent a response returned by the device Authorization Endpoint.</p>
<p>All parameters are those returned by the AS as response to a Device Authorization Request.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>user_code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>verification_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>verification_uri_complete</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>device_code</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the expiration date for the device_code.
Also accepts an <code>expires_in</code> parameter, as a number of seconds in the future.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the pooling <code>interval</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent a response returned by the device Authorization Endpoint.</span>

<span class="sd">    All parameters are those returned by the AS as response to a Device Authorization Request.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_code: the `device_code` as returned by the AS.</span>
<span class="sd">        user_code: the `device_code` as returned by the AS.</span>
<span class="sd">        verification_uri: the `device_code` as returned by the AS.</span>
<span class="sd">        verification_uri_complete: the `device_code` as returned by the AS.</span>
<span class="sd">        expires_at: the expiration date for the device_code.</span>
<span class="sd">            Also accepts an `expires_in` parameter, as a number of seconds in the future.</span>
<span class="sd">        interval: the pooling `interval` as returned by the AS.</span>
<span class="sd">        **kwargs: additional parameters as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">user_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verification_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verification_uri_complete</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_code</span> <span class="o">=</span> <span class="n">user_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verification_uri</span> <span class="o">=</span> <span class="n">verification_uri</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verification_uri_complete</span> <span class="o">=</span> <span class="n">verification_uri_complete</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the `device_code` within this response is expired.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the device_code is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">            no `expires_in` hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.device_authorization.DeviceAuthorizationResponse.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse.is_expired" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Check if the <code>device_code</code> within this response is expired.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>True</code> if the device_code is expired, <code>False</code> if it is still valid, <code>None</code> if there is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>no <code>expires_in</code> hint.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the `device_code` within this response is expired.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the device_code is expired, `False` if it is still valid, `None` if there is</span>
<span class="sd">        no `expires_in` hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob" class="doc doc-heading">
          <code>DeviceAuthorizationPoolingJob</code>


<a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.pooling.TokenEndpointPoolingJob" href="#requests_oauth2client.pooling.TokenEndpointPoolingJob">TokenEndpointPoolingJob</a></code></p>

  
      <p>A Token Endpoint pooling job for the Device Authorization Flow.</p>
<p>This periodically checks if the user has finished with his authorization in a Device
Authorization flow.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth2Client that will be used to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>device_code</code></td>
          <td>
                <code>str | <a class="autorefs autorefs-internal" title="requests_oauth2client.device_authorization.DeviceAuthorizationResponse" href="#requests_oauth2client.device_authorization.DeviceAuthorizationResponse">DeviceAuthorizationResponse</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>device_code</code> as <code>str</code> or a <code>DeviceAuthorizationResponse</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pooling interval to use. This overrides the one in <code>auth_req_id</code> if it is
a <code>BackChannelAuthenticationResponse</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of seconds to add to the pooling interval when the AS returns
a slow-down request.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional parameters for the token request.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>auth=("client_id", "client_secret") ) pool_job = DeviceAuthorizationPoolingJob(client=client,
device_code="my_device_code")</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>token = None while token is None: token = pool_job() ```
</code></pre></div></td></tr></table></div>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationPoolingJob</span><span class="p">(</span><span class="n">TokenEndpointPoolingJob</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Token Endpoint pooling job for the Device Authorization Flow.</span>

<span class="sd">    This periodically checks if the user has finished with his authorization in a Device</span>
<span class="sd">    Authorization flow.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: an OAuth2Client that will be used to pool the token endpoint.</span>
<span class="sd">        device_code: a `device_code` as `str` or a `DeviceAuthorizationResponse`.</span>
<span class="sd">        interval: The pooling interval to use. This overrides the one in `auth_req_id` if it is</span>
<span class="sd">            a `BackChannelAuthenticationResponse`.</span>
<span class="sd">        slow_down_interval: Number of seconds to add to the pooling interval when the AS returns</span>
<span class="sd">            a slow-down request.</span>
<span class="sd">        requests_kwargs: Additional parameters for the underlying calls to [requests.request][].</span>
<span class="sd">        **token_kwargs: Additional parameters for the token request.</span>

<span class="sd">    Usage: ```python client = OAuth2Client( token_endpoint=&quot;https://my.as.local/token&quot;,</span>
<span class="sd">    auth=(&quot;client_id&quot;, &quot;client_secret&quot;) ) pool_job = DeviceAuthorizationPoolingJob(client=client,</span>
<span class="sd">    device_code=&quot;my_device_code&quot;)</span>

<span class="sd">        token = None while token is None: token = pool_job() ```</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">DeviceAuthorizationResponse</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">slow_down_interval</span><span class="o">=</span><span class="n">slow_down_interval</span><span class="p">,</span>
            <span class="n">requests_kwargs</span><span class="o">=</span><span class="n">requests_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="n">token_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>

    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implement the Device Code token request.</span>

<span class="sd">        This actually calls [OAuth2Client.device_code(device_code)] on `client`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">device_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>

<a href="#requests_oauth2client.device_authorization.DeviceAuthorizationPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Implement the Device Code token request.</p>
<p>This actually calls [OAuth2Client.device_code(device_code)] on <code>client</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/device_authorization.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement the Device Code token request.</span>

<span class="sd">    This actually calls [OAuth2Client.device_code(device_code)] on `client`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">device_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span> <span class="n">requests_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.discovery" class="doc doc-heading">
          <code>discovery</code>


<a href="#requests_oauth2client.discovery" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Implements Metadata discovery documents URLS.</p>
<p>This is as defined in <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC8615</a> and <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID Connect
Discovery 1.0</a>.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.discovery.well_known_uri" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">well_known_uri</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#requests_oauth2client.discovery.well_known_uri" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Return the location of a well-known document on an origin url.</p>
<p>See <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC8615</a> and <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OIDC
Discovery</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>origin</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>origin to use to build the well-known uri.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>document name to use to build the well-known uri.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>at_root</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if <code>True</code>, assume the well-known document is at root level (as defined in <a href="https://datatracker.ietf.org/doc/html/rfc8615">RFC8615</a>).
If <code>False</code>, assume the well-known location is per-directory, as defined in <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID
Connect Discovery
1.0</a>.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the well-know uri, relative to origin, where the well-known document named <code>name</code> should be</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">well_known_uri</span><span class="p">(</span><span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">at_root</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the location of a well-known document on an origin url.</span>

<span class="sd">    See [RFC8615](https://datatracker.ietf.org/doc/html/rfc8615) and [OIDC</span>
<span class="sd">    Discovery](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Args:</span>
<span class="sd">        origin: origin to use to build the well-known uri.</span>
<span class="sd">        name: document name to use to build the well-known uri.</span>
<span class="sd">        at_root: if `True`, assume the well-known document is at root level (as defined in [RFC8615](https://datatracker.ietf.org/doc/html/rfc8615)).</span>
<span class="sd">            If `False`, assume the well-known location is per-directory, as defined in [OpenID</span>
<span class="sd">            Connect Discovery</span>
<span class="sd">            1.0](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Returns:</span>
<span class="sd">        the well-know uri, relative to origin, where the well-known document named `name` should be</span>
<span class="sd">        found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">furl</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">at_root</span><span class="p">:</span>
        <span class="n">url</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.well-known&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">url</span><span class="o">.</span><span class="n">path</span> <span class="o">/</span> <span class="n">name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">url</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.well-known&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.discovery.oidc_discovery_document_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span></code>

<a href="#requests_oauth2client.discovery.oidc_discovery_document_url" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Construct the OIDC discovery document url for a given <code>issuer</code>.</p>
<p>Given an <code>issuer</code> identifier, return the standardised URL where the OIDC discovery document can
be retrieved.</p>
<p>The returned URL is biuilt as specified in <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID Connect Discovery
1.0</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OIDC Authentication Server <code>issuer</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the standardised discovery document URL. Note that no attempt to fetch this document is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>made.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">oidc_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Construct the OIDC discovery document url for a given `issuer`.</span>

<span class="sd">    Given an `issuer` identifier, return the standardised URL where the OIDC discovery document can</span>
<span class="sd">    be retrieved.</span>

<span class="sd">    The returned URL is biuilt as specified in [OpenID Connect Discovery</span>
<span class="sd">    1.0](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).</span>

<span class="sd">    Args:</span>
<span class="sd">        issuer: an OIDC Authentication Server `issuer`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the standardised discovery document URL. Note that no attempt to fetch this document is</span>
<span class="sd">        made.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">well_known_uri</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="s2">&quot;openid-configuration&quot;</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h4 id="requests_oauth2client.discovery.oauth2_discovery_document_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">oauth2_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">)</span></code>

<a href="#requests_oauth2client.discovery.oauth2_discovery_document_url" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Construct the standardised OAuth 2.0 discovery document url for a given <code>issuer</code>.</p>
<p>Based an <code>issuer</code> identifier, returns the standardised URL where the OAuth20 server metadata can
be retrieved.</p>
<p>The returned URL is built as specified in
<a href="https://datatracker.ietf.org/doc/html/rfc8414">RFC8414</a>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>issuer</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an OAuth20 Authentication Server <code>issuer</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the standardised discovery document URL. Note that no attempt to fetch this document is</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>made.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/discovery.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">oauth2_discovery_document_url</span><span class="p">(</span><span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Construct the standardised OAuth 2.0 discovery document url for a given `issuer`.</span>

<span class="sd">    Based an `issuer` identifier, returns the standardised URL where the OAuth20 server metadata can</span>
<span class="sd">    be retrieved.</span>

<span class="sd">    The returned URL is built as specified in</span>
<span class="sd">    [RFC8414](https://datatracker.ietf.org/doc/html/rfc8414).</span>

<span class="sd">    Args:</span>
<span class="sd">        issuer: an OAuth20 Authentication Server `issuer`</span>

<span class="sd">    Returns:</span>
<span class="sd">        the standardised discovery document URL. Note that no attempt to fetch this document is</span>
<span class="sd">        made.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">well_known_uri</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="s2">&quot;oauth-authorization-server&quot;</span><span class="p">,</span> <span class="n">at_root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.exceptions" class="doc doc-heading">
          <code>exceptions</code>


<a href="#requests_oauth2client.exceptions" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module contains all exception classes from <code>requests_oauth2client</code>.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.OAuth2Error" class="doc doc-heading">
          <code>OAuth2Error</code>


<a href="#requests_oauth2client.exceptions.OAuth2Error" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Base class for Exceptions raised when a backend endpoint returns an error.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the HTTP response containing the error</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">OAuth2Error</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Exceptions raised when a backend endpoint returns an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the HTTP response containing the error</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">response</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The request leading to the error.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.exceptions.OAuth2Error.request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">request</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">PreparedRequest</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.exceptions.OAuth2Error.request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>The request leading to the error.</p>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.EndpointError" class="doc doc-heading">
          <code>EndpointError</code>


<a href="#requests_oauth2client.exceptions.EndpointError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Base class for exceptions raised from backend endpoint errors.</p>
<p>This contains the error message, description and uri that are returned by the AS in the OAuth
2.0 standardised way.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Response" href="https://requests.readthedocs.io/en/master/api/#requests.Response">Response</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the raw requests.PreparedResponse containing the error.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>error</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error</code> identifier as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_description</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_uri</code> as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EndpointError</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for exceptions raised from backend endpoint errors.</span>

<span class="sd">    This contains the error message, description and uri that are returned by the AS in the OAuth</span>
<span class="sd">    2.0 standardised way.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: the raw requests.PreparedResponse containing the error.</span>
<span class="sd">        error: the `error` identifier as returned by the AS.</span>
<span class="sd">        description: the `error_description` as returned by the AS.</span>
<span class="sd">        uri: the `error_uri` as returned by the AS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidTokenResponse" class="doc doc-heading">
          <code>InvalidTokenResponse</code>


<a href="#requests_oauth2client.exceptions.InvalidTokenResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Token Endpoint returns a non-standard response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidTokenResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns a non-standard response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.ExpiredAccessToken" class="doc doc-heading">
          <code>ExpiredAccessToken</code>


<a href="#requests_oauth2client.exceptions.ExpiredAccessToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>RuntimeError</code></p>

  
      <p>Raised when an expired access token is used.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredAccessToken</span><span class="p">(</span><span class="ne">RuntimeError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an expired access token is used.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.UnknownTokenEndpointError" class="doc doc-heading">
          <code>UnknownTokenEndpointError</code>


<a href="#requests_oauth2client.exceptions.UnknownTokenEndpointError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when an otherwise unknown error is returned by the token endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnknownTokenEndpointError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an otherwise unknown error is returned by the token endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.ServerError" class="doc doc-heading">
          <code>ServerError</code>


<a href="#requests_oauth2client.exceptions.ServerError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the token endpoint returns <code>error = server_error</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ServerError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the token endpoint returns `error = server_error`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.TokenEndpointError" class="doc doc-heading">
          <code>TokenEndpointError</code>


<a href="#requests_oauth2client.exceptions.TokenEndpointError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for errors that are specific to the token endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TokenEndpointError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for errors that are specific to the token endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidRequest" class="doc doc-heading">
          <code>InvalidRequest</code>


<a href="#requests_oauth2client.exceptions.InvalidRequest" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_request</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidRequest</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_request`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidClient" class="doc doc-heading">
          <code>InvalidClient</code>


<a href="#requests_oauth2client.exceptions.InvalidClient" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_client</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidClient</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_client`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidScope" class="doc doc-heading">
          <code>InvalidScope</code>


<a href="#requests_oauth2client.exceptions.InvalidScope" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_scope</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidScope</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_scope`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidTarget" class="doc doc-heading">
          <code>InvalidTarget</code>


<a href="#requests_oauth2client.exceptions.InvalidTarget" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_target</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidTarget</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_target`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidGrant" class="doc doc-heading">
          <code>InvalidGrant</code>


<a href="#requests_oauth2client.exceptions.InvalidGrant" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = invalid_grant</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidGrant</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = invalid_grant`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.AccessDenied" class="doc doc-heading">
          <code>AccessDenied</code>


<a href="#requests_oauth2client.exceptions.AccessDenied" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the Authorization Server returns <code>error = access_denied</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccessDenied</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Server returns `error = access_denied`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.UnauthorizedClient" class="doc doc-heading">
          <code>UnauthorizedClient</code>


<a href="#requests_oauth2client.exceptions.UnauthorizedClient" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Raised when the Authorization Server returns <code>error = unauthorized_client</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnauthorizedClient</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Server returns `error = unauthorized_client`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.RevocationError" class="doc doc-heading">
          <code>RevocationError</code>


<a href="#requests_oauth2client.exceptions.RevocationError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Revocation Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">RevocationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Revocation Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.UnsupportedTokenType" class="doc doc-heading">
          <code>UnsupportedTokenType</code>


<a href="#requests_oauth2client.exceptions.UnsupportedTokenType" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.RevocationError" href="#requests_oauth2client.exceptions.RevocationError">RevocationError</a></code></p>

  
      <p>Raised when the Revocation endpoint returns <code>error = unsupported_token_type</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnsupportedTokenType</span><span class="p">(</span><span class="n">RevocationError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Revocation endpoint returns `error = unsupported_token_type`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.IntrospectionError" class="doc doc-heading">
          <code>IntrospectionError</code>


<a href="#requests_oauth2client.exceptions.IntrospectionError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Introspection Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IntrospectionError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Introspection Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.UnknownIntrospectionError" class="doc doc-heading">
          <code>UnknownIntrospectionError</code>


<a href="#requests_oauth2client.exceptions.UnknownIntrospectionError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Introspection Endpoint returns a non-standard error.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">UnknownIntrospectionError</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Introspection Endpoint returns a non-standard error.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.DeviceAuthorizationError" class="doc doc-heading">
          <code>DeviceAuthorizationError</code>


<a href="#requests_oauth2client.exceptions.DeviceAuthorizationError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for Device Authorization Endpoint errors.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeviceAuthorizationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Device Authorization Endpoint errors.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.AuthorizationPending" class="doc doc-heading">
          <code>AuthorizationPending</code>


<a href="#requests_oauth2client.exceptions.AuthorizationPending" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = authorization_pending</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationPending</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = authorization_pending`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.SlowDown" class="doc doc-heading">
          <code>SlowDown</code>


<a href="#requests_oauth2client.exceptions.SlowDown" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = slow_down</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SlowDown</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = slow_down`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.ExpiredToken" class="doc doc-heading">
          <code>ExpiredToken</code>


<a href="#requests_oauth2client.exceptions.ExpiredToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.TokenEndpointError" href="#requests_oauth2client.exceptions.TokenEndpointError">TokenEndpointError</a></code></p>

  
      <p>Raised when the Token Endpoint returns <code>error = expired_token</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredToken</span><span class="p">(</span><span class="n">TokenEndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Token Endpoint returns `error = expired_token`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidDeviceAuthorizationResponse" class="doc doc-heading">
          <code>InvalidDeviceAuthorizationResponse</code>


<a href="#requests_oauth2client.exceptions.InvalidDeviceAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Device Authorization Endpoint returns a non-standard error response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidDeviceAuthorizationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Device Authorization Endpoint returns a non-standard error response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidIdToken" class="doc doc-heading">
          <code>InvalidIdToken</code>


<a href="#requests_oauth2client.exceptions.InvalidIdToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="jwskate.InvalidJwt">InvalidJwt</span></code></p>

  
      <p>Raised when trying to validate an invalid ID Token value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidIdToken</span><span class="p">(</span><span class="n">InvalidJwt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when trying to validate an invalid ID Token value.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.AuthorizationResponseError" class="doc doc-heading">
          <code>AuthorizationResponseError</code>


<a href="#requests_oauth2client.exceptions.AuthorizationResponseError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Base class for error responses returned by the Authorization endpoint.</p>
<p>An <code>AuthorizationResponseError</code> contains the error message, description and uri that are
returned by the AS.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>error</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error</code> identifier as returned by the AS</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_description</code> as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>uri</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>error_uri</code> as returned by the AS</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorizationResponseError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for error responses returned by the Authorization endpoint.</span>

<span class="sd">    An `AuthorizationResponseError` contains the error message, description and uri that are</span>
<span class="sd">    returned by the AS.</span>

<span class="sd">    Args:</span>
<span class="sd">        error: the `error` identifier as returned by the AS</span>
<span class="sd">        description: the `error_description` as returned by the AS</span>
<span class="sd">        uri: the `error_uri` as returned by the AS</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">uri</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InteractionRequired" class="doc doc-heading">
          <code>InteractionRequired</code>


<a href="#requests_oauth2client.exceptions.InteractionRequired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.AuthorizationResponseError" href="#requests_oauth2client.exceptions.AuthorizationResponseError">AuthorizationResponseError</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = interaction_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InteractionRequired</span><span class="p">(</span><span class="n">AuthorizationResponseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = interaction_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.LoginRequired" class="doc doc-heading">
          <code>LoginRequired</code>


<a href="#requests_oauth2client.exceptions.LoginRequired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = login_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LoginRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = login_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.AccountSelectionRequired" class="doc doc-heading">
          <code>AccountSelectionRequired</code>


<a href="#requests_oauth2client.exceptions.AccountSelectionRequired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = account_selection_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccountSelectionRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = account_selection_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.SessionSelectionRequired" class="doc doc-heading">
          <code>SessionSelectionRequired</code>


<a href="#requests_oauth2client.exceptions.SessionSelectionRequired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = session_selection_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SessionSelectionRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = session_selection_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.ConsentRequired" class="doc doc-heading">
          <code>ConsentRequired</code>


<a href="#requests_oauth2client.exceptions.ConsentRequired" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InteractionRequired" href="#requests_oauth2client.exceptions.InteractionRequired">InteractionRequired</a></code></p>

  
      <p>Raised when the Authorization Endpoint returns <code>error = consent_required</code>.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ConsentRequired</span><span class="p">(</span><span class="n">InteractionRequired</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns `error = consent_required`.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidAuthResponse" class="doc doc-heading">
          <code>InvalidAuthResponse</code>


<a href="#requests_oauth2client.exceptions.InvalidAuthResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Raised when the Authorization Endpoint returns an invalid response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidAuthResponse</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint returns an invalid response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MissingAuthCode" class="doc doc-heading">
          <code>MissingAuthCode</code>


<a href="#requests_oauth2client.exceptions.MissingAuthCode" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return the mandatory <code>code</code>.</p>
<p>This happens when the Authorization Endpoint does not return an error, but does not return an
authorization <code>code</code> either.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingAuthCode</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return the mandatory `code`.</span>

<span class="sd">    This happens when the Authorization Endpoint does not return an error, but does not return an</span>
<span class="sd">    authorization `code` either.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MissingIssuer" class="doc doc-heading">
          <code>MissingIssuer</code>


<a href="#requests_oauth2client.exceptions.MissingIssuer" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return an <code>iss</code> parameter as expected.</p>
<p>The Authorization Server advertises its support with a flag
<code>authorization_response_iss_parameter_supported</code> in its discovery document. If it is set to
<code>true</code>, it must include an <code>iss</code> parameter in its authorization responses, containing its issuer
identifier.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingIssuer</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return an `iss` parameter as expected.</span>

<span class="sd">    The Authorization Server advertises its support with a flag</span>
<span class="sd">    `authorization_response_iss_parameter_supported` in its discovery document. If it is set to</span>
<span class="sd">    `true`, it must include an `iss` parameter in its authorization responses, containing its issuer</span>
<span class="sd">    identifier.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MissingIdToken" class="doc doc-heading">
          <code>MissingIdToken</code>


<a href="#requests_oauth2client.exceptions.MissingIdToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised when the Authorization Endpoint does not return a mandatory ID Token.</p>
<p>This happens when the Authorization Endpoint does not return an error, but does not return an ID
Token either.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MissingIdToken</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Authorization Endpoint does not return a mandatory ID Token.</span>

<span class="sd">    This happens when the Authorization Endpoint does not return an error, but does not return an ID</span>
<span class="sd">    Token either.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingState" class="doc doc-heading">
          <code>MismatchingState</code>


<a href="#requests_oauth2client.exceptions.MismatchingState" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised on mismatching <code>state</code> value.</p>
<p>This happens when the Authorization Endpoints returns a 'state' parameter that doesn't match the
value passed in the Authorization Request.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingState</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `state` value.</span>

<span class="sd">    This happens when the Authorization Endpoints returns a &#39;state&#39; parameter that doesn&#39;t match the</span>
<span class="sd">    value passed in the Authorization Request.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingIssuer" class="doc doc-heading">
          <code>MismatchingIssuer</code>


<a href="#requests_oauth2client.exceptions.MismatchingIssuer" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidAuthResponse" href="#requests_oauth2client.exceptions.InvalidAuthResponse">InvalidAuthResponse</a></code></p>

  
      <p>Raised on mismatching <code>iss</code> value.</p>
<p>This happens when the Authorization Endpoints returns an 'iss' that doesn't match the expected
value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingIssuer</span><span class="p">(</span><span class="n">InvalidAuthResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `iss` value.</span>

<span class="sd">    This happens when the Authorization Endpoints returns an &#39;iss&#39; that doesn&#39;t match the expected</span>
<span class="sd">    value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingNonce" class="doc doc-heading">
          <code>MismatchingNonce</code>


<a href="#requests_oauth2client.exceptions.MismatchingNonce" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised on mismatching <code>nonce</code> value in an ID Token.</p>
<p>This happens when the authorization request includes a <code>nonce</code> but the returned ID Token include
a different value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingNonce</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised on mismatching `nonce` value in an ID Token.</span>

<span class="sd">    This happens when the authorization request includes a `nonce` but the returned ID Token include</span>
<span class="sd">    a different value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingAcr" class="doc doc-heading">
          <code>MismatchingAcr</code>


<a href="#requests_oauth2client.exceptions.MismatchingAcr" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token doesn't contain one of the requested ACR Values.</p>
<p>This happens when the authorization request includes an <code>acr_values</code> parameter but the returned
ID Token includes a different value.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAcr</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token doesn&#39;t contain one of the requested ACR Values.</span>

<span class="sd">    This happens when the authorization request includes an `acr_values` parameter but the returned</span>
<span class="sd">    ID Token includes a different value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingAudience" class="doc doc-heading">
          <code>MismatchingAudience</code>


<a href="#requests_oauth2client.exceptions.MismatchingAudience" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the ID Token audience does not include the requesting Client ID.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAudience</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the ID Token audience does not include the requesting Client ID.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingAzp" class="doc doc-heading">
          <code>MismatchingAzp</code>


<a href="#requests_oauth2client.exceptions.MismatchingAzp" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the ID Token Authorized Presenter (azp) claim is not the Client ID.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingAzp</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the ID Token Authorized Presenter (azp) claim is not the Client ID.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.MismatchingIdTokenAlg" class="doc doc-heading">
          <code>MismatchingIdTokenAlg</code>


<a href="#requests_oauth2client.exceptions.MismatchingIdTokenAlg" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token is signed with an unexpected alg.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token is signed with an unexpected alg.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.ExpiredIdToken" class="doc doc-heading">
          <code>ExpiredIdToken</code>


<a href="#requests_oauth2client.exceptions.ExpiredIdToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.InvalidIdToken" href="#requests_oauth2client.exceptions.InvalidIdToken">InvalidIdToken</a></code></p>

  
      <p>Raised when the returned ID Token is expired.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExpiredIdToken</span><span class="p">(</span><span class="n">InvalidIdToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the returned ID Token is expired.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.BackChannelAuthenticationError" class="doc doc-heading">
          <code>BackChannelAuthenticationError</code>


<a href="#requests_oauth2client.exceptions.BackChannelAuthenticationError" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.EndpointError" href="#requests_oauth2client.exceptions.EndpointError">EndpointError</a></code></p>

  
      <p>Base class for errors returned by the BackChannel Authentication endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BackChannelAuthenticationError</span><span class="p">(</span><span class="n">EndpointError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for errors returned by the BackChannel Authentication endpoint.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidBackChannelAuthenticationResponse" class="doc doc-heading">
          <code>InvalidBackChannelAuthenticationResponse</code>


<a href="#requests_oauth2client.exceptions.InvalidBackChannelAuthenticationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the BackChannel Authentication endpoint returns a non-standard response.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidBackChannelAuthenticationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the BackChannel Authentication endpoint returns a non-standard response.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" class="doc doc-heading">
          <code>InvalidPushedAuthorizationResponse</code>


<a href="#requests_oauth2client.exceptions.InvalidPushedAuthorizationResponse" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.exceptions.OAuth2Error" href="#requests_oauth2client.exceptions.OAuth2Error">OAuth2Error</a></code></p>

  
      <p>Raised when the Pushed Authorization Endpoint returns an error.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidPushedAuthorizationResponse</span><span class="p">(</span><span class="n">OAuth2Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the Pushed Authorization Endpoint returns an error.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.flask" class="doc doc-heading">
          <code>flask</code>


<a href="#requests_oauth2client.flask" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module contains helper classes for the Flask Framework.</p>
<p>See <a href="https://flask.palletsprojects.com">Flask framework</a>.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.flask.FlaskOAuth2ClientCredentialsAuth" class="doc doc-heading">
          <code>FlaskOAuth2ClientCredentialsAuth</code>


<a href="#requests_oauth2client.flask.FlaskOAuth2ClientCredentialsAuth" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.flask.auth.FlaskSessionAuthMixin" href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin">FlaskSessionAuthMixin</a></code>, <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2ClientCredentialsAuth" href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth">OAuth2ClientCredentialsAuth</a></code></p>

  
      <p>A <code>requests</code> Auth handler for CC grant that stores its token in Flask session.</p>
<p>It will automatically get Access Tokens from an OAuth 2.x AS with the Client Credentials grant
(and can get a new one once the first one is expired), and stores the retrieved token,
serialized in Flask <code>session</code>, so that each user has a different access token.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/flask/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FlaskOAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">FlaskSessionAuthMixin</span><span class="p">,</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A `requests` Auth handler for CC grant that stores its token in Flask session.</span>

<span class="sd">    It will automatically get Access Tokens from an OAuth 2.x AS with the Client Credentials grant</span>
<span class="sd">    (and can get a new one once the first one is expired), and stores the retrieved token,</span>
<span class="sd">    serialized in Flask `session`, so that each user has a different access token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>



<div class="doc doc-object doc-module">



<h4 id="requests_oauth2client.flask.auth" class="doc doc-heading">
          <code>auth</code>


<a href="#requests_oauth2client.flask.auth" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-contents ">
  
      <p>Helper classes for the <a href="https://flask.palletsprojects.com">Flask</a> framework.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h5 id="requests_oauth2client.flask.auth.FlaskSessionAuthMixin" class="doc doc-heading">
          <code>FlaskSessionAuthMixin</code>


<a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">

  
      <p>A Mixin for auth handlers to store their tokens in Flask session.</p>
<p>Storing tokens in Flask session does ensure that each user of a Flask application has a
different access token, and that tokens used for backend API access will be persisted between
multiple requests to the front-end Flask app.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>session_key</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the key that will be used to store the access token in session.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>serializer</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerTokenSerializer" href="#requests_oauth2client.tokens.BearerTokenSerializer">BearerTokenSerializer</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serializer that will be used to store the access token in session.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/flask/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FlaskSessionAuthMixin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Mixin for auth handlers to store their tokens in Flask session.</span>

<span class="sd">    Storing tokens in Flask session does ensure that each user of a Flask application has a</span>
<span class="sd">    different access token, and that tokens used for backend API access will be persisted between</span>
<span class="sd">    multiple requests to the front-end Flask app.</span>

<span class="sd">    Args:</span>
<span class="sd">        session_key: the key that will be used to store the access token in session.</span>
<span class="sd">        serializer: the serializer that will be used to store the access token in session.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">serializer</span><span class="p">:</span> <span class="n">BearerTokenSerializer</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">token_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span> <span class="o">=</span> <span class="n">serializer</span> <span class="ow">or</span> <span class="n">BearerTokenSerializer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span> <span class="o">=</span> <span class="n">session_key</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Access Token stored in session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The current `BearerToken` for this session, if any.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">serialized_token</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">session_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">serialized_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">serialized_token</span><span class="p">)</span>

    <span class="nd">@token</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Store an Access Token in session.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the token to store</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">if</span> <span class="n">token</span><span class="p">:</span>
            <span class="n">serialized_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
            <span class="n">session</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">serialized_token</span>
        <span class="k">elif</span> <span class="n">session</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">session</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">session_key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="requests_oauth2client.flask.auth.FlaskSessionAuthMixin.token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin.token" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">
  
      <p>Return the Access Token stored in session.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The current <code>BearerToken</code> for this session, if any.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>





  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h5 id="requests_oauth2client.flask.auth.FlaskOAuth2ClientCredentialsAuth" class="doc doc-heading">
          <code>FlaskOAuth2ClientCredentialsAuth</code>


<a href="#requests_oauth2client.flask.auth.FlaskOAuth2ClientCredentialsAuth" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.flask.auth.FlaskSessionAuthMixin" href="#requests_oauth2client.flask.auth.FlaskSessionAuthMixin">FlaskSessionAuthMixin</a></code>, <code><a class="autorefs autorefs-internal" title="requests_oauth2client.auth.OAuth2ClientCredentialsAuth" href="#requests_oauth2client.auth.OAuth2ClientCredentialsAuth">OAuth2ClientCredentialsAuth</a></code></p>

  
      <p>A <code>requests</code> Auth handler for CC grant that stores its token in Flask session.</p>
<p>It will automatically get Access Tokens from an OAuth 2.x AS with the Client Credentials grant
(and can get a new one once the first one is expired), and stores the retrieved token,
serialized in Flask <code>session</code>, so that each user has a different access token.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/flask/auth.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FlaskOAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">FlaskSessionAuthMixin</span><span class="p">,</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A `requests` Auth handler for CC grant that stores its token in Flask session.</span>

<span class="sd">    It will automatically get Access Tokens from an OAuth 2.x AS with the Client Credentials grant</span>
<span class="sd">    (and can get a new one once the first one is expired), and stores the retrieved token,</span>
<span class="sd">    serialized in Flask `session`, so that each user has a different access token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.pooling" class="doc doc-heading">
          <code>pooling</code>


<a href="#requests_oauth2client.pooling" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Contains base classes for pooling jobs.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.pooling.TokenEndpointPoolingJob" class="doc doc-heading">
          <code>TokenEndpointPoolingJob</code>


<a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="abc.ABC">ABC</span></code></p>

  
      <p>Base class for Token Endpoint pooling jobs.</p>
<p>This is used for decoupled flows like CIBA or Device Authorization.</p>
<p>This class must be subclassed to implement actual BackChannel flows. This needs an
<a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> that will be used to pool the token
endpoint. The initial pooling <code>interval</code> is configurable.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.client.OAuth2Client" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a> that will be used
to pool the token endpoint.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>initial pooling interval, in seconds. If <code>None</code>, default to <code>5</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>slow_down_interval</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>when a <a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.SlowDown">SlowDown</a> is
received, this number of seconds will be added to the pooling interval.</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>requests_kwargs</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the underlying calls to <a class="autorefs autorefs-external" href="https://requests.readthedocs.io/en/master/api/#requests.request">requests.request</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**token_kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters for the token request</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/pooling.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TokenEndpointPoolingJob</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Token Endpoint pooling jobs.</span>

<span class="sd">    This is used for decoupled flows like CIBA or Device Authorization.</span>

<span class="sd">    This class must be subclassed to implement actual BackChannel flows. This needs an</span>
<span class="sd">    [OAuth2Client][requests_oauth2client.client.OAuth2Client] that will be used to pool the token</span>
<span class="sd">    endpoint. The initial pooling `interval` is configurable.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the [OAuth2Client][requests_oauth2client.client.OAuth2Client] that will be used</span>
<span class="sd">            to pool the token endpoint.</span>
<span class="sd">        interval: initial pooling interval, in seconds. If `None`, default to `5`.</span>
<span class="sd">        slow_down_interval: when a [SlowDown][requests_oauth2client.exceptions.SlowDown] is</span>
<span class="sd">            received, this number of seconds will be added to the pooling interval.</span>
<span class="sd">        requests_kwargs: additional parameters for the underlying calls to [requests.request][]</span>
<span class="sd">        **token_kwargs: additional parameters for the token request</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">slow_down_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">requests_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">token_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">interval</span> <span class="ow">or</span> <span class="mi">5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slow_down_interval</span> <span class="o">=</span> <span class="n">slow_down_interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requests_kwargs</span> <span class="o">=</span> <span class="n">requests_kwargs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_kwargs</span> <span class="o">=</span> <span class="n">token_kwargs</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wrap the actual Token Endpoint call with a pooling interval.</span>

<span class="sd">        Everytime this method is called, it will wait for the entire duration of the pooling</span>
<span class="sd">        interval before calling</span>
<span class="sd">        [token_request()][requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request]. So</span>
<span class="sd">        you can call it immediately after initiating the BackChannel flow, and it will wait before</span>
<span class="sd">        initiating the first call.</span>

<span class="sd">        This implements the logic to handle</span>
<span class="sd">        [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] or</span>
<span class="sd">        [SlowDown][requests_oauth2client.exceptions.SlowDown] requests by the AS.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken] if the AS returns one, or</span>
<span class="sd">            `None` if the Authorization is still pending.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_request</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">SlowDown</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">slow_down_interval</span>
        <span class="k">except</span> <span class="n">AuthorizationPending</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method for the token endpoint call.</span>

<span class="sd">        This must be implemented by subclasses. This method must Must raise</span>
<span class="sd">        [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] to retry after</span>
<span class="sd">        the pooling interval, or [SlowDown][requests_oauth2client.exceptions.SlowDown] to increase</span>
<span class="sd">        the pooling interval by `slow_down_interval` seconds.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">token_request</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#requests_oauth2client.pooling.TokenEndpointPoolingJob.token_request" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Abstract method for the token endpoint call.</p>
<p>This must be implemented by subclasses. This method must Must raise
<a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.AuthorizationPending">AuthorizationPending</a> to retry after
the pooling interval, or <a class="autorefs autorefs-internal" href="#requests_oauth2client.exceptions.SlowDown">SlowDown</a> to increase
the pooling interval by <code>slow_down_interval</code> seconds.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <a class="autorefs autorefs-internal" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/pooling.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">token_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract method for the token endpoint call.</span>

<span class="sd">    This must be implemented by subclasses. This method must Must raise</span>
<span class="sd">    [AuthorizationPending][requests_oauth2client.exceptions.AuthorizationPending] to retry after</span>
<span class="sd">    the pooling interval, or [SlowDown][requests_oauth2client.exceptions.SlowDown] to increase</span>
<span class="sd">    the pooling interval by `slow_down_interval` seconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a [BearerToken][requests_oauth2client.tokens.BearerToken]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.tokens" class="doc doc-heading">
          <code>tokens</code>


<a href="#requests_oauth2client.tokens" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>This module contains classes that represent Tokens used in OAuth2.0 / OIDC.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.TokenType" class="doc doc-heading">
          <code>TokenType</code>


<a href="#requests_oauth2client.tokens.TokenType" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>An enum of standardised <code>token_type</code> values.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TokenType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An enum of standardised `token_type` values.&quot;&quot;&quot;</span>

    <span class="n">ACCESS_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;access_token&quot;</span>
    <span class="n">REFRESH_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;refresh_token&quot;</span>
    <span class="n">ID_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;id_token&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.AccessTokenType" class="doc doc-heading">
          <code>AccessTokenType</code>


<a href="#requests_oauth2client.tokens.AccessTokenType" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>An enum of standardised <code>access_token</code> types.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccessTokenType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An enum of standardised `access_token` types.&quot;&quot;&quot;</span>

    <span class="n">BEARER</span> <span class="o">=</span> <span class="s2">&quot;Bearer&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.IdToken" class="doc doc-heading">
          <code>IdToken</code>


<a href="#requests_oauth2client.tokens.IdToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="jwskate.SignedJwt">SignedJwt</span></code></p>

  
      <p>Represent an ID Token.</p>
<p>An ID Token is actually a Signed JWT. If the ID Token is encrypted, it must be decoded
beforehand.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IdToken</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SignedJwt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an ID Token.</span>

<span class="sd">    An ID Token is actually a Signed JWT. If the ID Token is encrypted, it must be decoded</span>
<span class="sd">    beforehand.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">auth_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The last user authentication time.&quot;&quot;&quot;</span>
        <span class="n">auth_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">claims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auth_time&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">auth_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp_to_datetime</span><span class="p">(</span><span class="n">auth_time</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;This ID Token doesn&#39;t have an `auth_time` attribute.&quot;</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">Jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: the ID token signature verification public key</span>
<span class="sd">            alg: the ID token signature algorithm</span>

<span class="sd">        Returns:</span>
<span class="sd">            a callable that takes a string as input and produces a valid hash as a str output</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">alg_class</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">select_alg_class</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">SIGNATURE_ALGORITHMS</span><span class="p">,</span> <span class="n">jwk_alg</span><span class="o">=</span><span class="n">key</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alg_class</span> <span class="o">==</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">EdDsa</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed25519&quot;</span><span class="p">:</span>

                <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha512&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed448&quot;</span><span class="p">:</span>

                <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;shake256&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">hash_alg</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">name</span>
            <span class="n">hash_size</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">digest_size</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">hash_alg</span><span class="p">)[:</span> <span class="n">hash_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">hash_method</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.tokens.IdToken.auth_time" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">auth_time</span><span class="p">:</span> <span class="n">datetime</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.tokens.IdToken.auth_time" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>The last user authentication time.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.IdToken.hash_method" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">hash_method</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.tokens.IdToken.hash_method" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td>
                <code><span title="jwskate.Jwk">Jwk</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID token signature verification public key</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>alg</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the ID token signature algorithm</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Callable">Callable</span>[[str], str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a callable that takes a string as input and produces a valid hash as a str output</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">Jwk</span><span class="p">,</span> <span class="n">alg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a callable that generates valid OIDC hashes, such as at_hash, c_hash, s_hash.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: the ID token signature verification public key</span>
<span class="sd">        alg: the ID token signature algorithm</span>

<span class="sd">    Returns:</span>
<span class="sd">        a callable that takes a string as input and produces a valid hash as a str output</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alg_class</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">select_alg_class</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">SIGNATURE_ALGORITHMS</span><span class="p">,</span> <span class="n">jwk_alg</span><span class="o">=</span><span class="n">key</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">alg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">alg_class</span> <span class="o">==</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">EdDsa</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed25519&quot;</span><span class="p">:</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;sha512&quot;</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">crv</span> <span class="o">==</span> <span class="s2">&quot;Ed448&quot;</span><span class="p">:</span>

            <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;shake256&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">hash_alg</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">name</span>
        <span class="n">hash_size</span> <span class="o">=</span> <span class="n">alg_class</span><span class="o">.</span><span class="n">hashing_alg</span><span class="o">.</span><span class="n">digest_size</span>

        <span class="k">def</span> <span class="nf">hash_method</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">hash_alg</span><span class="p">)[:</span> <span class="n">hash_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">hash_method</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.AccessToken" class="doc doc-heading">
          <code>AccessToken</code>


<a href="#requests_oauth2client.tokens.AccessToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Base class for Access Tokens.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AccessToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for Access Tokens.&quot;&quot;&quot;</span>

    <span class="n">TOKEN_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.BearerToken" class="doc doc-heading">
          <code>BearerToken</code>


<a href="#requests_oauth2client.tokens.BearerToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.AccessToken" href="#requests_oauth2client.tokens.AccessToken">AccessToken</a></code></p>

  
      <p>Represents a Bearer Token as returned by a Token Endpoint.</p>
<p>This is a wrapper around a Bearer Token and associated parameters, such as expiration date and
refresh token, as returned by an OAuth 2.x or OIDC 1.0 Token Endpoint.</p>
<p>All parameters are as returned by a Token Endpoint. The token expiration date can be passed as
datetime in the <code>expires_at</code> parameter, or an <code>expires_in</code> parameter, as number of seconds in
the future, can be passed instead.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>access_token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>access_token</code>, as returned by the AS.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expires_at</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an expiration date. This method also accepts an <code>expires_in</code> hint as
returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scope</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>scope</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh_token</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>refresh_token</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>token_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a <code>token_type</code>, as returned by the AS.</p>
            </div>
          </td>
          <td>
                <code><span title="requests_oauth2client.tokens.BearerToken.TOKEN_TYPE">TOKEN_TYPE</span></code>
          </td>
        </tr>
        <tr>
          <td><code>id_token</code></td>
          <td>
                <code>str | bytes | <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.IdToken" href="#requests_oauth2client.tokens.IdToken">IdToken</a> | <span title="jwskate.JweCompact">JweCompact</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>an <code>id_token</code>, as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional parameters as returned by the AS, if any.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@frozen</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">BearerToken</span><span class="p">(</span><span class="n">AccessToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a Bearer Token as returned by a Token Endpoint.</span>

<span class="sd">    This is a wrapper around a Bearer Token and associated parameters, such as expiration date and</span>
<span class="sd">    refresh token, as returned by an OAuth 2.x or OIDC 1.0 Token Endpoint.</span>

<span class="sd">    All parameters are as returned by a Token Endpoint. The token expiration date can be passed as</span>
<span class="sd">    datetime in the `expires_at` parameter, or an `expires_in` parameter, as number of seconds in</span>
<span class="sd">    the future, can be passed instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        access_token: an `access_token`, as returned by the AS.</span>
<span class="sd">        expires_at: an expiration date. This method also accepts an `expires_in` hint as</span>
<span class="sd">            returned by the AS, if any.</span>
<span class="sd">        scope: a `scope`, as returned by the AS, if any.</span>
<span class="sd">        refresh_token: a `refresh_token`, as returned by the AS, if any.</span>
<span class="sd">        token_type: a `token_type`, as returned by the AS.</span>
<span class="sd">        id_token: an `id_token`, as returned by the AS, if any.</span>
<span class="sd">        **kwargs: additional parameters as returned by the AS, if any.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TOKEN_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AccessTokenType</span><span class="o">.</span><span class="n">BEARER</span><span class="o">.</span><span class="n">value</span>

    <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">TOKEN_TYPE</span>
    <span class="n">id_token</span><span class="p">:</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="nd">@accepts_expires_in</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">TOKEN_TYPE</span><span class="p">,</span>
        <span class="n">id_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">token_type</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_TYPE</span><span class="o">.</span><span class="n">title</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Token Type is not &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_TYPE</span><span class="si">}</span><span class="s2">&#39;!&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">token_type</span><span class="p">)</span>
        <span class="n">id_token_jwt</span><span class="p">:</span> <span class="n">IdToken</span> <span class="o">|</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">id_token</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">InvalidJwt</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">InvalidJwe</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is invalid because it is  neither a JWT or a JWE.&quot;</span>
                    <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_token_jwt</span> <span class="o">=</span> <span class="n">id_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__attrs_init__</span><span class="p">(</span>
            <span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type</span><span class="o">=</span><span class="n">token_type</span><span class="p">,</span>
            <span class="n">id_token</span><span class="o">=</span><span class="n">id_token_jwt</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the access token is expired.</span>

<span class="sd">        Args:</span>
<span class="sd">            leeway: If the token expires in the next given number of seconds,</span>
<span class="sd">                then consider it expired already.</span>

<span class="sd">        Returns:</span>
<span class="sd">            One of:</span>

<span class="sd">            - `True` if the access token is expired</span>
<span class="sd">            - `False` if it is still valid</span>
<span class="sd">            - `None` if there is no expires_in hint.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">authorization_header</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the appropriate Authorization Header value for this token.</span>

<span class="sd">        The value is formatted correctly according to RFC6750.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the value to use in an HTTP Authorization Header</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>  <span class="c1"># noqa: C901, PLR0915</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that a token response is valid, and return the ID Token.</span>

<span class="sd">        This will validate the id_token as described in [OIDC 1.0</span>
<span class="sd">        $3.1.3.7](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span>

<span class="sd">        If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingIdToken</span><span class="p">()</span>

        <span class="n">raw_id_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted while it should be clear-text&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is clear-text while it should be encrypted&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">):</span>
            <span class="n">enc_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_decryption_key</span>
            <span class="k">if</span> <span class="n">enc_jwk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted but client does not have a decryption key&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="n">nested_id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">enc_jwk</span><span class="p">)</span>
            <span class="n">id_token</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">nested_id_token</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;alg&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;ID Token does not contain an `alg` parameter to specify the signature&quot;</span>
                <span class="s2">&quot; algorithm, and no algorithm has been configured for the client (using param&quot;</span>
                <span class="s2">&quot; id_token_signed_response_alg`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">)</span>

        <span class="n">id_token_alg</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAudience</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;azp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">azp</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAzp</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">azp</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ExpiredIdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">nonce</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingNonce</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">acr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MismatchingAcr</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">acr</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">)</span>

        <span class="n">hash_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># method used to calculate at_hash, s_hash, etc.</span>

        <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_SYMMETRIC</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is symmetrically signed but this client does not have a Client Secret.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">),</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_ASYMMETRIC</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but the Authorization Server JWKS is not available.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;ID Token does not contain a Key ID (kid) to specify the asymmetric key &quot;</span>
                    <span class="s2">&quot;to use for signature verification.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">verification_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">get_jwk_by_kid</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;ID Token is asymmetrically signed but its Key ID &#39;</span><span class="si">{</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;is not part of the Authorization Server JWKS.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">verification_jwk</span><span class="o">.</span><span class="n">supported_signing_algorithms</span><span class="p">():</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but its algorithm is not supported by the verification key.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>

            <span class="n">hash_function</span> <span class="o">=</span> <span class="n">IdToken</span><span class="o">.</span><span class="n">hash_method</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">id_token_alg</span><span class="p">)</span>

        <span class="n">at_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;at_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">at_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expected_at_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_at_hash</span> <span class="o">!=</span> <span class="n">at_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;at_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_at_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">at_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">c_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;c_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expected_c_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_c_hash</span> <span class="o">!=</span> <span class="n">c_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;c_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_c_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">c_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">s_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;s_hash&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">s_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token has a &#39;s_hash&#39; claim but no state was included in the request.&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">expected_s_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">expected_s_hash</span> <span class="o">!=</span> <span class="n">s_hash</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;s_hash&#39; value (expected &#39;</span><span class="si">{</span><span class="n">expected_s_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">s_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">auth_time</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">auth_time</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;A `max_age` parameter was included in the authorization request, &quot;</span>
                    <span class="s2">&quot;but the ID Token does not contain an `auth_time` claim.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
            <span class="n">auth_age</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">auth_time</span>
            <span class="k">if</span> <span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span> <span class="o">&gt;</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="o">+</span> <span class="mi">60</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;User authentication happened too long ago. The `auth_time` parameter from&quot;</span>
                    <span class="s2">&quot; the ID Token indicate that the last Authentication Time was at&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">auth_time</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span><span class="si">}</span><span class="s2"> sec ago), but the authorization request&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; `max_age` parameter specified that it must be maximum </span><span class="si">{</span><span class="n">azr</span><span class="o">.</span><span class="n">max_age</span><span class="si">}</span><span class="s2"> sec&quot;</span>
                    <span class="s2">&quot; ago.&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span>
            <span class="n">token_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_type</span><span class="p">,</span>
            <span class="n">id_token</span><span class="o">=</span><span class="n">id_token</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the access token value, as a string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the access token string</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span>

    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a dict of parameters.</span>

<span class="sd">        That is suitable for serialization or to init another BearerToken.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span>
        <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">expires_in</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Number of seconds until expiration.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return custom attributes from this BearerToken.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: a key</span>

<span class="sd">        Returns:</span>
<span class="sd">            the associated value in this token response</span>

<span class="sd">        Raises:</span>
<span class="sd">            AttributeError: if the attribute is not found in this response.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="requests_oauth2client.tokens.BearerToken.expires_in" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#requests_oauth2client.tokens.BearerToken.expires_in" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Number of seconds until expiration.</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerToken.is_expired" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_expired</span><span class="p">(</span><span class="n">leeway</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#requests_oauth2client.tokens.BearerToken.is_expired" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Check if the access token is expired.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>leeway</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the token expires in the next given number of seconds,
then consider it expired already.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>One of:</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>True</code> if the access token is expired</li>
</ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>False</code> if it is still valid</li>
</ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <ul>
<li><code>None</code> if there is no expires_in hint.</li>
</ul>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leeway</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the access token is expired.</span>

<span class="sd">    Args:</span>
<span class="sd">        leeway: If the token expires in the next given number of seconds,</span>
<span class="sd">            then consider it expired already.</span>

<span class="sd">    Returns:</span>
<span class="sd">        One of:</span>

<span class="sd">        - `True` if the access token is expired</span>
<span class="sd">        - `False` if it is still valid</span>
<span class="sd">        - `None` if there is no expires_in hint.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">leeway</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerToken.authorization_header" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">authorization_header</span><span class="p">()</span></code>

<a href="#requests_oauth2client.tokens.BearerToken.authorization_header" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return the appropriate Authorization Header value for this token.</p>
<p>The value is formatted correctly according to RFC6750.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the value to use in an HTTP Authorization Header</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">authorization_header</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the appropriate Authorization Header value for this token.</span>

<span class="sd">    The value is formatted correctly according to RFC6750.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the value to use in an HTTP Authorization Header</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerToken.validate_id_token" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_id_token</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">azr</span><span class="p">)</span></code>

<a href="#requests_oauth2client.tokens.BearerToken.validate_id_token" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Validate that a token response is valid, and return the ID Token.</p>
<p>This will validate the id_token as described in <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">OIDC 1.0
$3.1.3.7</a>.</p>
<p>If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_id_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">OAuth2Client</span><span class="p">,</span> <span class="n">azr</span><span class="p">:</span> <span class="n">AuthorizationResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>  <span class="c1"># noqa: C901, PLR0915</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate that a token response is valid, and return the ID Token.</span>

<span class="sd">    This will validate the id_token as described in [OIDC 1.0</span>
<span class="sd">    $3.1.3.7](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span>

<span class="sd">    If the ID Token is encrypted, this decrypts it and returns the clear-text ID Token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingIdToken</span><span class="p">()</span>

    <span class="n">raw_id_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_token</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted while it should be clear-text&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">IdToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_encrypted_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is clear-text while it should be encrypted&quot;</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_id_token</span><span class="p">,</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">JweCompact</span><span class="p">):</span>
        <span class="n">enc_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_decryption_key</span>
        <span class="k">if</span> <span class="n">enc_jwk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is encrypted but client does not have a decryption key&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">nested_id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">enc_jwk</span><span class="p">)</span>
        <span class="n">id_token</span> <span class="o">=</span> <span class="n">IdToken</span><span class="p">(</span><span class="n">nested_id_token</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">id_token</span> <span class="o">=</span> <span class="n">raw_id_token</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;alg&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;ID Token does not contain an `alg` parameter to specify the signature&quot;</span>
            <span class="s2">&quot; algorithm, and no algorithm has been configured for the client (using param&quot;</span>
            <span class="s2">&quot; id_token_signed_response_alg`.&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingIdTokenAlg</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">alg</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span><span class="p">)</span>

    <span class="n">id_token_alg</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">alg</span> <span class="ow">or</span> <span class="n">client</span><span class="o">.</span><span class="n">id_token_signed_response_alg</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingIssuer</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">issuer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAudience</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">audiences</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;azp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">azp</span> <span class="o">!=</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAzp</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">azp</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">is_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">ExpiredIdToken</span><span class="p">(</span><span class="n">id_token</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">nonce</span> <span class="o">!=</span> <span class="n">azr</span><span class="o">.</span><span class="n">nonce</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingNonce</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span> <span class="ow">and</span> <span class="n">id_token</span><span class="o">.</span><span class="n">acr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MismatchingAcr</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">acr</span><span class="p">,</span> <span class="n">azr</span><span class="o">.</span><span class="n">acr_values</span><span class="p">)</span>

    <span class="n">hash_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># method used to calculate at_hash, s_hash, etc.</span>

    <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_SYMMETRIC</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is symmetrically signed but this client does not have a Client Secret.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">jwskate</span><span class="o">.</span><span class="n">SymmetricJwk</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">client_secret</span><span class="p">),</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">id_token_alg</span> <span class="ow">in</span> <span class="n">jwskate</span><span class="o">.</span><span class="n">SignatureAlgs</span><span class="o">.</span><span class="n">ALL_ASYMMETRIC</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but the Authorization Server JWKS is not available.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;kid&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;ID Token does not contain a Key ID (kid) to specify the asymmetric key &quot;</span>
                <span class="s2">&quot;to use for signature verification.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">verification_jwk</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorization_server_jwks</span><span class="o">.</span><span class="n">get_jwk_by_kid</span><span class="p">(</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ID Token is asymmetrically signed but its Key ID &#39;</span><span class="si">{</span><span class="n">id_token</span><span class="o">.</span><span class="n">kid</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="s2">&quot;is not part of the Authorization Server JWKS.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">id_token_alg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">verification_jwk</span><span class="o">.</span><span class="n">supported_signing_algorithms</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token is asymmetrically signed but its algorithm is not supported by the verification key.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">id_token</span><span class="o">.</span><span class="n">verify_signature</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">alg</span><span class="o">=</span><span class="n">id_token_alg</span><span class="p">)</span>

        <span class="n">hash_function</span> <span class="o">=</span> <span class="n">IdToken</span><span class="o">.</span><span class="n">hash_method</span><span class="p">(</span><span class="n">verification_jwk</span><span class="p">,</span> <span class="n">id_token_alg</span><span class="p">)</span>

    <span class="n">at_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;at_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">at_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expected_at_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_at_hash</span> <span class="o">!=</span> <span class="n">at_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;at_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_at_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">at_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">c_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;c_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">c_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expected_c_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_c_hash</span> <span class="o">!=</span> <span class="n">c_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;c_hash&#39; value: expected &#39;</span><span class="si">{</span><span class="n">expected_c_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">c_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">s_hash</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">get_claim</span><span class="p">(</span><span class="s2">&quot;s_hash&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">s_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;ID Token has a &#39;s_hash&#39; claim but no state was included in the request.&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">expected_s_hash</span> <span class="o">=</span> <span class="n">hash_function</span><span class="p">(</span><span class="n">azr</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expected_s_hash</span> <span class="o">!=</span> <span class="n">s_hash</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Mismatching &#39;s_hash&#39; value (expected &#39;</span><span class="si">{</span><span class="n">expected_s_hash</span><span class="si">}</span><span class="s2">&#39;, got &#39;</span><span class="si">{</span><span class="n">s_hash</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">auth_time</span> <span class="o">=</span> <span class="n">id_token</span><span class="o">.</span><span class="n">auth_time</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;A `max_age` parameter was included in the authorization request, &quot;</span>
                <span class="s2">&quot;but the ID Token does not contain an `auth_time` claim.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="n">auth_age</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">auth_time</span>
        <span class="k">if</span> <span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span> <span class="o">&gt;</span> <span class="n">azr</span><span class="o">.</span><span class="n">max_age</span> <span class="o">+</span> <span class="mi">60</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;User authentication happened too long ago. The `auth_time` parameter from&quot;</span>
                <span class="s2">&quot; the ID Token indicate that the last Authentication Time was at&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">auth_time</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">auth_age</span><span class="o">.</span><span class="n">seconds</span><span class="si">}</span><span class="s2"> sec ago), but the authorization request&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; `max_age` parameter specified that it must be maximum </span><span class="si">{</span><span class="n">azr</span><span class="o">.</span><span class="n">max_age</span><span class="si">}</span><span class="s2"> sec&quot;</span>
                <span class="s2">&quot; ago.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">InvalidIdToken</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
        <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">refresh_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_token</span><span class="p">,</span>
        <span class="n">token_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_type</span><span class="p">,</span>
        <span class="n">id_token</span><span class="o">=</span><span class="n">id_token</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerToken.as_dict" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">as_dict</span><span class="p">()</span></code>

<a href="#requests_oauth2client.tokens.BearerToken.as_dict" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Return a dict of parameters.</p>
<p>That is suitable for serialization or to init another BearerToken.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dict of parameters.</span>

<span class="sd">    That is suitable for serialization or to init another BearerToken.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
    <span class="n">d</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_in</span>
    <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.BearerTokenSerializer" class="doc doc-heading">
          <code>BearerTokenSerializer</code>


<a href="#requests_oauth2client.tokens.BearerTokenSerializer" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>A helper class to serialize Token Response returned by an AS.</p>
<p>This may be used to store BearerTokens in session or cookies.</p>
<p>It needs a <code>dumper</code> and a <code>loader</code> functions that will respectively serialize and deserialize
BearerTokens. Default implementations are provided with use gzip and base64url on the serialized
JSON representation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dumper</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>], str] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to serialize a token into a <code>str</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>loader</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[str], <a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>] | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a function to deserialize a serialized token representation.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BearerTokenSerializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A helper class to serialize Token Response returned by an AS.</span>

<span class="sd">    This may be used to store BearerTokens in session or cookies.</span>

<span class="sd">    It needs a `dumper` and a `loader` functions that will respectively serialize and deserialize</span>
<span class="sd">    BearerTokens. Default implementations are provided with use gzip and base64url on the serialized</span>
<span class="sd">    JSON representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        dumper: a function to serialize a token into a `str`.</span>
<span class="sd">        loader: a function to deserialize a serialized token representation.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dumper</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">BearerToken</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">loader</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">BearerToken</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span> <span class="o">=</span> <span class="n">dumper</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_dumper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">loader</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_loader</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize a token as JSON, then compress with deflate, then encodes as base64url.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: the `BearerToken` to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized value</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">as_dict</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a BearerToken.</span>

<span class="sd">        This does the opposite operations than `default_dumper`.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized token</span>
<span class="sd">            token_class: class to use to deserialize the Token</span>

<span class="sd">        Returns:</span>
<span class="sd">            a BearerToken</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
        <span class="n">expires_at</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expires_at</span><span class="p">:</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;expires_at&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">expires_at</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token_class</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given token for easier storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: a BearerToken to serialize</span>

<span class="sd">        Returns:</span>
<span class="sd">            the serialized token, as a str</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized token.</span>

<span class="sd">        Args:</span>
<span class="sd">            serialized: the serialized token</span>

<span class="sd">        Returns:</span>
<span class="sd">            the deserialized token</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerTokenSerializer.default_dumper" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_dumper" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Serialize a token as JSON, then compress with deflate, then encodes as base64url.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the <code>BearerToken</code> to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized value</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">default_dumper</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize a token as JSON, then compress with deflate, then encodes as base64url.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: the `BearerToken` to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized value</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">BinaPy</span><span class="o">.</span><span class="n">serialize_to</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">as_dict</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ascii</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerTokenSerializer.default_loader" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">default_loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">,</span> <span class="n">token_class</span><span class="o">=</span><span class="n">BearerToken</span><span class="p">)</span></code>

<a href="#requests_oauth2client.tokens.BearerTokenSerializer.default_loader" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Deserialize a BearerToken.</p>
<p>This does the opposite operations than <code>default_dumper</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token_class</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>class to use to deserialize the Token</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BearerToken</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">default_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BearerToken</span><span class="p">]</span> <span class="o">=</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a BearerToken.</span>

<span class="sd">    This does the opposite operations than `default_dumper`.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized token</span>
<span class="sd">        token_class: class to use to deserialize the Token</span>

<span class="sd">    Returns:</span>
<span class="sd">        a BearerToken</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="n">BinaPy</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;b64u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode_from</span><span class="p">(</span><span class="s2">&quot;deflate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parse_from</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
    <span class="n">expires_at</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expires_at&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expires_at</span><span class="p">:</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;expires_at&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">expires_at</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token_class</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerTokenSerializer.dumps" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">dumps</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

<a href="#requests_oauth2client.tokens.BearerTokenSerializer.dumps" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Serialize and compress a given token for easier storage.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a BearerToken to serialize</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token, as a str</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BearerToken</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize and compress a given token for easier storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: a BearerToken to serialize</span>

<span class="sd">    Returns:</span>
<span class="sd">        the serialized token, as a str</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dumper</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.tokens.BearerTokenSerializer.loads" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">loads</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span></code>

<a href="#requests_oauth2client.tokens.BearerTokenSerializer.loads" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Deserialize a serialized token.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>serialized</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the serialized token</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.BearerToken" href="#requests_oauth2client.tokens.BearerToken">BearerToken</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the deserialized token</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialized</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BearerToken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize a serialized token.</span>

<span class="sd">    Args:</span>
<span class="sd">        serialized: the serialized token</span>

<span class="sd">    Returns:</span>
<span class="sd">        the deserialized token</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.tokens.DPoPToken" class="doc doc-heading">
          <code>DPoPToken</code>


<a href="#requests_oauth2client.tokens.DPoPToken" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="requests_oauth2client.tokens.AccessToken" href="#requests_oauth2client.tokens.AccessToken">AccessToken</a></code></p>

  
      <p>Represents a DPoP Token.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">477</span>
<span class="normal">478</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DPoPToken</span><span class="p">(</span><span class="n">AccessToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a DPoP Token.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="requests_oauth2client.vendor_specific" class="doc doc-heading">
          <code>vendor_specific</code>


<a href="#requests_oauth2client.vendor_specific" class="headerlink" title="Permanent link">&para;</a></h3>

  <div class="doc doc-contents ">
  
      <p>Vendor-specific utilities.</p>
<p>This module contains vendor-specific subclasses of [requests_oauth2client] classes, that make it
easier to work with specific OAuth 2.x providers and/or fix compatibility issues.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.vendor_specific.Auth0" class="doc doc-heading">
          <code>Auth0</code>


<a href="#requests_oauth2client.vendor_specific.Auth0" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Auth0-related utilities.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Auth0</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auth0-related utilities.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">tenant</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Given a short tenant name, returns the full tenant FQDN.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You must specify a tenant name.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tenant</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.eu&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.us&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.au&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jp&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">tenant</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">.auth0.com&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">tenant</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tenant</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">tenant</span><span class="p">[</span><span class="mi">8</span><span class="p">:]</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Invalid tenant name. &quot;</span>
                <span class="s2">&quot;It must be a tenant name like &#39;mytenant.myregion&#39; &quot;</span>
                <span class="s2">&quot;or a full FQDN like &#39;mytenant.myregion.auth0.com&#39;.&quot;</span>
                <span class="s2">&quot;or an issuer like &#39;https://mytenant.myregion.auth0.com&#39;&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tenant</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client for an Auth0 tenant.&quot;&quot;&quot;</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">token_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/token&quot;</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/authorize&quot;</span>
        <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/revoke&quot;</span>
        <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/userinfo&quot;</span>
        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/.well-known/jwks.json&quot;</span>

        <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">management_api_client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a client for the Auth0 Management API.</span>

<span class="sd">        See [Auth0 Management API v2](https://auth0.com/docs/api/management/v2). You must provide the</span>
<span class="sd">        target tenant name and the credentials for a client that is allowed access to the Management</span>
<span class="sd">        API.</span>

<span class="sd">        Args:</span>
<span class="sd">            tenant: the tenant name.</span>
<span class="sd">                Same definition as for [Auth0.client][requests_oauth2client.vendor_specific.auth0.Auth0.client]</span>
<span class="sd">            auth: client credentials.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            client_id: the Client ID.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            client_secret: the Client Secret.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            private_jwk: the private key to use for client authentication.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            session: requests session.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            **kwargs: additional kwargs to pass to the ApiClient base class</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client.vendor_specific import Auth0</span>

<span class="sd">            a0mgmt = Auth0.management_api_client(&quot;mytenant.eu&quot;, client_id=client_id, client_secret=client_secret)</span>
<span class="sd">            users = a0mgmt.get(&quot;users&quot;, params={&quot;page&quot;: 0, &quot;per_page&quot;: 100})</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
            <span class="n">tenant</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">audience</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">/api/v2/&quot;</span>
        <span class="n">api_auth</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">audience</span><span class="o">=</span><span class="n">audience</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="n">audience</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">api_auth</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.vendor_specific.Auth0.tenant" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.Auth0.tenant" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Given a short tenant name, returns the full tenant FQDN.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">tenant</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a short tenant name, returns the full tenant FQDN.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You must specify a tenant name.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tenant</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.eu&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.us&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.au&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jp&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">.auth0.com&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">tenant</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tenant</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">tenant</span><span class="p">[</span><span class="mi">8</span><span class="p">:]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;Invalid tenant name. &quot;</span>
            <span class="s2">&quot;It must be a tenant name like &#39;mytenant.myregion&#39; &quot;</span>
            <span class="s2">&quot;or a full FQDN like &#39;mytenant.myregion.auth0.com&#39;.&quot;</span>
            <span class="s2">&quot;or an issuer like &#39;https://mytenant.myregion.auth0.com&#39;&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tenant</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.vendor_specific.Auth0.client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.Auth0.client" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client for an Auth0 tenant.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client for an Auth0 tenant.&quot;&quot;&quot;</span>
    <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
    <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">token_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/token&quot;</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/authorize&quot;</span>
    <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/revoke&quot;</span>
    <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/userinfo&quot;</span>
    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/.well-known/jwks.json&quot;</span>

    <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.vendor_specific.Auth0.management_api_client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">management_api_client</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.Auth0.management_api_client" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Initialize a client for the Auth0 Management API.</p>
<p>See <a href="https://auth0.com/docs/api/management/v2">Auth0 Management API v2</a>. You must provide the
target tenant name and the credentials for a client that is allowed access to the Management
API.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>tenant</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the tenant name.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.vendor_specific.auth0.Auth0.client">Auth0.client</a></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | tuple[str, <span title="jwskate.Jwk">Jwk</span>] | tuple[str, dict[str, <span title="typing.Any">Any</span>]] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client credentials.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client ID.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client Secret.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="typing.Any">Any</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the private key to use for client authentication.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>requests session.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the ApiClient base class</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_oauth2client.vendor_specific</span> <span class="kn">import</span> <span class="n">Auth0</span>

<span class="n">a0mgmt</span> <span class="o">=</span> <span class="n">Auth0</span><span class="o">.</span><span class="n">management_api_client</span><span class="p">(</span><span class="s2">&quot;mytenant.eu&quot;</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">)</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">a0mgmt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;per_page&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
</details>
          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">management_api_client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a client for the Auth0 Management API.</span>

<span class="sd">    See [Auth0 Management API v2](https://auth0.com/docs/api/management/v2). You must provide the</span>
<span class="sd">    target tenant name and the credentials for a client that is allowed access to the Management</span>
<span class="sd">    API.</span>

<span class="sd">    Args:</span>
<span class="sd">        tenant: the tenant name.</span>
<span class="sd">            Same definition as for [Auth0.client][requests_oauth2client.vendor_specific.auth0.Auth0.client]</span>
<span class="sd">        auth: client credentials.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        client_id: the Client ID.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        client_secret: the Client Secret.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        private_jwk: the private key to use for client authentication.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        session: requests session.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        **kwargs: additional kwargs to pass to the ApiClient base class</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        from requests_oauth2client.vendor_specific import Auth0</span>

<span class="sd">        a0mgmt = Auth0.management_api_client(&quot;mytenant.eu&quot;, client_id=client_id, client_secret=client_secret)</span>
<span class="sd">        users = a0mgmt.get(&quot;users&quot;, params={&quot;page&quot;: 0, &quot;per_page&quot;: 100})</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
        <span class="n">tenant</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">audience</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">/api/v2/&quot;</span>
    <span class="n">api_auth</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">audience</span><span class="o">=</span><span class="n">audience</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
        <span class="n">base_url</span><span class="o">=</span><span class="n">audience</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">api_auth</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h4 id="requests_oauth2client.vendor_specific.Ping" class="doc doc-heading">
          <code>Ping</code>


<a href="#requests_oauth2client.vendor_specific.Ping" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Ping Identity related utilities.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/vendor_specific/ping.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Ping</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ping Identity related utilities.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an OAuth2Client for PingFederate.</span>

<span class="sd">        This will configure all endpoints with PingID specific urls, without using the metadata.</span>
<span class="sd">        Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage</span>
<span class="sd">        over using `OAuth2Client.from_discovery_endpoint(issuer=&quot;https://myissuer.domain.tld&quot;)`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">issuer</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must be an https:// url or a domain name without a scheme.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must contain at least a dot in the domain name.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/authorization.oauth2&quot;</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/token.oauth2&quot;</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/revoke_token.oauth2&quot;</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/userinfo.openid&quot;</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/introspect.oauth2&quot;</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf/JWKS&quot;</span><span class="p">,</span>
            <span class="n">registration_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/clients.oauth2&quot;</span><span class="p">,</span>
            <span class="n">ping_revoked_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/revokedSris&quot;</span><span class="p">,</span>
            <span class="n">ping_session_management_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/sessions&quot;</span><span class="p">,</span>
            <span class="n">ping_session_management_users_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/users&quot;</span><span class="p">,</span>
            <span class="n">ping_end_session_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/startSLO.ping&quot;</span><span class="p">,</span>
            <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/device_authz.oauth2&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h5 id="requests_oauth2client.vendor_specific.Ping.client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.Ping.client" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">
  
      <p>Initialize an OAuth2Client for PingFederate.</p>
<p>This will configure all endpoints with PingID specific urls, without using the metadata.
Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage
over using <code>OAuth2Client.from_discovery_endpoint(issuer="https://myissuer.domain.tld")</code>.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/ping.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize an OAuth2Client for PingFederate.</span>

<span class="sd">    This will configure all endpoints with PingID specific urls, without using the metadata.</span>
<span class="sd">    Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage</span>
<span class="sd">    over using `OAuth2Client.from_discovery_endpoint(issuer=&quot;https://myissuer.domain.tld&quot;)`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">issuer</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must be an https:// url or a domain name without a scheme.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must contain at least a dot in the domain name.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/authorization.oauth2&quot;</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/token.oauth2&quot;</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/revoke_token.oauth2&quot;</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/userinfo.openid&quot;</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/introspect.oauth2&quot;</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf/JWKS&quot;</span><span class="p">,</span>
        <span class="n">registration_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/clients.oauth2&quot;</span><span class="p">,</span>
        <span class="n">ping_revoked_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/revokedSris&quot;</span><span class="p">,</span>
        <span class="n">ping_session_management_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/sessions&quot;</span><span class="p">,</span>
        <span class="n">ping_session_management_users_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/users&quot;</span><span class="p">,</span>
        <span class="n">ping_end_session_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/startSLO.ping&quot;</span><span class="p">,</span>
        <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/device_authz.oauth2&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-module">



<h4 id="requests_oauth2client.vendor_specific.auth0" class="doc doc-heading">
          <code>auth0</code>


<a href="#requests_oauth2client.vendor_specific.auth0" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-contents ">
  
      <p>Implements subclasses for <a href="https://auth0.com">Auth0</a>.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h5 id="requests_oauth2client.vendor_specific.auth0.Auth0" class="doc doc-heading">
          <code>Auth0</code>


<a href="#requests_oauth2client.vendor_specific.auth0.Auth0" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">

  
      <p>Auth0-related utilities.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Auth0</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auth0-related utilities.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">tenant</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Given a short tenant name, returns the full tenant FQDN.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You must specify a tenant name.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tenant</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.eu&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.us&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.au&quot;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jp&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">tenant</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">.auth0.com&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">tenant</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tenant</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">tenant</span><span class="p">[</span><span class="mi">8</span><span class="p">:]</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Invalid tenant name. &quot;</span>
                <span class="s2">&quot;It must be a tenant name like &#39;mytenant.myregion&#39; &quot;</span>
                <span class="s2">&quot;or a full FQDN like &#39;mytenant.myregion.auth0.com&#39;.&quot;</span>
                <span class="s2">&quot;or an issuer like &#39;https://mytenant.myregion.auth0.com&#39;&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tenant</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client for an Auth0 tenant.&quot;&quot;&quot;</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">token_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/token&quot;</span>
        <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/authorize&quot;</span>
        <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/revoke&quot;</span>
        <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/userinfo&quot;</span>
        <span class="n">jwks_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/.well-known/jwks.json&quot;</span>

        <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">management_api_client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a client for the Auth0 Management API.</span>

<span class="sd">        See [Auth0 Management API v2](https://auth0.com/docs/api/management/v2). You must provide the</span>
<span class="sd">        target tenant name and the credentials for a client that is allowed access to the Management</span>
<span class="sd">        API.</span>

<span class="sd">        Args:</span>
<span class="sd">            tenant: the tenant name.</span>
<span class="sd">                Same definition as for [Auth0.client][requests_oauth2client.vendor_specific.auth0.Auth0.client]</span>
<span class="sd">            auth: client credentials.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            client_id: the Client ID.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            client_secret: the Client Secret.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            private_jwk: the private key to use for client authentication.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            session: requests session.</span>
<span class="sd">                Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">            **kwargs: additional kwargs to pass to the ApiClient base class</span>

<span class="sd">        Usage:</span>
<span class="sd">            ```python</span>
<span class="sd">            from requests_oauth2client.vendor_specific import Auth0</span>

<span class="sd">            a0mgmt = Auth0.management_api_client(&quot;mytenant.eu&quot;, client_id=client_id, client_secret=client_secret)</span>
<span class="sd">            users = a0mgmt.get(&quot;users&quot;, params={&quot;page&quot;: 0, &quot;per_page&quot;: 100})</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
            <span class="n">tenant</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">audience</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">/api/v2/&quot;</span>
        <span class="n">api_auth</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">audience</span><span class="o">=</span><span class="n">audience</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="n">audience</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">api_auth</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h6 id="requests_oauth2client.vendor_specific.auth0.Auth0.tenant" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.auth0.Auth0.tenant" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">
  
      <p>Given a short tenant name, returns the full tenant FQDN.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">tenant</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a short tenant name, returns the full tenant FQDN.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tenant</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You must specify a tenant name.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tenant</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.eu&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.us&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.au&quot;</span><span class="p">)</span>
        <span class="ow">or</span> <span class="n">tenant</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jp&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">tenant</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">.auth0.com&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">tenant</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tenant</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">tenant</span><span class="p">[</span><span class="mi">8</span><span class="p">:]</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;Invalid tenant name. &quot;</span>
            <span class="s2">&quot;It must be a tenant name like &#39;mytenant.myregion&#39; &quot;</span>
            <span class="s2">&quot;or a full FQDN like &#39;mytenant.myregion.auth0.com&#39;.&quot;</span>
            <span class="s2">&quot;or an issuer like &#39;https://mytenant.myregion.auth0.com&#39;&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tenant</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h6 id="requests_oauth2client.vendor_specific.auth0.Auth0.client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.auth0.Auth0.client" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">
  
      <p>Initialise an OAuth2Client for an Auth0 tenant.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise an OAuth2Client for an Auth0 tenant.&quot;&quot;&quot;</span>
    <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
    <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">token_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/token&quot;</span>
    <span class="n">authorization_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/authorize&quot;</span>
    <span class="n">revocation_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/oauth/revoke&quot;</span>
    <span class="n">userinfo_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/userinfo&quot;</span>
    <span class="n">jwks_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/.well-known/jwks.json&quot;</span>

    <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="n">token_endpoint</span><span class="p">,</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="n">authorization_endpoint</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="n">revocation_endpoint</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="n">userinfo_endpoint</span><span class="p">,</span>
        <span class="n">issuer</span><span class="o">=</span><span class="n">issuer</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="n">jwks_uri</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h6 id="requests_oauth2client.vendor_specific.auth0.Auth0.management_api_client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">management_api_client</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.auth0.Auth0.management_api_client" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">
  
      <p>Initialize a client for the Auth0 Management API.</p>
<p>See <a href="https://auth0.com/docs/api/management/v2">Auth0 Management API v2</a>. You must provide the
target tenant name and the credentials for a client that is allowed access to the Management
API.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>tenant</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the tenant name.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.vendor_specific.auth0.Auth0.client">Auth0.client</a></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>auth</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.auth.AuthBase" href="https://requests.readthedocs.io/en/master/api/#requests.auth.AuthBase">AuthBase</a> | tuple[str, str] | tuple[str, <span title="jwskate.Jwk">Jwk</span>] | tuple[str, dict[str, <span title="typing.Any">Any</span>]] | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>client credentials.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client ID.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>client_secret</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the Client Secret.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>private_jwk</code></td>
          <td>
                <code><span title="typing.Any">Any</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the private key to use for client authentication.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>session</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="requests.Session" href="https://requests.readthedocs.io/en/master/api/#requests.Session">Session</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>requests session.
Same definition as for <a class="autorefs autorefs-internal" href="#requests_oauth2client.client.OAuth2Client">OAuth2Client</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>additional kwargs to pass to the ApiClient base class</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_oauth2client.vendor_specific</span> <span class="kn">import</span> <span class="n">Auth0</span>

<span class="n">a0mgmt</span> <span class="o">=</span> <span class="n">Auth0</span><span class="o">.</span><span class="n">management_api_client</span><span class="p">(</span><span class="s2">&quot;mytenant.eu&quot;</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">)</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">a0mgmt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;per_page&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
</details>
          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/auth0.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">management_api_client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">tenant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Jwk</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ApiClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a client for the Auth0 Management API.</span>

<span class="sd">    See [Auth0 Management API v2](https://auth0.com/docs/api/management/v2). You must provide the</span>
<span class="sd">    target tenant name and the credentials for a client that is allowed access to the Management</span>
<span class="sd">    API.</span>

<span class="sd">    Args:</span>
<span class="sd">        tenant: the tenant name.</span>
<span class="sd">            Same definition as for [Auth0.client][requests_oauth2client.vendor_specific.auth0.Auth0.client]</span>
<span class="sd">        auth: client credentials.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        client_id: the Client ID.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        client_secret: the Client Secret.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        private_jwk: the private key to use for client authentication.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        session: requests session.</span>
<span class="sd">            Same definition as for [OAuth2Client][requests_oauth2client.client.OAuth2Client]</span>
<span class="sd">        **kwargs: additional kwargs to pass to the ApiClient base class</span>

<span class="sd">    Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        from requests_oauth2client.vendor_specific import Auth0</span>

<span class="sd">        a0mgmt = Auth0.management_api_client(&quot;mytenant.eu&quot;, client_id=client_id, client_secret=client_secret)</span>
<span class="sd">        users = a0mgmt.get(&quot;users&quot;, params={&quot;page&quot;: 0, &quot;per_page&quot;: 100})</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tenant</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">tenant</span><span class="p">(</span><span class="n">tenant</span><span class="p">)</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
        <span class="n">tenant</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">audience</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">tenant</span><span class="si">}</span><span class="s2">/api/v2/&quot;</span>
    <span class="n">api_auth</span> <span class="o">=</span> <span class="n">OAuth2ClientCredentialsAuth</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">audience</span><span class="o">=</span><span class="n">audience</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ApiClient</span><span class="p">(</span>
        <span class="n">base_url</span><span class="o">=</span><span class="n">audience</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">api_auth</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="requests_oauth2client.vendor_specific.ping" class="doc doc-heading">
          <code>ping</code>


<a href="#requests_oauth2client.vendor_specific.ping" class="headerlink" title="Permanent link">&para;</a></h4>

  <div class="doc doc-contents ">
  
      <p>PingID specific client.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h5 id="requests_oauth2client.vendor_specific.ping.Ping" class="doc doc-heading">
          <code>Ping</code>


<a href="#requests_oauth2client.vendor_specific.ping.Ping" class="headerlink" title="Permanent link">&para;</a></h5>


  <div class="doc doc-contents ">

  
      <p>Ping Identity related utilities.</p>

            <details class="quote">
              <summary>Source code in <code>requests_oauth2client/vendor_specific/ping.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Ping</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ping Identity related utilities.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an OAuth2Client for PingFederate.</span>

<span class="sd">        This will configure all endpoints with PingID specific urls, without using the metadata.</span>
<span class="sd">        Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage</span>
<span class="sd">        over using `OAuth2Client.from_discovery_endpoint(issuer=&quot;https://myissuer.domain.tld&quot;)`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">issuer</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must be an https:// url or a domain name without a scheme.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must contain at least a dot in the domain name.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
            <span class="n">authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/authorization.oauth2&quot;</span><span class="p">,</span>
            <span class="n">token_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/token.oauth2&quot;</span><span class="p">,</span>
            <span class="n">revocation_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/revoke_token.oauth2&quot;</span><span class="p">,</span>
            <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/userinfo.openid&quot;</span><span class="p">,</span>
            <span class="n">introspection_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/introspect.oauth2&quot;</span><span class="p">,</span>
            <span class="n">jwks_uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf/JWKS&quot;</span><span class="p">,</span>
            <span class="n">registration_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/clients.oauth2&quot;</span><span class="p">,</span>
            <span class="n">ping_revoked_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/revokedSris&quot;</span><span class="p">,</span>
            <span class="n">ping_session_management_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/sessions&quot;</span><span class="p">,</span>
            <span class="n">ping_session_management_users_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/users&quot;</span><span class="p">,</span>
            <span class="n">ping_end_session_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/startSLO.ping&quot;</span><span class="p">,</span>
            <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/device_authz.oauth2&quot;</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h6 id="requests_oauth2client.vendor_specific.ping.Ping.client" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">client</span><span class="p">(</span><span class="n">issuer</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private_jwk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#requests_oauth2client.vendor_specific.ping.Ping.client" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">
  
      <p>Initialize an OAuth2Client for PingFederate.</p>
<p>This will configure all endpoints with PingID specific urls, without using the metadata.
Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage
over using <code>OAuth2Client.from_discovery_endpoint(issuer="https://myissuer.domain.tld")</code>.</p>

          <details class="quote">
            <summary>Source code in <code>requests_oauth2client/vendor_specific/ping.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">client</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">issuer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">auth</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">private_jwk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuth2Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize an OAuth2Client for PingFederate.</span>

<span class="sd">    This will configure all endpoints with PingID specific urls, without using the metadata.</span>
<span class="sd">    Excepted for avoiding a round-trip to get the metadata url, this does not provide any advantage</span>
<span class="sd">    over using `OAuth2Client.from_discovery_endpoint(issuer=&quot;https://myissuer.domain.tld&quot;)`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">issuer</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;://&quot;</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must be an https:// url or a domain name without a scheme.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">issuer</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">issuer</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid issuer. It must contain at least a dot in the domain name.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">OAuth2Client</span><span class="p">(</span>
        <span class="n">authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/authorization.oauth2&quot;</span><span class="p">,</span>
        <span class="n">token_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/token.oauth2&quot;</span><span class="p">,</span>
        <span class="n">revocation_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/revoke_token.oauth2&quot;</span><span class="p">,</span>
        <span class="n">userinfo_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/userinfo.openid&quot;</span><span class="p">,</span>
        <span class="n">introspection_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/introspect.oauth2&quot;</span><span class="p">,</span>
        <span class="n">jwks_uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf/JWKS&quot;</span><span class="p">,</span>
        <span class="n">registration_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/clients.oauth2&quot;</span><span class="p">,</span>
        <span class="n">ping_revoked_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/revokedSris&quot;</span><span class="p">,</span>
        <span class="n">ping_session_management_sris_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/sessions&quot;</span><span class="p">,</span>
        <span class="n">ping_session_management_users_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/pf-ws/rest/sessionMgmt/users&quot;</span><span class="p">,</span>
        <span class="n">ping_end_session_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/idp/startSLO.ping&quot;</span><span class="p">,</span>
        <span class="n">device_authorization_endpoint</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">issuer</span><span class="si">}</span><span class="s2">/as/device_authz.oauth2&quot;</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="n">private_jwk</span><span class="o">=</span><span class="n">private_jwk</span><span class="p">,</span>
        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>


  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../installation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Installation
              </div>
            </div>
          </a>
        
        
          
          <a href="../contributing/" class="md-footer__link md-footer__link--next" aria-label="Next: Contributing">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Contributing
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/guillp/requests_oauth2client" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:guill.p.linux@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky", "navigation.footer", "content.code.copy", "content.action.view"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>